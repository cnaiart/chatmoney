var e,t;import{_ as l}from"./page-meta.d2ccf398.js";import{o as a,c as s,w as n,b as i,f as o,j as r,i as c,J as u,m as d,n as h,D as p,aN as f,r as m,a as g,k as y,F as v,l as x,K as k,t as b,g as _,d as w,s as S,x as C,M as q,aG as $,e as z,aH as L,aJ as A,aV as I,aW as E,a9 as R,O as M,A as B,aT as H,aX as j,aY as K,p as V,B as U,h as F,N as P,u as N,I as T,L as D,ax as O,T as W,aZ as Y,ad as J,aC as Q}from"./index-9f08b835.js";import{F as X}from"./floating-menu.a8f47c3e.js";import{_ as G}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as Z}from"./u-badge.508fc5b2.js";import{_ as ee}from"./u-icon.f0423eb2.js";import{_ as te}from"./u-tag.d6be710f.js";import{u as le,a as ae,b as se}from"./index.f8572cdb.js";import{i as ne}from"./isString.bf535bd9.js";import{_ as ie}from"./u-input.6dc4a2b4.js";import{_ as oe}from"./u-button.cd082997.js";import{_ as re}from"./u-navbar.9b578443.js";import{m as ce,a as ue}from"./mixin.c6ddb3c1.js";import{_ as de}from"./ua-markdown.f5ba7fba.js";import{u as he}from"./useCopy.7659937f.js";import{_ as pe,a as fe}from"./u-collapse.3475c9a9.js";import{T as me,F as ge}from"./index.57b9bfa7.js";import{_ as ye}from"./u-image.e6fb9592.js";import"./index.73309c03.js";import"./emitter.1571a5d9.js";import"./katex.30814119.js";import"./_commonjsHelpers.157f59fb.js";import"./mp-html.6ddc2dff.js";const ve=G({},[["render",function(e,t){const l=r,u=c;return a(),s(l,{class:"flex flex-col text-center pt-[180rpx] pb-[50rpx] text-[50rpx] title font-bold relative"},{default:n((()=>[i(l,{class:"title text-primary"},{default:n((()=>[o("快搜准答")])),_:1}),i(l,{class:"title"},{default:n((()=>[o("懂你更懂世界")])),_:1}),i(u,{class:"w-[200rpx] h-[200rpx] absolute right-[-100rpx] bottom-[10rpx]",src:"/mobile/assets/ai_search-8360db3f.png"})])),_:1})}]]),xe={default:{icons:{document:['<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><defs><clipPath id="a"><rect width="28" height="28" fill="#22ac38" rx="0"/></clipPath></defs><g fill="#22ac38" clip-path="url(#a)"><path d="M22.75 10.5h-7v-7H5.25v21h17.5zm-.71-1.75L17.5 4.21v4.54zm-17.665-7H17.5l7 7v16.625a.85.85 0 0 1-.245.63.85.85 0 0 1-.63.245H4.375a.85.85 0 0 1-.63-.245.85.85 0 0 1-.245-.63V2.625q0-.382.245-.63a.85.85 0 0 1 .63-.245M8.75 14h10.5v1.75H8.75zm0-5.25h4.375v1.75H8.75zm0 10.5h10.5V21H8.75z" style="mix-blend-mode:passthrough"/><path fill-rule="evenodd" d="M4.377 1.65q-.41-.014-.702.274h-.001q-.274.278-.274.701v22.748q-.014.41.275.703.292.289.702.274h19.246q.41.015.703-.275.289-.292.274-.702V8.71l-7.058-7.06zm-.561.416q-.216.218-.216.56v22.753q-.012.325.215.555.232.228.556.216H23.63q.325.012.555-.215.228-.231.216-.556V8.792L17.46 1.85H4.37q-.324-.012-.555.216M5.15 24.6h17.7V10.4h-7v-7H5.15zm17.5-.2H5.35V3.6h10.3v7h7zM17.4 3.97v4.88h4.881zm.2 4.68h4.198L17.6 4.452zm-8.95 0v1.95h4.575V8.65zm.2 1.75h4.175V8.85H8.85zm-.2 3.5v1.95h10.7V13.9zm.2 1.75h10.3V14.1H8.85zm-.2 3.5v1.95h10.7v-1.95zm.2 1.75h10.3v-1.55H8.85z"/></g></svg>',0],"fullscreen-exit":['<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" class="icon" viewBox="0 0 1024 1024"><path fill="#22ac38" d="M379.336 697.237 153.362 921.55c-14.11 14.007-36.905 13.922-50.912-.188s-13.922-36.905.188-50.912l227.6-225.927H138.645c-18.99 0-34.385-15.446-34.385-34.5 0-19.053 15.395-34.5 34.385-34.5H413.72c18.99 0 34.384 15.447 34.384 34.5v276c0 9.15-3.622 17.926-10.07 24.396a34.33 34.33 0 0 1-24.314 10.104 34.33 34.33 0 0 1-24.314-10.104 34.56 34.56 0 0 1-10.071-24.396V697.237zm263.395-366.88 227.813-227.813c14.059-14.059 36.853-14.059 50.912 0s14.059 36.853 0 50.912l-225.18 225.18h187.147c18.99 0 34.385 15.445 34.385 34.5 0 19.053-15.395 34.5-34.385 34.5H608.346c-18.99 0-34.384-15.447-34.384-34.5v-276c0-9.15 3.622-17.926 10.07-24.396a34.33 34.33 0 0 1 24.314-10.105c9.12 0 17.865 3.635 24.314 10.105a34.56 34.56 0 0 1 10.07 24.395zM99.385 410a34.33 34.33 0 0 1-24.314-10.105A34.56 34.56 0 0 1 65 375.5v-276C65 80.446 80.395 65 99.385 65h275.077c18.99 0 34.384 15.446 34.384 34.5S393.452 134 374.462 134H133.769v241.5c0 9.15-3.622 17.925-10.07 24.395A34.33 34.33 0 0 1 99.384 410zm825.23 552H649.538c-18.99 0-34.384-15.446-34.384-34.5s15.394-34.5 34.384-34.5h240.693V651.5c0-19.054 15.394-34.5 34.384-34.5S959 632.446 959 651.5v276c0 19.054-15.395 34.5-34.385 34.5"/></svg>',0],fullscreen:['<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" class="icon" viewBox="0 0 1024 1024"><path fill="#22ac38" d="M924 616a36 36 0 0 0-36 36v236H652a36 36 0 0 0 0 72h272a36 36 0 0 0 36-36V652a36 36 0 0 0-36-36M372 64H100a36 36 0 0 0-36 36v272a36 36 0 0 0 72 0V136h236a36 36 0 0 0 0-72m552 0H652a36 36 0 0 0 0 72h185.09L626.54 346.54a36 36 0 1 0 50.92 50.91L888 186.91V372a36 36 0 0 0 72 0V100a36 36 0 0 0-36-36M372 616a35.87 35.87 0 0 0-25.46 10.55L136 837.09V652a36 36 0 0 0-72 0v272a36 36 0 0 0 36 36h272a36 36 0 0 0 0-72H186.91l210.55-210.54A36 36 0 0 0 372 616"/></svg>',0],link:['<svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" fill="none"><defs><clipPath id="a"><rect width="34" height="34" rx="0"/></clipPath></defs><g fill="#101010" clip-path="url(#a)"><path d="M19.407 14.795a5.5 5.5 0 0 0-.56-.484 1.113 1.113 0 0 0-1.623 1.517q.117.14.274.236c.105.087.208.172.305.268l.091.092c1.153 1.152.809 3.138-.344 4.291l-4.918 4.922a2.96 2.96 0 0 1-4.179 0l-.092-.093a2.96 2.96 0 0 1 0-4.181l2.173-2.174a1.208 1.208 0 0 0-1.429-1.947l-.002-.005-.023.022a1.2 1.2 0 0 0-.23.215L6.592 19.59c-2.123 2.126-2.123 5.604 0 7.727l.092.092c2.122 2.123 5.594 2.123 7.717 0l4.917-4.923c2.12-2.125 2.299-5.476.18-7.6z" style="mix-blend-mode:passthrough"/><path d="m27.405 6.737-.092-.094a5.37 5.37 0 0 0-7.732 0l-4.926 5.075c-2.127 2.19-2.244 5.354-.117 7.546l.09.092q.145.149.3.283.11.128.257.216l.002.002c.155.09.333.143.524.143.58 0 1.052-.485 1.052-1.083 0-.17-.038-.33-.105-.472-.139-.321-.399-.517-.58-.703l-.09-.091c-1.154-1.19-.716-2.918.439-4.107l4.93-5.074a2.9 2.9 0 0 1 4.184 0l.092.093c1.155 1.19 1.155 3.125 0 4.313l-2.17 2.237a1.25 1.25 0 0 0-.487.994c0 .683.538 1.236 1.2 1.236.232 0 .447-.067.63-.183l.004.007.034-.032q.155-.109.273-.26l2.287-2.173c2.128-2.19 2.128-5.774.001-7.965" style="mix-blend-mode:passthrough"/></g></svg>',1],mind_map:['<svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" fill="none"><defs><clipPath id="a"><rect width="34" height="34" rx="0"/></clipPath></defs><g clip-path="url(#a)"><path fill="#101010" d="M19.161 7.792c0 .844.685 1.534 1.521 1.534h6.083c.836 0 1.52-.69 1.52-1.534V6.257c0-.844-.684-1.535-1.52-1.535h-6.083c-.836 0-1.52.69-1.52 1.535-4.791 0-8.897 3.223-10.19 7.673H6.235c-.836 0-1.52.691-1.52 1.535v3.07c0 .844.684 1.534 1.52 1.534h2.737c1.293 4.451 5.399 7.674 10.19 7.674 0 .844.684 1.535 1.52 1.535h6.083c.836 0 1.52-.69 1.52-1.535v-1.535c0-.844-.684-1.534-1.52-1.534h-6.083c-.836 0-1.52.69-1.52 1.534a9.06 9.06 0 0 1-8.593-6.139h1.749c.836 0 1.52-.69 1.52-1.534v-.768h5.323c0 .844.685 1.535 1.521 1.535h6.083c.836 0 1.52-.69 1.52-1.535v-1.534c0-.845-.684-1.535-1.52-1.535h-6.083c-.836 0-1.52.69-1.52 1.535h-5.323v-.768c0-.844-.685-1.535-1.521-1.535h-1.749a9.06 9.06 0 0 1 8.592-6.138m1.521-1.535h6.083v1.535h-6.083zm0 19.951h6.083v1.535h-6.083zm0-9.975h6.083v1.534h-6.083z" style="mix-blend-mode:passthrough"/></g></svg>',1],outline:['<svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" fill="none"><defs><clipPath id="a"><rect width="34" height="34" rx="0"/></clipPath></defs><g clip-path="url(#a)"><path fill="#101010" d="M5.929 7C4.863 7 4 7.784 4 8.75s.863 1.75 1.929 1.75c1.065 0 1.928-.784 1.928-1.75S6.994 7 5.93 7m0 8.75c-1.067 0-1.93.784-1.93 1.75s.863 1.75 1.929 1.75c1.065 0 1.928-.784 1.928-1.75s-.863-1.75-1.928-1.75M4 26.25c0-.966.863-1.75 1.929-1.75 1.065 0 1.928.784 1.928 1.75S6.994 28 5.93 28C4.863 28 4 27.216 4 26.25M13.643 7c-1.065 0-1.929.784-1.929 1.75s.864 1.75 1.929 1.75H29.07c1.067 0 1.93-.784 1.93-1.75S30.137 7 29.071 7zm-1.929 10.5c0-.966.864-1.75 1.929-1.75H29.07c1.066 0 1.929.784 1.929 1.75s-.863 1.75-1.929 1.75H13.643c-1.065 0-1.929-.784-1.929-1.75m1.929 7c-1.065 0-1.929.784-1.929 1.75S12.578 28 13.643 28H29.07c1.067 0 1.93-.784 1.93-1.75s-.863-1.75-1.929-1.75z" style="mix-blend-mode:passthrough"/></g></svg>',1],science:['<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><defs><clipPath id="a"><rect width="28" height="28" fill="#22ac38" rx="0"/></clipPath></defs><g clip-path="url(#a)"><path fill="#22ac38" d="M22.026 2.105c1.217 0 2.203.986 2.203 2.2v15.278c0 1.215-.986 2.2-2.203 2.2H5.215c-.843 0-1.5.607-1.5 1.32 0 .707.644 1.309 1.475 1.32l.025.001h19.014a.818.818 0 0 1 .02 1.634H5.214c-1.719 0-3.137-1.307-3.137-2.954q0-.083.005-.163l-.005-.07V4.307c0-1.215.986-2.2 2.203-2.2zm0 1.635H4.281a.566.566 0 0 0-.567.55v15.293c0 .307.245.557.55.566h17.762a.566.566 0 0 0 .566-.55V4.307a.566.566 0 0 0-.549-.566zm-1.636 9.493a.818.818 0 0 1 .02 1.635H5.917a.818.818 0 0 1-.02-1.634zm0-4.652a.818.818 0 0 1 .02 1.634H5.917a.818.818 0 0 1-.02-1.634z" style="mix-blend-mode:passthrough"/></g></svg>',0],search_base:['<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><rect width="14" height="2.667" x="8" y="6" fill="#22ac38" rx="1.333"/><rect width="18" height="2.667" x="4" y="12.666" fill="#22ac38" rx="1.333"/><rect width="18" height="2.667" x="4" y="19.333" fill="#22ac38" rx="1.333"/><rect width="2.769" height="2.667" x="4" y="6" fill="#22ac38" fill-opacity=".6" rx="1.333"/></svg>',0],search_copilot:['<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path fill="#22ac38" fill-rule="evenodd" d="M6.308 16.393q1.144-2.176 1.599-3.721.464-1.579.168-2.138-.151-.286-.902-.314-1.72.5-1.89 2.08-.183 1.696 1.025 4.093m19.71 8.384q.184-.195.283-.444t.099-.516q0-.07-.007-.138-.006-.068-.02-.135-.013-.068-.033-.134t-.047-.13q-.026-.063-.058-.123-.033-.06-.07-.118-.04-.057-.083-.11-.043-.054-.092-.102-.049-.049-.102-.093-.053-.043-.11-.081t-.118-.071-.124-.059-.13-.046-.133-.033-.136-.02-.137-.007q-.143 0-.283.029t-.272.085-.248.14q-.118.081-.216.185-2.486 2.639-8.748 1.58-4.064-.687-7.26-5.27 1.945-3.408 2.62-5.704.786-2.672-.043-4.238Q9.593 7.417 7 7.417h-.172l-.168.041Q2.886 8.402 2.5 12q-.298 2.767 1.65 6.3.265.48.537.934-1.566 2.569-3.83 5.775-.125.177-.19.384Q.6 25.6.6 25.817q0 .068.007.137.006.068.02.136.013.067.033.133t.047.13.058.124q.033.06.07.117.04.058.083.11.043.054.092.103t.102.092.11.082q.057.038.118.07t.124.06q.064.025.13.045.065.02.133.034.067.013.136.02.068.007.137.007.168 0 .332-.04.163-.04.312-.117.15-.078.276-.188t.224-.248l.003-.005q1.85-2.62 3.261-4.858 3.62 4.635 8.359 5.436 7.737 1.308 11.251-2.42"/><path fill="#22ac38" d="M15.523 8.232a.2.2 0 0 0 0 .38l3.466 1.116a2 2 0 0 1 1.291 1.291l1.116 3.467a.2.2 0 0 0 .38 0l1.117-3.467a2 2 0 0 1 1.29-1.29l3.467-1.117a.2.2 0 0 0 0-.38l-3.466-1.116a2 2 0 0 1-1.291-1.291l-1.116-3.467a.2.2 0 0 0-.381 0L20.28 5.825a2 2 0 0 1-1.29 1.29z" style="opacity:.6000000238418579" transform="rotate(13.763 14.931 1.767)"/></svg>',0],search_research:['<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path fill="#22ac38" d="M.51 15.812a.2.2 0 0 0 0 .376l6.475 2.382a2 2 0 0 1 1.235 1.335l2.087 7.412c.055.194.33.194.385 0l2.088-7.412a2 2 0 0 1 1.235-1.335l6.475-2.382a.2.2 0 0 0 0-.376l-6.475-2.382a2 2 0 0 1-1.235-1.335l-2.087-7.412c-.055-.194-.33-.194-.385 0L8.22 12.095a2 2 0 0 1-1.235 1.335z"/><path fill="#22ac38" d="M14.591 7.81a.2.2 0 0 0 0 .38l2.971.957a2 2 0 0 1 1.291 1.29l.957 2.972a.2.2 0 0 0 .38 0l.957-2.971a2 2 0 0 1 1.29-1.291l2.972-.957a.2.2 0 0 0 0-.38l-2.971-.957a2 2 0 0 1-1.291-1.29L20.19 2.59a.2.2 0 0 0-.38 0l-.957 2.971a2 2 0 0 1-1.29 1.291z" style="opacity:.6000000238418579"/></svg>',0],whole_network:['<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><defs><clipPath id="a"><rect width="28" height="28" fill="#22ac38" rx="0"/></clipPath></defs><g clip-path="url(#a)"><path fill="#22ac38" d="m24.652 23.058.12-.142.096-.115.106-.134.096-.123.101-.13q.049-.064.093-.127.05-.064.098-.133l.09-.129.096-.137.088-.128.093-.14.084-.13.09-.146q.042-.065.08-.13l.09-.154c.025-.04.05-.085.074-.126q.049-.085.098-.175.03-.051.06-.109l.148-.279c.02-.035.035-.07.055-.109l.09-.183.06-.126.08-.167.06-.134q.037-.081.07-.164l.058-.136.068-.164.055-.14q.034-.083.063-.166l.052-.14.06-.172q.025-.07.046-.14l.058-.18.043-.134.058-.194.035-.12q.037-.126.069-.251.007-.033.019-.066.041-.16.079-.32.013-.051.022-.104l.05-.221q.01-.067.024-.129.02-.096.038-.2l.025-.139.032-.19.022-.143c.008-.063.02-.128.028-.191l.019-.145.022-.191.016-.145.016-.197.011-.142.014-.205.008-.134.008-.23.003-.112q.005-.173.006-.344c0-4.07-1.747-7.738-4.53-10.297l-.01-.01-.225-.203-.021-.019-.222-.189-.033-.027a7 7 0 0 0-.218-.178q-.022-.015-.039-.032a7 7 0 0 0-.215-.167l-.047-.036-.213-.158-.055-.041q-.104-.075-.21-.148l-.063-.043-.208-.14-.068-.046-.208-.132-.074-.046-.205-.126-.082-.049c-.068-.038-.134-.08-.202-.117l-.088-.05q-.099-.056-.202-.109l-.093-.05q-.1-.052-.2-.1l-.1-.05-.197-.095-.107-.05-.197-.09-.112-.049-.194-.082-.117-.049q-.096-.04-.192-.077l-.123-.046-.19-.071-.13-.047-.187-.064-.134-.044-.186-.06-.14-.041-.185-.055-.145-.038-.183-.05-.15-.037-.18-.044a3 3 0 0 1-.157-.036q-.089-.018-.177-.038-.083-.017-.164-.03L16.44.213a3 3 0 0 0-.17-.027c-.057-.008-.114-.02-.172-.027l-.175-.025q-.084-.013-.17-.022l-.18-.022-.164-.019-.189-.016a3 3 0 0 0-.16-.015q-.102-.006-.202-.014L14.711.02l-.235-.008q-.06 0-.12-.006A15 15 0 0 0 14 0q-.18.001-.355.005-.06 0-.12.006l-.236.008-.147.008-.202.014q-.082.005-.16.014l-.188.016q-.081.008-.164.02l-.183.021q-.084.013-.17.022l-.174.025-.172.027c-.058.008-.112.019-.17.027l-.175.033-.164.03-.178.038-.155.036q-.09.02-.18.044a3 3 0 0 0-.151.038l-.183.05-.145.037q-.093.026-.186.055l-.14.041q-.094.028-.185.06L9.583.72l-.189.065q-.063.021-.128.047l-.191.071-.123.046-.192.077-.117.05-.194.081-.112.05-.197.09-.107.049q-.098.046-.197.095l-.1.05-.2.1-.093.05-.202.11-.088.049-.205.117q-.041.025-.082.047l-.205.125c-.025.017-.05.03-.074.047l-.207.13-.069.047-.208.14-.062.044-.21.147-.056.041q-.106.077-.213.159l-.046.035-.216.167q-.021.016-.038.033-.11.086-.22.177-.014.015-.032.028l-.221.188-.022.02q-.114.098-.224.202l-.011.01A13.95 13.95 0 0 0 0 14q.001.173.005.344l.003.113.008.23.009.133q.004.103.013.205l.011.142.017.197.016.145.022.191q.006.073.019.145.011.096.027.191l.022.142.033.194.025.14q.016.098.038.2l.024.128.05.221q.01.053.022.104.036.16.079.32.007.033.019.066.032.127.068.251l.036.12.098.328.058.18.046.137.06.173q.025.07.052.139l.063.167.055.14q.032.08.068.163l.057.137.071.164.06.134.077.166.06.129.09.183q.028.053.055.11l.148.278.06.11c.033.057.063.114.098.172q.038.062.074.125l.09.154q.042.065.08.13l.09.145.084.132q.044.07.093.14.044.066.088.128.046.068.096.136l.09.129.098.134.093.125.101.132.096.123.106.134q.048.056.096.117l.12.142q.455.533.962 1.023c.077.07.15.144.23.215l.014.011q.11.102.224.203l.022.019.218.188.033.028.216.177q.021.016.038.033.107.086.214.167l.049.035.213.159.055.04q.103.076.21.148l.063.044c.068.047.14.093.208.14l.068.046.205.131q.037.026.077.047l.205.123.082.049c.068.038.134.08.202.117l.087.05q.1.056.203.109l.095.05a5 5 0 0 0 .3.15l.198.095.106.05.197.09.112.049.194.082.118.049q.095.04.194.077l.123.046q.096.039.191.071l.129.047.188.065.134.044.186.06.14.041q.09.028.185.055l.145.038.183.05.15.037.181.044q.078.016.156.036l.178.038.16.03.176.033q.082.015.17.027c.057.008.114.02.171.027l.175.025q.085.013.17.022l.183.022c.054.005.11.014.164.019l.188.016q.08.01.159.014l.202.014.148.008.235.008q.06 0 .12.006.178.004.356.005.179-.001.355-.005.06 0 .12-.006l.235-.008.148-.008.202-.014q.082-.005.159-.014l.188-.016a3 3 0 0 0 .164-.02l.183-.021c.058-.008.112-.016.17-.022l.175-.024q.085-.015.172-.028l.17-.027.174-.033.162-.03q.089-.017.177-.038.078-.016.156-.036.09-.019.18-.044.076-.016.15-.038l.184-.049.145-.038q.093-.026.186-.055l.139-.041q.095-.029.186-.06l.134-.044.188-.065q.065-.021.129-.047.096-.033.191-.071l.123-.046.194-.077.118-.05.194-.081.112-.05.197-.09.106-.049q.1-.046.197-.095l.101-.05.2-.1.096-.05.202-.11.087-.049q.104-.056.203-.117l.081-.05.206-.122.076-.047.205-.13.068-.047.208-.14c.022-.013.041-.03.063-.043l.21-.148.055-.041q.107-.077.213-.159l.05-.035c.07-.055.144-.11.213-.167q.02-.016.038-.033a7 7 0 0 0 .216-.177q.016-.015.033-.028.11-.093.218-.188l.022-.02q.114-.098.224-.202c.006-.002.008-.008.014-.01l.23-.216a13 13 0 0 0 .962-1.023m2.085-8.107-.01.134-.017.18q-.01.07-.014.14l-.019.172-.044.306-.021.142-.028.164-.024.142-.03.162-.03.142q-.017.081-.036.158l-.033.143-.038.158q-.016.07-.036.14l-.043.158-.039.137-.046.155-.041.137q-.024.078-.052.156a4 4 0 0 1-.101.295l-.044.123q-.05.138-.104.276-.024.067-.055.134-.028.073-.06.145l-.06.14c-.019.043-.038.09-.06.133l-.066.143-.06.13q-.033.072-.068.143c-.022.04-.041.085-.063.126l-.074.142-.065.123-.077.142-.068.12-.082.14-.068.117q-.041.07-.085.14l-.071.114-.088.14-.073.109q-.044.07-.093.137l-.074.106-.099.14-.073.1q-.05.07-.104.14l-.071.093-.11.142q-.032.041-.065.08l-.123.15q-.012.017-.028.03-.172.204-.35.404a18 18 0 0 0-3.247-1.142c.632-1.965 1.014-4.27 1.075-6.76h5.466l-.005.093q.003.09-.006.186m-5.803 9.772-.213.134-.038.024a5 5 0 0 1-.254.15l-.194.113-.063.035-.192.104q-.033.02-.068.036l-.188.098-.074.038-.189.093-.076.036q-.094.046-.192.087l-.076.033-.194.085-.071.03-.205.082c-.017.005-.033.014-.05.019q-.36.139-.732.257l-.05.016-.177.055-.077.022c.875-.919 1.635-2.17 2.24-3.674a18 18 0 0 1 2.727.908 12.6 12.6 0 0 1-1.577 1.208zM10.18 26.196l-.05-.016q-.371-.119-.732-.257-.025-.008-.046-.02l-.205-.081-.071-.028a4 4 0 0 1-.194-.085l-.077-.032-.191-.088-.077-.035q-.095-.044-.188-.093l-.074-.038-.189-.099c-.022-.01-.046-.025-.068-.035l-.192-.104-.062-.036a5 5 0 0 1-.246-.142l-.203-.12q-.018-.013-.038-.022l-.213-.134-.011-.008a13 13 0 0 1-1.574-1.208 18 18 0 0 1 2.727-.908c.602 1.503 1.364 2.755 2.239 3.674l-.077-.022a2 2 0 0 0-.188-.063m-6.027-4.059-.123-.15q-.034-.04-.063-.08-.056-.07-.11-.142-.035-.044-.07-.093l-.104-.139q-.038-.049-.074-.101l-.098-.14-.074-.106-.093-.14-.071-.109-.088-.14-.07-.114-.085-.14q-.037-.059-.069-.117l-.08-.14-.067-.12-.077-.14-.066-.122-.073-.142-.063-.126c-.025-.046-.047-.096-.069-.142l-.06-.131-.065-.142-.06-.134-.06-.14q-.031-.073-.06-.147l-.055-.131A8 8 0 0 1 2 18.392l-.044-.123-.057-.164-.044-.134-.052-.155-.041-.137-.046-.156-.039-.14c-.013-.051-.03-.103-.043-.158l-.036-.14-.038-.158-.033-.139-.036-.161-.03-.142-.03-.162-.024-.142-.028-.164-.022-.142-.024-.167-.02-.14-.018-.171q-.01-.07-.014-.14l-.016-.18-.011-.134q-.008-.094-.011-.189l-.006-.093h5.467c.057 2.493.443 4.795 1.074 6.76a18 18 0 0 0-3.247 1.142q-.18-.2-.356-.407-.016-.001-.024-.019m2.903-18.86q.106-.068.213-.134l.038-.024a5 5 0 0 1 .254-.15c.066-.039.132-.074.194-.113l.063-.035q.096-.054.192-.104.033-.02.068-.036l.189-.098q.036-.02.073-.038l.189-.093.076-.036q.094-.046.192-.087l.076-.033q.1-.042.194-.085l.071-.03.205-.082.05-.019q.36-.139.73-.257l.049-.016.18-.055.077-.022c-.875.919-1.635 2.17-2.239 3.674a18 18 0 0 1-2.728-.908 13 13 0 0 1 1.594-1.219m10.758-1.473.05.016q.369.119.732.257l.049.02.205.081.071.03q.1.041.194.085l.077.033q.095.041.19.088.04.017.077.035l.192.093c.024.01.049.025.074.036l.19.098c.023.01.047.025.07.035.062.036.128.069.19.104l.063.036a5 5 0 0 1 .246.142l.203.12.038.025.213.134.011.008q.836.547 1.577 1.208c-.822.355-1.74.662-2.728.908-.601-1.504-1.364-2.756-2.238-3.674l.074.022c.06.024.12.04.18.06m3.474 11.526c-.057-2.492-.443-4.794-1.074-6.76 1.189-.3 2.282-.685 3.247-1.142a12.74 12.74 0 0 1 3.294 7.905h-5.467zm-7.962-7.248a24.5 24.5 0 0 1-3.903-.41c.984-2.367 2.367-3.996 3.903-4.368zm0 1.216v6.032H7.918c.063-2.378.451-4.608 1.072-6.489 1.35.263 2.807.421 4.335.457m0 7.372v6.032a26 26 0 0 0-4.335.456c-.62-1.883-1.009-4.11-1.072-6.488zm0 7.248v4.778c-1.536-.372-2.92-2-3.903-4.368a24.5 24.5 0 0 1 3.903-.41m1.34 0a24.6 24.6 0 0 1 3.902.41c-.984 2.367-2.367 3.997-3.903 4.368zm0-1.216V14.67h5.406c-.063 2.378-.451 4.608-1.072 6.489a26 26 0 0 0-4.335-.457m0-7.372V7.298a26 26 0 0 0 4.334-.457c.62 1.884 1.009 4.111 1.072 6.49zm0-7.248V1.304c1.535.372 2.918 2 3.902 4.368-1.23.232-2.542.374-3.903.41M4.528 5.426a18 18 0 0 0 3.247 1.142c-.631 1.965-1.014 4.27-1.074 6.76H1.235A12.7 12.7 0 0 1 4.53 5.426"/></g></svg>',0]},currentColor:"",$_colorPalette:["#22ac38","#101010"]}},ke={registerCollection:(e,t)=>{xe[e]||("function"==typeof t.registerCollection?xe[e]=t.getCollection("default"):xe[e]=t)},getCollection:(e="default")=>{if(!xe[e])throw new Error(`没有找到名为 ${e} 的图标库。`);return xe[e]}},be=ke,_e=u().screenWidth,we=(e,t=!1)=>{const l=_e*Number.parseFloat(e)/750;return t?`${l}px`:l};const Se=G({name:"zui-svg-icon",components:{},props:{icon:{type:String,required:!0},color:[String,Array],width:{type:[Number,String],default:"1.2em"},height:{type:[Number,String],default:void 0},gray:{type:[Boolean,Number],default:!1},spin:{type:[Number,Boolean],default:!1},borderRadius:[Number,String],collection:{type:String,default:"default"},aspectRatio:{type:Number,default:void 0}},data:()=>({isFilled:!1,colorMap:{},colorPlaceholder:null,isColorCountMatch:!0}),computed:{cWidth(){const e=/rpx$/i.test(this.width)?we(this.width,!0):this.width;return"number"==typeof e?`${e}px`:e},cHeight(){if(!this.height){if(this.aspectRatio){const e=`${this.cWidth}`.replace(/[\d.]+/g,"");return`${parseFloat(this.cWidth)/this.aspectRatio}${e}`}return this.cWidth}const e=/rpx$/i.test(this.height)?we(this.height,!0):this.height;return"number"==typeof e?`${e}px`:e},svgIconLib(){return be.getCollection(this.collection||"default")},isFileSource(){return!!/^https?\:\/\//i.test(this.icon)||(!!/^data:image\//i.test(this.icon)||(!!/\.svg([?#].*)?$/i.test(this.icon)||this.icon.indexOf("/")>-1))},svgRaw(){if(this.isFileSource)return this.icon;const e=this.icon.toLowerCase(),t=this.svgIconLib.icons[e];if(!t)return void console.warn(`Svg icon [${e}] not defined and no fallback icon set.`);let l=t[0];return this.color&&this.isColorCountMatch&&(l=l.replace(this.colorPlaceholder,((e,t,l)=>this.colorMap[t.toLowerCase()]+l))),l},svgDataurl(){return this.isFileSource?/^data:image\/svg\+xml,<svg/i.test(this.icon)?`data:image/svg+xml,${encodeURIComponent(this.icon.substring(19))}`:/^<svg/i.test(this.icon)?`data:image/svg+xml,${encodeURIComponent(this.icon)}`:this.icon:`data:image/svg+xml,${encodeURIComponent(this.svgRaw)}`},clazz(){const e=["zui-svg-icon-wrapper"];return this.spin&&this.spin>0&&e.push("rotate-clockwise"),this.spin&&this.spin<0&&e.push("rotate-counterclockwise"),e.join(" ")},style(){const e={"--zui-svg-icon-width":this.cWidth,"--zui-svg-icon-height":this.cHeight};if(this.borderRadius){let t=this.borderRadius;if("string"==typeof this.borderRadius){if(!/[^a-z%]/i.test(this.borderRadius)){const e=parseFloat(this.borderRadius);t=e<1?100*e+"%":`${e}px`}}else t=this.borderRadius<1?100*this.borderRadius+"%":`${this.borderRadius}px`;e["--zui-svg-icon-border-radius"]=t}if(this.gray&&("number"==typeof this.gray?e.filter=`grayscale(${this.gray})`:e.filter="grayscale(1)"),this.spin){const t=!0===this.spin?5:Math.abs(this.spin);e["--zui-svg-icon-rotate-duration"]=`${t}s`}return Object.keys(e).map((t=>`${t}:${e[t]}`)).join("; ")}},watch:{icon(){this.initialIcon()},color(){this.initialIconColor()}},mounted(){this.initialIcon()},methods:{doClick(e){setTimeout((()=>{this.$emit("click",e)}),1)},doTap(e){setTimeout((()=>{this.$emit("click",e)}),1)},initialIconColor(){const e=this.getOriginalColors();if(this.color&&e.length){const t="string"==typeof this.color?this.color.split(","):this.color;this.colorPlaceholder=new RegExp(`(${e.map((e=>e.replace(/([\(\)])/g,"\\$1"))).join("|")})([^\\w])`,"gi"),this.colorMap=e.reduce(((l,a,s)=>({...l,[a.toLowerCase()]:t[s]||e[s]})),{}),this.isColorCountMatch=e.length===t.length}else this.colorPlaceholder=null,this.colorMap=null,this.isColorCountMatch=!0},initialIcon(){this.initialIconColor()},getOriginalColors(){const e=this.svgIconLib.icons[this.icon];return e?e.slice(1).map((e=>this.svgIconLib.$_colorPalette[e])):[]}}},[["render",function(e,t,l,o,u,p){const f=c,m=r;return a(),s(m,{class:"zui-svg-icon"},{default:n((()=>[i(m,{class:d(p.clazz),style:h(p.style)},{default:n((()=>[i(f,{class:"zui-svg-icon-image",src:p.svgDataurl,mode:"aspectFit"},null,8,["src"])])),_:1},8,["class","style"])])),_:1})}],["__scopeId","data-v-01fade6a"]]);const Ce=G({name:"u-subsection",emits:["change"],props:{list:{type:Array,default:()=>[]},current:{type:[Number,String],default:0},activeColor:{type:String,default:"#303133"},inactiveColor:{type:String,default:"#606266"},mode:{type:String,default:"button"},fontSize:{type:[Number,String],default:28},animation:{type:Boolean,default:!0},height:{type:[Number,String],default:70},bold:{type:Boolean,default:!0},bgColor:{type:String,default:"#eeeeef"},buttonColor:{type:String,default:"#ffffff"},vibrateShort:{type:Boolean,default:!1},offset:{type:Array,default:function(){return[0,0]}}},data(){return{itemBgStyle:{width:0,left:0,backgroundColor:"#ffffff",height:"100%",transition:""},currentIndex:this.current,buttonPadding:3,borderRadius:5,firstTimeVibrateShort:!0}},watch:{current:{immediate:!0,handler(e){this.currentIndex=e,this.changeSectionStatus(e)}}},computed:{listInfo(){return this.list.map(((e,t)=>{if("object"!=typeof e){return{width:0,name:e}}return e.width=0,e}))},noBorderRight(){return e=>{if("subsection"!=this.mode)return;let t="";return e<this.list.length-1&&(t+=" u-none-border-right"),0==e&&(t+=" u-item-first"),e==this.list.length-1&&(t+=" u-item-last"),t}},textStyle(){return e=>{let t={};return"subsection"==this.mode?e==this.currentIndex?t.color="#ffffff":t.color=this.activeColor:e==this.currentIndex?t.color=this.activeColor:t.color=this.inactiveColor,e==this.currentIndex&&this.bold&&(t.fontWeight="bold"),t.fontSize=this.fontSize+"rpx",t}},itemStyle(){return e=>{let t={};return"subsection"==this.mode&&(t.borderColor=this.activeColor,t.borderWidth="1px",t.borderStyle="solid"),t}},subsectionStyle(){let e={};return e.height=p(this.height)+"px","button"==this.mode&&(e.backgroundColor=this.bgColor,e.padding=`${this.buttonPadding}px`,e.borderRadius=`${this.borderRadius}px`),e},itemBarStyle(){let e={};return e.backgroundColor=this.activeColor,e.zIndex=1,"button"==this.mode&&(e.backgroundColor=this.buttonColor,e.borderRadius=`${this.borderRadius}px`,e.bottom=`${this.buttonPadding}px`,e.height=p(this.height)-2*this.buttonPadding+"px",e.zIndex=0),Object.assign(this.itemBgStyle,e)}},mounted(){setTimeout((()=>{this.getTabsInfo()}),10)},methods:{changeSectionStatus(e){"subsection"==this.mode&&(e==this.list.length-1&&(this.itemBgStyle.borderRadius=`0 ${this.buttonPadding}px ${this.buttonPadding}px 0`),0==e&&(this.itemBgStyle.borderRadius=`${this.buttonPadding}px 0 0 ${this.buttonPadding}px`),e>0&&e<this.list.length-1&&(this.itemBgStyle.borderRadius="0")),setTimeout((()=>{this.itemBgLeft()}),10),this.vibrateShort&&this.firstTimeVibrateShort,this.firstTimeVibrateShort=!1},click(e){e!=this.currentIndex&&(this.currentIndex=e,this.changeSectionStatus(e),this.$emit("change",Number(e)))},getTabsInfo(){let e=f().in(this);for(let t=0;t<this.list.length;t++)e.select(".u-item-"+t).boundingClientRect();e.exec((e=>{e.length||setTimeout((()=>{this.getTabsInfo()}),10),e.map(((e,t)=>{this.listInfo[t].width=e.width})),("subsection"==this.mode||"button"==this.mode)&&(this.itemBgStyle.width=this.listInfo[0].width+"px"),this.itemBgLeft()}))},itemBgLeft(){this.animation?this.itemBgStyle.transition="all 0.35s":this.itemBgStyle.transition="all 0s";let e=0;this.listInfo.map(((t,l)=>{l<this.currentIndex&&(e+=t.width)})),"subsection"==this.mode?this.itemBgStyle.left=e+"px":"button"==this.mode&&(this.itemBgStyle.left=e+this.buttonPadding+"px")}}},[["render",function(e,t,l,c,u,p){const f=r,w=m(g("u-badge"),Z);return a(),s(f,{class:"u-subsection",style:h([p.subsectionStyle])},{default:n((()=>[(a(!0),y(v,null,x(p.listInfo,((t,r)=>(a(),s(f,{class:d(["u-item u-line-1",[p.noBorderRight(r),"u-item-"+r]]),style:h([p.itemStyle(r)]),onClick:e=>p.click(r),key:r},{default:n((()=>[i(f,{class:"u-item-text",style:h([p.textStyle(r)])},{default:n((()=>[k(e.$slots,"item",{item:t,isActive:r===u.currentIndex},(()=>[i(f,{class:"u-line-1"},{default:n((()=>[o(b(t.name),1)])),_:2},1024)]),!0)])),_:2},1032,["style"]),t.num>0?(a(),s(w,{key:0,count:t.num,offset:l.offset,size:"mini"},null,8,["count","offset"])):_("v-if",!0)])),_:2},1032,["style","onClick","class"])))),128)),i(f,{class:"u-item-bg",style:h([p.itemBarStyle])},null,8,["style"])])),_:3},8,["style"])}],["__scopeId","data-v-8bbb41a0"]]),qe=G(w({__name:"drop-down",props:{mode:String,show:Boolean,showMask:{type:Boolean,default:!0}},emits:["update:show"],setup(e,{emit:t}){const l=e,o=S(!1);C((()=>l.show),(e=>{o.value=e}),{immediate:!0,flush:"post"}),C(o,(e=>{t("update:show",e)}));const c=q((()=>({"dropdown-menu-up":"up"===l.mode,"dropdown-menu-right":"right"===l.mode,"dropdown-menu-down":"down"===l.mode,"dropdown-menu-left":"left"===l.mode})));return(t,l)=>{const u=r;return a(),y(v,null,[e.showMask&&o.value?(a(),s(u,{key:0,class:"dropdown-mask",onClick:l[0]||(l[0]=e=>o.value=!o.value)})):_("v-if",!0),i(u,{class:"dropdown"},{default:n((()=>[i(u,{onClick:l[1]||(l[1]=e=>o.value=!o.value)},{default:n((()=>[k(t.$slots,"default",{},void 0,!0)])),_:3}),$(i(u,{class:d(["dropdown-menu",z(c)]),onClick:l[2]||(l[2]=e=>o.value=!o.value)},{default:n((()=>[_(" 下拉菜单的内容 "),k(t.$slots,"menu",{},void 0,!0)])),_:3},8,["class"]),[[L,o.value]])])),_:3})],64)}}}),[["__scopeId","data-v-5dce929e"]]);var $e=(e=>(e.BASE="search",e.ENHANCE="copilot",e.STUDY="research",e))($e||{}),ze=(e=>(e.ALL="all",e.DOC="doc",e.SCHOLAR="scholar",e))(ze||{}),Le=(e=>(e[e.ANALYSIS=0]="ANALYSIS",e[e.SEARCH=1]="SEARCH",e[e.SUMMARY=2]="SUMMARY",e[e.SUCCESS=3]="SUCCESS",e))(Le||{});const Ae=I("search",{state:()=>({options:{model:"search",type:"all",ask:"",probe:0},searchEx:[],isSearching:!1,showResult:!1,sse:null,result:{query:"",markdown:[],suggestion:{},status:-1,search:[],outline:{},outlineJson:{}},config:{}}),getters:{},actions:{navigateTo(e){E?R.miniProgram.navigateTo({url:e}):M.navigateTo(e)},abort(){var e;null==(e=this.sse)||e.cancel()},launchSearch(e=""){e&&(this.options.ask=e);const t=B();if(!this.options.ask)return uni.$u.toast("请输入你想搜索的问题");if(!t.isLogin)return this.navigateTo("/pages/login/login");if(this.isSearching)return uni.$u.toast("正在搜索中...");this.isSearching=!0,this.showResult=!0;const l=(e,t,l)=>{const a=this.result.markdown.find((e=>"markdown"==e.type&&"update"==e.target));a?(ne(a.content)&&(a.content+=l),H(a.content)&&a.content.push(l),a.target=t):this.result.markdown.push({type:e,target:t,content:l})};try{a={...this.options},s={onstart:e=>{this.sse=e},onmessage:e=>{e.trim().split("data:").forEach((async e=>{var t;if(""!==e)try{const a=JSON.parse(e),{card_type:s,target:n,data:i}=a;switch(s){case"error":uni.$u.toast(i),this.isSearching=!1,this.showResult=!1;break;case"action":this.result.status=1;break;case"markdown":this.result.status=2;case"expand_query":case"search_result":l(s,n,i);break;case"suggestion":this.result.suggestion={type:s,data:i};break;case"outline_json":this.result.outlineJson=i;break;case"outline":this.result.outline=i;break;case"done":{this.result.status=4;const e=this.result.markdown.findLast((e=>"search_result"===e.type));this.result.search=(null==(t=null==e?void 0:e.content)?void 0:t.map(((e,t)=>({...e,index:t+1}))))||[],this.getConfig();break}}}catch(a){}}))},onclose:()=>{this.isSearching=!1}},A.eventStream({url:"/search/query",data:a,method:"POST"},s)}catch(n){this.isSearching=!1,this.showResult=!1}var a,s;this.result.query=this.options.ask,this.result.markdown=[],this.result.status=0,this.result.search=[],this.result.outline={},this.result.suggestion={},this.result.outlineJson={}},async getSearchEx(){this.searchEx=await A.get({url:"/search/example"})},async getConfig(){this.config=await A.get({url:"/search/config"})}}}),Ie=w({__name:"search-type",props:{model:null,type:{default:""},mode:{default:"down"},show:{type:Boolean},showMask:{type:Boolean,default:!0}},emits:["update:type","click-content","click-item"],setup(e,{emit:t}){const l=e,c=le(l,"type",t),u=S(!1);C((()=>l.show),(e=>{u.value=e}),{immediate:!0});const h=q((()=>[{label:"全网搜索",value:ze.ALL,icon:"whole_network",desc:"在整个互联网中搜索"},{label:"文档搜索",value:ze.DOC,icon:"document",desc:"在互联网开放文库中搜索",disabled:l.model!==$e.STUDY},{label:"学术搜索",value:ze.SCHOLAR,icon:"science",desc:"在已发表的论文中搜索",disabled:l.model!==$e.STUDY}])),p=S(!1),f=q((()=>h.value.find((e=>e.value==c.value))||{}));return(w,S)=>{const C=m(g("zui-svg-icon"),Se),q=r,$=m(g("drop-down"),qe);return a(),s(q,{class:""},{default:n((()=>[i($,{mode:e.mode,show:u.value,"onUpdate:show":S[1]||(S[1]=e=>u.value=e),"show-mask":e.showMask},{default:n((({show:e})=>[k(w.$slots,"default",j(K(z(f))))])),menu:n((()=>[i(q,{class:"p-[20rpx] mb-[-20rpx]",onClick:S[0]||(S[0]=V((e=>t("click-content")),["stop"]))},{default:n((()=>[(a(!0),y(v,null,x(z(h),((e,r)=>(a(),y(v,null,[e.disabled?_("v-if",!0):(a(),s(q,{key:r,class:d(["p-[24rpx] rounded-[12rpx] border-light border-solid border mb-[20rpx]",{" text-primary bg-primary-light-9 border-primary":z(f).value===e.value}]),onClick:a=>{return s=e.value,t("click-item"),p.value=!1,c.value=s,void(l.show||(u.value=!1));var s}},{default:n((()=>[i(q,{class:"flex items-center"},{default:n((()=>[i(C,{width:"28rpx",icon:e.icon,color:z(f).value===e.value?w.$theme.primaryColor:"#333"},null,8,["icon","color"]),U("span",{class:"ml-[12rpx]"},b(e.label),1)])),_:2},1024),i(q,{class:"line-clamp-2 text-muted mt-[16rpx] text-sm"},{default:n((()=>[o(b(e.desc),1)])),_:2},1024)])),_:2},1032,["class","onClick"]))],64)))),256))])),_:1})])),_:3},8,["mode","show","show-mask"])])),_:3})}}}),Ee=w({__name:"search-model",props:{type:null,mode:{default:"segmented"},model:null},emits:["update:model","update:type"],setup(e,{emit:t}){const l=e,{type:c,model:u}=ae(l,t),h=S(!1),p=[{name:"基础",value:$e.BASE,icon:"search_base"},{name:"增强",value:$e.ENHANCE,icon:"search_copilot",desc:"检索更多网页，提供更全面个性化答案"},{name:"研究",value:$e.STUDY,icon:"search_research",desc:"结构更细致，内容更深入。自动总结大纲和图谱，答案更清晰"}],f=S(""),k=[{label:"全网",value:ze.ALL},{label:"文档",value:ze.DOC},{label:"学术",value:ze.SCHOLAR}],w=q((()=>k.find((e=>e.value==c.value))||{}));C(h,(e=>{e&&(f.value=u.value)}));const $=q((()=>p.find((e=>e.value==u.value))||{})),L=e=>{u.value=p[e].value};return(t,l)=>{const k=m(g("zui-svg-icon"),Se),S=F,C=r,q=m(g("u-subsection"),Ce),A=m(g("u-icon"),ee),I=m(g("drop-down"),qe),E=m(g("u-tag"),te);return"segmented"===e.mode?(a(),s(C,{key:0,class:"w-[550rpx]"},{default:n((()=>[i(q,{list:p,"bg-color":"#fff","button-color":t.$theme.primaryColor,height:"80","active-color":"#fff","inactive-color":"#333",onChange:L},{item:n((({item:e,isActive:l})=>[i(C,{class:"flex items-center"},{default:n((()=>[i(k,{width:"28rpx",icon:e.icon,color:l?"#fff":t.$theme.primaryColor},null,8,["icon","color"]),i(S,{class:"ml-[6rpx]"},{default:n((()=>[o(b(e.name),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["button-color"])])),_:1})):(a(),s(C,{key:1,class:"flex items-center"},{default:n((()=>[i(I,{mode:"down",show:h.value,"onUpdate:show":l[4]||(l[4]=e=>h.value=e)},{default:n((({show:e})=>[i(C,{class:"flex items-center px-[20rpx] py-[14rpx]"},{default:n((()=>[z($).icon?(a(),s(k,{key:0,width:"28rpx",icon:z($).icon,color:t.$theme.primaryColor},null,8,["icon","color"])):_("v-if",!0),i(S,{class:"mx-[10rpx]"},{default:n((()=>[o(b(z($).name),1)])),_:1}),i(A,{name:"arrow-down-fill",size:"14"})])),_:1})])),menu:n((()=>[i(C,{class:"py-[8rpx] w-[250rpx]",onClick:l[3]||(l[3]=V((()=>{}),["stop"]))},{default:n((()=>[i(C,null,{default:n((()=>[(a(),y(v,null,x(p,(e=>i(Ie,{model:e.value,type:z(c),"onUpdate:type":l[0]||(l[0]=e=>P(c)?c.value=e:null),key:e.value,mode:"right",onClickContent:l[1]||(l[1]=e=>h.value=!1),show:f.value==e.value,"show-mask":!1,onClickItem:l[2]||(l[2]=e=>u.value=f.value)},{default:n((()=>[i(C,{class:d(["flex items-center justify-center py-[15rpx]",{" bg-primary-light-9":f.value===e.value}]),onClick:V((t=>f.value=e.value),["stop"])},{default:n((()=>[i(k,{width:"28rpx",icon:e.icon,color:t.$theme.primaryColor},null,8,["icon","color"]),i(S,{class:"ml-[10rpx]"},{default:n((()=>[o(b(e.name),1)])),_:2},1024)])),_:2},1032,["class","onClick"])])),_:2},1032,["model","type","show"]))),64))])),_:1})])),_:1})])),_:1},8,["show"]),U("div",{class:"border-l border-0 border-solid border-light pl-[16rpx]"},[i(E,{type:"primary",size:"mini",text:z(w).label},null,8,["text"])])])),_:1}))}}}),Re=w({__name:"search-btn",setup(e){const t=N(),l=Ae();return(e,c)=>{const u=m(g("u-icon"),ee),d=m(g("u-button"),oe),h=r;return a(),s(h,null,{default:n((()=>[i(d,{type:"primary",size:"medium",customStyle:{height:"68rpx"}},{default:n((()=>[i(u,{name:"search"}),U("span",{class:"text-xs ml-[8rpx]"},[z(l).config.isVipFree?(a(),y(v,{key:0},[o(" 会员免费 ")],64)):z(l).config.price>0?(a(),y(v,{key:1},[o(" -"+b(z(l).config.price)+b(z(t).getTokenUnit),1)],64)):_("v-if",!0)])])),_:1})])),_:1})}}}),Me=w({__name:"search-input",props:{mode:null,model:null,type:null,input:null},emits:["update:model","update:input","search"],setup(e,{emit:t}){const l=e,{type:o,input:c}=ae(l,t);return(t,l)=>{const u=m(g("u-input"),ie),d=r,h=m(g("zui-svg-icon"),Se),p=m(g("u-icon"),ee);return a(),s(d,{class:"bg-white rounded-[18rpx] px-[20rpx] py-[10rpx]"},{default:n((()=>[i(d,null,{default:n((()=>[i(u,{modelValue:z(c),"onUpdate:modelValue":l[0]||(l[0]=e=>P(c)?c.value=e:null),type:"textarea",border:!1},null,8,["modelValue"])])),_:1}),i(d,{class:"flex items-center justify-between"},{default:n((()=>[i(d,{class:""},{default:n((()=>[i(Ie,{type:z(o),"onUpdate:type":l[1]||(l[1]=e=>P(o)?o.value=e:null),model:e.model},{default:n((({icon:e,label:t})=>[i(d,{class:"flex items-center"},{default:n((()=>[i(h,{width:"28rpx",icon:e,color:"#333"},null,8,["icon"]),U("span",{class:"px-[12rpx]"},b(t),1),i(p,{name:"arrow-down"})])),_:2},1024)])),_:1},8,["type","model"])])),_:1}),i(Re,{onClick:l[2]||(l[2]=e=>t.$emit("search"))})])),_:1})])),_:1})}}}),Be=w({__name:"search-ex",props:{lists:{default:()=>[]},prop:{default:""}},emits:["click-item"],setup(e,{emit:t}){const l=e,c=e=>e[l.prop]?e[l.prop]:e;return(l,u)=>{const d=r;return a(),s(d,{class:"flex flex-wrap mx-[-10rpx] mb-[-20rpx]"},{default:n((()=>[(a(!0),y(v,null,x(e.lists,((e,l)=>(a(),s(d,{class:"flex max-w-full items-center mx-[10rpx] mb-[20rpx] px-[22rpx] py-[12rpx] border border-light border-solid rounded-full",key:l,onClick:l=>t("click-item",c(e))},{default:n((()=>[i(d,{class:"flex-1 line-clamp-1 text-xs text-content"},{default:n((()=>[o(b(c(e)),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})}}}),He=G(w({__name:"index",setup(e){const t=Ae();return t.getSearchEx(),t.getConfig(),(e,l)=>{const o=r,c=T;return a(),s(c,{class:"h-full search-ask","scroll-y":""},{default:n((()=>[i(o,{class:"flex flex-col items-center px-[20rpx]"},{default:n((()=>[i(ve),i(Ee,{model:z(t).options.model,"onUpdate:model":l[0]||(l[0]=e=>z(t).options.model=e)},null,8,["model"]),i(Me,{input:z(t).options.ask,"onUpdate:input":l[1]||(l[1]=e=>z(t).options.ask=e),model:z(t).options.model,class:"w-full mt-[30rpx]",type:z(t).options.type,"onUpdate:type":l[2]||(l[2]=e=>z(t).options.type=e),onSearch:l[3]||(l[3]=e=>z(t).launchSearch())},null,8,["input","model","type"]),i(Be,{class:"mt-[30rpx] justify-center",lists:z(t).searchEx,onClickItem:z(t).launchSearch},null,8,["lists","onClickItem"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-30f1cbc4"]]);const je=G({name:"uv-skeletons",mixins:[ce,ue],props:{loading:{type:Boolean,default:!0},skeleton:{type:Array,default:()=>[]},animate:{type:Boolean,default:!0},round:{type:Boolean,default:!1},...null==(t=null==(e=uni.$uv)?void 0:e.props)?void 0:t.skeleton},data:()=>({elements:[],opacity:.5,duration:600}),computed:{animateClass(){return this.animate?"uv-skeleton--animation":"uv-skeleton--static"},roundClass(){return this.round?"uv-skeleton--round":"uv-skeleton--radius"},style(e){return e=>this.$uv.deepMerge({},this.$uv.addStyle(e.style))}},created(){this.init()},methods:{init(){let e=[];if(!this.$uv.test.array(this.skeleton))return this.$uv.error("skeleton参数必须为数组形式，参考文档示例：");this.skeleton.forEach((t=>{const l=this.getElCounts(t);e=e.concat(l)})),this.elements=[...e]},getElCounts(e){let t=[],l=[];if(this.$uv.test.number(e))return t.push({type:"gap",height:e}),t;{const a=e.type?e.type:"line",s=e.num?e.num:1,n=e.style?e.style:{},i=this.$uv.test.array(n),o=e.gap?e.gap:"20rpx",r=e.children?e.children:[];for(let e=0;e<r.length;e++)l[e]={clas:r[e].type.indexOf("avatar")>-1||r[e].type.indexOf("custom")>-1?"":"uv-skeleton__group__sub",elements:this.getElCounts(r[e])};for(let e=0;e<s;e++)o&&e<s&&e>0&&t.push({type:"gap",height:o}),t.push({clas:`uv-skeleton__${a}`,type:a,style:i?n[e]:n,gap:o,children:l});return t}},createAnimation(e=1){if(!this.loading||!this.animate)return;let t=0;const l=this.$refs.skeleton;l.forEach((a=>{animation.transition(a,{styles:{opacity:e},duration:this.duration},(()=>{t++,t>=l.length&&setTimeout((()=>{this.createAnimation(e<1?1:this.opacity)}),200)}))}))}}},[["render",function(e,t,l,o,c,u){const p=r;return a(),s(p,{class:"uv-skeleton"},{default:n((()=>[l.loading?(a(),s(p,{key:0},{default:n((()=>[(a(!0),y(v,null,x(c.elements,((t,l)=>(a(),s(p,{key:l},{default:n((()=>[_(" 横向并列布局 "),"flex"==t.type?(a(),s(p,{key:0,class:"uv-skeleton__group",style:h([u.style(t)])},{default:n((()=>[(a(!0),y(v,null,x(t.children,((t,l)=>(a(),s(p,{class:d([t.clas]),style:h([u.style(t)]),key:l},{default:n((()=>[(a(!0),y(v,null,x(t.elements,((t,l)=>(a(),s(p,{key:l},{default:n((()=>[_(" 垂直高度站位 "),"gap"==t.type?(a(),s(p,{key:0,style:h({height:e.$uv.addUnit(t.height,"rpx")})},null,8,["style"])):(a(),s(p,{key:1,class:d([t.clas,u.roundClass,u.animateClass]),style:h([u.style(t)]),ref_for:!0,ref:"skeleton"},null,8,["class","style"]))])),_:2},1024)))),128))])),_:2},1032,["class","style"])))),128))])),_:2},1032,["style"])):"custom"==t.type?(a(),y(v,{key:1},[_(" 自定义骨架屏内容 "),_(" ps 自定义扩展说明： "),_(" 如果你需要自定义模板，可以参照这个custom的写法，增加一个skeleton配置类型，编写布局和样式就可以了 "),_(' 注意事项：为了保证骨架效果和动态效果的一致，扩展时，在你希望实际展示在页面中的元素上加上 :class="[style, animateClass]" 和 :style="[style(item)]" 和 ref="skeleton" '),i(p,{class:d([t.clas,u.animateClass]),style:h([u.style(t)]),ref_for:!0,ref:"skeleton"},null,8,["class","style"])],2112)):"gap"==t.type?(a(),y(v,{key:2},[_(" 垂直高度站位 "),i(p,{style:h({height:e.$uv.addUnit(t.height,"rpx")})},null,8,["style"])],2112)):(a(),y(v,{key:3},[_(" 其他基本单位 line avatar 等 "),i(p,{class:d([t.clas,u.roundClass,u.animateClass]),style:h([u.style(t)]),ref_for:!0,ref:"skeleton"},null,8,["class","style"])],2112))])),_:2},1024)))),128))])),_:1})):(a(),s(p,{key:1},{default:n((()=>[k(e.$slots,"default",{},void 0,!0)])),_:3}))])),_:3})}],["__scopeId","data-v-18e7224f"]]),Ke=w({__name:"model-input",setup(e){const t=Ae();return(e,l)=>{const o=m(g("u-input"),ie),c=r,u=m(g("u-icon"),ee),d=m(g("u-button"),oe);return a(),s(c,{class:"flex bg-white items-center rounded-[12rpx]"},{default:n((()=>[i(Ee,{mode:"dropdown",type:z(t).options.type,"onUpdate:type":l[0]||(l[0]=e=>z(t).options.type=e),model:z(t).options.model,"onUpdate:model":l[1]||(l[1]=e=>z(t).options.model=e)},null,8,["type","model"]),i(c,{class:"flex-1 ml-[20rpx] min-w-0"},{default:n((()=>[i(o,{modelValue:z(t).options.ask,"onUpdate:modelValue":l[2]||(l[2]=e=>z(t).options.ask=e),placeholder:"输入你想搜索的问题"},null,8,["modelValue"])])),_:1}),i(c,{class:"p-[4rpx]"},{default:n((()=>[i(d,{type:"primary",size:"medium",customStyle:{height:"68rpx"},onClick:l[3]||(l[3]=e=>z(t).launchSearch())},{default:n((()=>[i(u,{name:"search"})])),_:1})])),_:1})])),_:1})}}});const Ve=G({name:"u-line",props:{color:{type:String,default:"#e4e7ed"},length:{type:String,default:"100%"},direction:{type:String,default:"row"},hairLine:{type:Boolean,default:!0},margin:{type:String,default:"0"},borderStyle:{type:String,default:"solid"}},computed:{lineStyle(){let e={};return e.margin=this.margin,"row"==this.direction?(e.borderBottomWidth="1px",e.borderBottomStyle=this.borderStyle,e.width=this.$u.addUnit(this.length),this.hairLine&&(e.transform="scaleY(0.5)")):(e.borderLeftWidth="1px",e.borderLeftStyle=this.borderStyle,e.height=this.$u.addUnit(this.length),this.hairLine&&(e.transform="scaleX(0.5)")),e.borderColor=this.color,e}}},[["render",function(e,t,l,n,i,o){const c=r;return a(),s(c,{class:"u-line",style:h([o.lineStyle])},null,8,["style"])}],["__scopeId","data-v-9fa848d1"]]);const Ue=G({name:"u-steps",props:{mode:{type:String,default:"dot"},list:{type:Array,default:()=>[]},type:{type:String,default:"primary"},current:{type:[Number,String],default:0},activeColor:{type:String,default:"#2979ff"},unActiveColor:{type:String,default:"#909399"},icon:{type:String,default:"checkmark"},direction:{type:String,default:"row"}},data:()=>({})},[["render",function(e,t,l,c,u,p){const f=F,k=m(g("u-icon"),ee),w=r,S=m(g("u-line"),Ve);return a(),s(w,{class:""},{default:n((()=>[i(w,{class:"u-steps",style:h({flexDirection:l.direction})},{default:n((()=>[(a(!0),y(v,null,x(l.list,((e,t)=>(a(),s(w,{class:d(["u-steps__item",["u-steps__item--"+l.direction]]),key:t},{default:n((()=>["number"==l.mode?(a(),s(w,{key:0,class:"u-steps__item__num",style:h({backgroundColor:l.current<t?"transparent":l.activeColor,borderColor:l.current<t?l.unActiveColor:l.activeColor})},{default:n((()=>[l.current<t?(a(),s(f,{key:0,style:h({color:l.current<t?l.unActiveColor:l.activeColor})},{default:n((()=>[o(b(t+1),1)])),_:2},1032,["style"])):(a(),s(k,{key:1,size:"22",color:"#ffffff",name:l.icon},null,8,["name"]))])),_:2},1032,["style"])):_("v-if",!0),"dot"==l.mode?(a(),s(w,{key:1,class:"u-steps__item__dot",style:h({backgroundColor:t<=l.current?l.activeColor:l.unActiveColor})},null,8,["style"])):_("v-if",!0),i(f,{class:d(["u-line-1",["u-steps__item__text--"+l.direction]]),style:h({color:t<=l.current?l.activeColor:l.unActiveColor})},{default:n((()=>[o(b(e.name),1)])),_:2},1032,["style","class"]),t<l.list.length-1?(a(),s(w,{key:2,class:d(["u-steps__item__line",["u-steps__item__line--"+l.mode]])},{default:n((()=>[i(S,{direction:l.direction,length:"100%","hair-line":!1,color:l.unActiveColor},null,8,["direction","color"])])),_:1},8,["class"])):_("v-if",!0)])),_:2},1032,["class"])))),128))])),_:1},8,["style"])])),_:1})}],["__scopeId","data-v-2c1d2a1e"]]),Fe=w({__name:"steps",setup(e){const t=Ae(),l=q((()=>{switch(t.options.type){case ze.ALL:return"全网";case ze.DOC:return"文档";case ze.SCHOLAR:return"学术";default:return""}})),n=q((()=>[{name:"问题分析"},{name:`${l.value}搜索`},{name:"整理答案"},{name:"完成"}]));return(e,l)=>{const i=m(g("u-steps"),Ue);return a(),s(i,{list:z(n),current:z(t).result.status,type:" primary"},null,8,["list","current"])}}}),Pe=w({__name:"action-btns",setup(e){const t=Ae(),{copy:l}=he(),c=()=>{const e=t.result.markdown.reduce(((e,t)=>(["markdown","expand_query"].includes(t.type)&&(e+=t.content+"\n"),e)),"");l(e)};return(e,l)=>{const u=m(g("u-icon"),ee),d=F,h=r;return a(),s(h,{class:"flex flex-wrap items-center"},{default:n((()=>[i(h,{class:"mr-[40rpx] bg-white flex item-center px-[24rpx] leading-[50rpx] text-xs rounded-full",onClick:l[0]||(l[0]=e=>z(t).launchSearch())},{default:n((()=>[i(u,{name:"reload"}),i(d,{class:"ml-[8rpx]"},{default:n((()=>[o(" 重写 ")])),_:1})])),_:1}),i(h,{class:"mr-[40rpx] text-primary bg-white flex item-center px-[24rpx] leading-[50rpx] text-xs rounded-full",onClick:c},{default:n((()=>[i(u,{name:"file-text"}),i(d,{class:"ml-[8rpx]"},{default:n((()=>[o(" 复制 ")])),_:1})])),_:1})])),_:1})}}}),Ne=w({__name:"suggestion",props:{lists:{default:()=>[]}},setup(e){const t=Ae();return(l,o)=>{const c=m(g("u-icon"),ee),u=r,d=m(g("u-collapse-item"),pe),h=m(g("u-collapse"),fe);return a(),s(h,null,{default:n((()=>[i(d,{open:""},{title:n((()=>[i(u,{class:"flex items-center"},{default:n((()=>[i(c,{name:"search",size:32}),U("span",{class:"text-2xl ml-1 font-bold"}," 相关问题 ")])),_:1})])),default:n((()=>[i(Be,{class:"mt-[10rpx]",lists:e.lists,prop:"text",onClickItem:z(t).launchSearch},null,8,["lists","onClickItem"])])),_:1})])),_:1})}}}),Te=G(w({__name:"mind-map",props:{content:{default:""},quote:{default:()=>[]}},setup(e){const t=e,{copy:l}=he(),o=new me,c=D(),u=D(),h=se(),p=S(!1);let f=null;const v=e=>{e=(e=>e.replaceAll(/(`{3}[\s\S]*?`{3}(?:(?!.)))|(`{3}[\s\S]*)|(`[\s\S]*?`{1}?)|(`[\s\S]*)|(?:\[(?:(?:number )|\^)?([\d]{1,2})\])/g,(function(e,l,a,s,n,i){const o=t.quote[Number(i)-1];return o?`<a href="${o.seeMoreUrl}" \ntitle="${o.title}"\ntarget="_blank"\nstyle="display: inline-block;\nwidth: 15px;\nheight: 15px;\nborder-radius: 50%;\nfont-size: 12px;\ntext-align: center;\ntext-align: center;\ncolor: #485568 !important;\nbackground-color: #edeff1 !important;\ntext-decoration: none !important;\nvertical-align: middle;\nmargin: 0 2px 3px;\ncursor: pointer;\nline-height: 16px;">${i}</a>`:""})))(e);const{root:l}=o.transform(e);null==f||f.setData(l),null==f||f.fit()};return C(h,(e=>{e?document.documentElement.classList.add("markmap-dark"):document.documentElement.classList.remove("markmap-dark")}),{immediate:!0}),C((()=>t.content),v),O((async()=>{await W(),f=ge.create(c.value),v(t.content)})),C(p,(async()=>{await W(),null==f||f.fit()})),(t,o)=>{const h=m(g("zui-svg-icon"),Se),v=r,x=m(g("u-icon"),ee),k=m(g("u-collapse-item"),pe),b=m(g("u-collapse"),fe);return a(),s(b,null,{default:n((()=>[i(k,{open:""},{title:n((()=>[i(v,{class:"flex items-center"},{default:n((()=>[i(h,{width:"32rpx",icon:"mind_map",color:"#333"}),U("span",{class:"text-2xl ml-1 font-bold"}," 脑图 ")])),_:1})])),default:n((()=>[U("div",{class:"h-[710rpx] relative"},[U("div",{ref_key:"svgWrapRef",ref:u,class:d(["w-full h-full",{"!fixed top-0 left-0 w-screen h-screen z-[9999] bg-white":p.value}])},[U("div",{class:"toolbar"},[U("div",{class:"toolbar-item"},[p.value?(a(),s(v,{key:0,class:"flex",onClick:o[0]||(o[0]=e=>p.value=!1)},{default:n((()=>[i(h,{icon:"fullscreen-exit",color:"#fff",width:"36rpx"})])),_:1})):(a(),s(v,{key:1,class:"flex",onClick:o[1]||(o[1]=e=>p.value=!0)},{default:n((()=>[i(h,{icon:"fullscreen",color:"#fff",width:"36rpx"})])),_:1}))]),U("div",{class:"toolbar-item"},[i(v,{class:"flex",onClick:o[2]||(o[2]=e=>{var t;return null==(t=z(f))?void 0:t.fit()})},{default:n((()=>[i(x,{name:"reload",size:"38",color:"#fff"})])),_:1})]),U("div",{class:"toolbar-item"},[i(v,{class:"flex",onClick:o[3]||(o[3]=e=>{var t;return null==(t=z(f))?void 0:t.rescale(1.25)})},{default:n((()=>[i(x,{name:"plus-circle",size:"38",color:"#fff"})])),_:1})]),U("div",{class:"toolbar-item"},[i(v,{class:"flex",onClick:o[4]||(o[4]=e=>{var t;return null==(t=z(f))?void 0:t.rescale(.8)})},{default:n((()=>[i(x,{name:"minus-circle",size:"38",color:"#fff"})])),_:1})]),U("div",{class:"toolbar-item"},[i(v,{class:"flex",onClick:o[5]||(o[5]=t=>z(l)(e.content))},{default:n((()=>[i(x,{name:"file-text",size:"38",color:"#fff"})])),_:1})])]),(a(),y("svg",{ref_key:"svgRef",ref:c,class:"w-full h-full"},null,512))],2)])])),_:1})])),_:1})}}}),[["__scopeId","data-v-a1324543"]]);function De(e){const t=Object.prototype.toString.call(e);let l;if("[object Array]"===t){l=[];for(let t=0;t<e.length;t++)l.push(De(e[t]))}else if("[object Object]"===t){l={};for(const t in e)e.hasOwnProperty(t)&&(l[t]=De(e[t]))}else l=e;return l}function Oe(e,t,l,a=!0){if(!e||0===e.length)return[];const s=[];for(let n=0;n<e.length;n++){const i=e[n];i[t]===l&&(a&&i.disabled||!i.disabled)&&s.push(i)}return s}function We(e,t,l,a=!0){if(!e||0===e.length)return null;const s=[];for(let n=0;n<e.length;n++){const i=e[n];i[t]===l&&(a&&i.disabled||!i.disabled)&&s.push(i.key)}return s.length?s:null}function Ye(e,...t){console.error(`DaTree: ${e}`,...t)}const Je=Object.prototype.toString;function Qe(e,t){return Je.call(e)===`[object ${t}]`}function Xe(e){return"function"==typeof e}function Ge(e){return e&&Array.isArray(e)}const Ze=G(w({name:"DaTree",props:{data:{type:Array,default:()=>[]},themeColor:{type:String,default:"#007aff"},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:[Array,String,Number],default:null},defaultExpandAll:{type:Boolean,default:!1},defaultExpandedKeys:{type:Array,default:null},filterValue:{type:String,default:""},expandChecked:{type:Boolean,default:!1},field:{type:Object,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},leafField:{type:String,default:"leaf"},appendField:{type:String,default:"append"},sortField:{type:String,default:"sort"},resultField:{type:String,default:""},isLeafFn:{type:Function,default:null},showRadioIcon:{type:Boolean,default:!0},onlyRadioLeaf:{type:Boolean,default:!1},checkStrictly:{type:Boolean,default:!1},loadMode:{type:Boolean,default:!1},loadApi:{type:Function,default:null},alwaysFirstLoad:{type:Boolean,default:!1},checkedDisabled:{type:Boolean,default:!1},packDisabledkey:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},indent:{type:Number,default:40}},emits:["change","expand"],setup(e,{emit:t}){const l=S([]),a=S([]),s=S({}),n=S([]),i=S(null),o=S(!1);let r={value:"value",label:"label",children:"children",disabled:"disabled",append:"append",leaf:"leaf",sort:"sort"};function c(t=[],l=null,n=0,i=-1){return t.reduce(((t,o,u)=>{var d,h,p;const f=o[r.value],m=o[r.children]||null,g=function(t,l,a,s){var n;const i=t[r.value],o=t[r.label],c=t[r.sort]||0,u=t[r.children]||null,d=t[r.append]||null;let h=t[r.disabled]||!1;h=(null==a?void 0:a.disabled)||h;let p=Xe(e.isLeafFn)?e.isLeafFn(t):t[r.leaf]||!1;const f=u&&0===u.length;let m=!0,g=e.defaultExpandAll||!1;const y=e.loadMode&&Xe(e.loadApi);u||(g=!1,y?m=!0:(p=!0,m=!1));f&&(g=!1,y?m=!0:(p=!0,m=!1));p?(m=!1,g=!1):m=!0;e.showCheckbox||e.onlyRadioLeaf&&(h=!p||((null==(n=null==a?void 0:a.originItem)?void 0:n.disabled)||!1));h&&(p||!u||f)&&(g=!1,m=!1);const v=a?a.key:null,x=e.defaultExpandAll||0===s,k={key:i,parentKey:v,label:o,append:d,isLeaf:p,showArrow:m,level:s,expand:g,show:x,sort:c,disabled:h,loaded:!1,loading:!1,indexs:[l],checkedStatus:0,parentKeys:[],childrenKeys:[],children:[],originItem:t};a&&(k.parentKeys=[a.key,...a.parentKeys],k.indexs=[...a.indexs,l]);return k}(o,u,l,n);if(i>-1){const e=((null==(d=l.childrenKeys)?void 0:d.length)||0)+i+1;(null==(h=null==l?void 0:l.childrenKeys)?void 0:h.includes(f))||(s.value[f]=g,a.value.splice(e,0,g),l.children.push(g),(null==(p=g.parentKeys)?void 0:p.length)&&g.parentKeys.forEach((e=>{s.value[e].childrenKeys=[...s.value[e].childrenKeys,g.key]})))}else s.value[f]=g,a.value.push(g);if(m&&m.length>0){const e=c(m,g,n+1);g.children=e;const t=e.reduce(((e,t)=>{const l=t.childrenKeys;return e.push(...l,t.key),e}),[]);g.childrenKeys=t}return t.push(g),t}),[])}function u(t){let l=null,a=[];return e.showCheckbox?(l=[...new Set(i.value||[])],a=e.expandChecked?[...i.value||[],...n.value||[]]:n.value):(l=i.value||null,a=e.expandChecked&&i.value?[i.value,...n.value||[]]:n.value),d(t,l,!0),a=[...new Set(a)],e.defaultExpandAll||p(t,a,!0),t.sort(((e,t)=>0===e.sort&&0===t.sort?0:e.parentKey===t.parentKey?e.sort-t.sort>0?1:-1:0)),t}function d(t,l,a=!0){if(e.showCheckbox)(null==l?void 0:l.length)&&l.forEach((t=>{const l=s.value[t];l&&function(t,l=!0){const{childrenKeys:a,parentKeys:n,disabled:i=!1}=t;if(!e.checkedDisabled&&i)return;t.checkedStatus=l?2:0,e.checkStrictly||(a.forEach((l=>{const a=z(s)[l];a.checkedStatus=!e.checkedDisabled&&a.disabled?a.checkedStatus:t.checkedStatus})),n.forEach((e=>{const t=s.value[e];t.checkedStatus=y(t)})))}(l,a)}));else for(let e=0;e<t.length;e++){const s=t[e];if(s.key===l){h(s,a);break}}}function h(t,l){var n;const{parentKeys:i,isLeaf:o,disabled:r=!1}=t;!e.checkedDisabled&&r||(!e.onlyRadioLeaf||o?((null==(n=a.value)?void 0:n.length)&&a.value.forEach((e=>{e.checkedStatus=0})),i.forEach((e=>{const t=s.value[e];t.checkedStatus=l?y(t):0})),t.checkedStatus=l?2:0):Ye(`限制了末节点选中，当前[${t.label}]非末节点`))}function p(e,t,l=!0){var a,n,i;if(!1!==l)for(let o=0;o<e.length;o++){const l=e[o];(null==t?void 0:t.includes(l.key))&&(l.expand=!0,(null==(n=l.children)?void 0:n.length)&&l.children.forEach((e=>{z(s)[e.key].show=!0})),(null==(i=l.parentKeys)?void 0:i.length)&&l.parentKeys.forEach((e=>{var t;const l=z(s)[e];l.expand=!0,(null==(t=l.children)?void 0:t.length)&&l.children.forEach((e=>{z(s)[e.key].show=!0}))})))}else for(let o=0;o<e.length;o++){const l=e[o];(null==t?void 0:t.includes(l.key))&&(l.expand=!1,(null==(a=l.childrenKeys)?void 0:a.length)&&l.childrenKeys.forEach((e=>{s.value[e].expand=!1,s.value[e].show=!1})))}}function f(l){const{childrenKeys:n,parentKeys:o,checkedStatus:r,isLeaf:c,disabled:u=!1}=l;if(!e.showCheckbox)return;if(u)return;l.checkedStatus=2===r?0:2,e.checkStrictly?e.expandChecked&&Ye("多选时，当 checkStrictly 为 true 时，不支持选择自动展开子节点属性(expandChecked)"):(e.expandChecked&&(l.show=!0,l.expand=(null==n?void 0:n.length)>0||c),n.forEach((t=>{var a;const n=z(s)[t];n.checkedStatus=n.disabled?n.checkedStatus:l.checkedStatus,e.expandChecked&&(n.show=!0,n.expand=(null==(a=null==n?void 0:n.childrenKeys)?void 0:a.length)>0||n.isLeaf)}))),e.checkStrictly||o.forEach((e=>{const t=s.value[e];t.checkedStatus=y(t)}));const d=[];for(let t=0;t<a.value.length;t++){const l=a.value[t];2===l.checkedStatus&&(e.packDisabledkey&&l.disabled||!l.disabled)&&d.push(l.key)}i.value=[...d],t("change",d,l)}function m(l){var n;const{parentKeys:o,checkedStatus:r,key:c,disabled:u=!1,isLeaf:d}=l;if(!e.showCheckbox&&(e.onlyRadioLeaf&&!d&&g(l),!u)){if(null==(n=a.value)?void 0:n.length)for(let e=0;e<a.value.length;e++){a.value[e].checkedStatus=0}o.forEach((e=>{const t=s.value[e];t.checkedStatus=y(t)})),l.checkedStatus=2===r?0:2,i.value=c,t("change",c,l)}}async function g(l){if(e.filterValue)return;const{expand:i,loading:d=!1,disabled:h}=l;if(o.value&&d)return;!function(e){const{expand:t,childrenKeys:l,children:a=null}=e;if(t)(null==l?void 0:l.length)&&l.forEach((e=>{z(s)[e]&&(z(s)[e].show=!1,z(s)[e].expand=!1)}));else if(null==a?void 0:a.length){a.map((e=>e.key)).forEach((e=>{z(s)[e]&&(z(s)[e].show=!0)}))}}(l),l.expand=!i;let p=null;h||(!e.showCheckbox&&e.onlyRadioLeaf&&e.loadMode?Ye("单选时，当 onlyRadioLeaf 为 true 时不支持动态数据"):p=await async function(t){var l;const{expand:s,key:i,loaded:d,children:h}=t;if((null==h?void 0:h.length)&&!e.alwaysFirstLoad)return t;if(s&&e.loadMode&&!d){if(Xe(e.loadApi)){n.value.push(i),o.value=!0,t.loading=!0;const s=De(t),d=await e.loadApi(s);let h=[...(null==(l=t.originItem)?void 0:l.children)||[],...d||[]];const p={};if(h=h.reduce(((e,t)=>(!p[t[r.value]]&&(p[t[r.value]]=e.push(t)),e)),[]),t.originItem.children=h||null,null==d?void 0:d.length){const e=a.value.findIndex((e=>e.key===t.key));c(d,t,t.level+1,e),a.value=u(a.value)}else t.expand=!1,t.isLeaf=!0,t.showArrow=!1;o.value=!1,t.loading=!1,t.loaded=!0}}else{const e=n.value.findIndex((e=>e===i));e>=0&&n.value.splice(e,1)}return t}(l)),t("expand",!i,p||l||null)}function y(t){if(!t)return 0;if(!e.checkedDisabled&&t.disabled)return t.checkedStatus||0;if(!e.showCheckbox)return 1;const{children:l}=t;if(l.every((e=>2===e.checkedStatus)))return 2;return l.every((e=>0===e.checkedStatus))?0:1}return C((()=>e.defaultExpandedKeys),(e=>{(null==e?void 0:e.length)?n.value=e:n.value=[]}),{immediate:!0}),C((()=>e.defaultCheckedKeys),(t=>{e.showCheckbox?(null==t?void 0:t.length)?i.value=t:i.value=[]:i.value=t||0===t?t:null}),{immediate:!0}),C((()=>e.data),(t=>{l.value=De(t),setTimeout((()=>{!function(){var t,n,i,o,d,h,p,f;r={value:(null==(t=e.field)?void 0:t.key)||(null==(n=e.field)?void 0:n.value)||e.valueField||"value",label:(null==(i=e.field)?void 0:i.label)||e.labelField||"label",children:(null==(o=e.field)?void 0:o.children)||e.childrenField||"children",disabled:(null==(d=e.field)?void 0:d.disabled)||e.disabledField||"disabled",append:(null==(h=e.field)?void 0:h.append)||e.appendField||"append",leaf:(null==(p=e.field)?void 0:p.leaf)||e.leafField||"leaf",sort:(null==(f=e.field)?void 0:f.sort)||e.sortField||"sort"};const m=De(l.value);a.value=[],s.value={},c(m),a.value=u(a.value)}()}),36)}),{immediate:!0,deep:!0}),C((()=>e.filterValue),(()=>{""!==e.filterValue?(a.value.forEach((t=>{t.label.indexOf(e.filterValue)>-1?(t.show=!0,t.parentKeys.forEach((e=>{s.value[e].show=!0}))):t.show=!1})),a.value.forEach((e=>{e.show&&e.parentKeys.forEach((e=>{s.value[e].show=!0}))}))):a.value.forEach((e=>{e.show=!0}))})),{datalist:a,unCheckedStatus:0,halfCheckedStatus:1,isCheckedStatus:2,handleCheckChange:f,handleRadioChange:m,handleLabelClick:function(t){e.showCheckbox?f(t):m(t)},handleExpandedChange:g,loadLoading:o,getCheckedKeys:()=>We(a.value,"checkedStatus",2,e.packDisabledkey),setCheckedKeys:function(t,l=!0){if(e.showCheckbox){if(!Ge(t))return void Ye(`setCheckedKeys 第一个参数非数组，传入的是[${t}]`);const s=a.value;if(!1===l){let e=[];for(let l=0;l<i.value.length;l++){const a=i.value[l];t.includes(a)||e.push(a)}return e=[...new Set(e)],i.value=e,void d(s,t,!1)}const o=[...i.value,...t];return i.value=[...new Set(o)],d(s,i.value,!0),void(e.expandChecked&&l&&(n.value=[...new Set([...i.value||[],...t||[]])],p(s,t,!0)))}if(Ge(t)&&(t=t[0]),!(s=t,Qe(s,"String")||function(e){return Qe(e,"Number")}(t)))return void Ye("setCheckedKeys 第一个参数字符串或数字，传入的是==>",t);var s;const o=a.value;i.value=l?t:null,e.expandChecked&&l&&p(o,[t],!0),d(o,t,!!l)},getHalfCheckedKeys:()=>We(a.value,"checkedStatus",1,e.packDisabledkey),getUncheckedKeys:()=>We(a.value,"checkedStatus",0,e.packDisabledkey),getExpandedKeys:()=>We(a.value,"expand",!0),getUnexpandedKeys:()=>We(a.value,"expand",!1),setExpandedKeys:function(e,t=!0){if(!Array.isArray(e)&&"all"!==e)return void Ye("setExpandedKeys 第一个参数非数组，传入的是===>",e);const l=a.value;if("all"===e)return void l.forEach((e=>{e.expand=t,e.level>0&&(e.show=t)}));if(!1===t){const t=[];for(let l=0;l<n.value.length;l++){const a=n.value[l];e.includes(a)||t.push(a)}return n.value=[...new Set(t)],void p(l,e,!1)}const s=[];for(let a=0;a<l.length;a++)e.includes(l[a].key)&&s.push(l[a].key);n.value=[...new Set(s)],p(l,s,!0)},getCheckedNodes:()=>Oe(a.value,"checkedStatus",2,e.packDisabledkey),getHalfCheckedNodes:()=>Oe(a.value,"checkedStatus",1,e.packDisabledkey),getUncheckedNodes:()=>Oe(a.value,"checkedStatus",0,e.packDisabledkey),getExpandedNodes:()=>Oe(a.value,"expand",!0),getUnexpandedNodes:()=>Oe(a.value,"expand",!1)}}}),[["render",function(e,t,l,c,u,p){const f=r,m=F,g=T;return a(),s(f,{class:"da-tree",style:h({"--theme-color":e.themeColor})},{default:n((()=>[i(g,{class:"da-tree-scroll","scroll-y":!0,"scroll-x":!1},{default:n((()=>[(a(!0),y(v,null,x(e.datalist,(t=>(a(),s(f,{class:d(["da-tree-item",{"is-show":t.show}]),style:h({paddingLeft:t.level*e.indent+"rpx"}),key:t.key},{default:n((()=>[t.showArrow&&!e.filterValue?(a(),s(f,{key:0,class:"da-tree-item__icon",onClick:l=>e.handleExpandedChange(t)},{default:n((()=>[e.loadLoading&&t.loading?(a(),s(f,{key:0,class:d(["da-tree-item__icon--arr","is-loading"])})):(a(),s(f,{key:1,class:d(["da-tree-item__icon--arr","is-expand",{"is-right":!t.expand}])},null,8,["class"]))])),_:2},1032,["onClick"])):(a(),s(f,{key:1,class:"da-tree-item__icon"})),e.showCheckbox?(a(),s(f,{key:2,class:d(["da-tree-item__checkbox",[`da-tree-item__checkbox--${e.checkboxPlacement}`,{"is--disabled":t.disabled}]]),onClick:l=>e.handleCheckChange(t)},{default:n((()=>[t.checkedStatus===e.isCheckedStatus?(a(),s(f,{key:0,class:"da-tree-item__checkbox--icon da-tree-checkbox-checked"})):t.checkedStatus===e.halfCheckedStatus?(a(),s(f,{key:1,class:"da-tree-item__checkbox--icon da-tree-checkbox-indeterminate"})):(a(),s(f,{key:2,class:"da-tree-item__checkbox--icon da-tree-checkbox-outline"}))])),_:2},1032,["class","onClick"])):_("v-if",!0),!e.showCheckbox&&e.showRadioIcon?(a(),s(f,{key:3,class:d(["da-tree-item__checkbox",[`da-tree-item__checkbox--${e.checkboxPlacement}`,{"is--disabled":t.disabled}]]),onClick:l=>e.handleRadioChange(t)},{default:n((()=>[t.checkedStatus===e.isCheckedStatus?(a(),s(f,{key:0,class:"da-tree-item__checkbox--icon da-tree-radio-checked"})):t.checkedStatus===e.halfCheckedStatus?(a(),s(f,{key:1,class:"da-tree-item__checkbox--icon da-tree-radio-indeterminate"})):(a(),s(f,{key:2,class:"da-tree-item__checkbox--icon da-tree-radio-outline"}))])),_:2},1032,["class","onClick"])):_("v-if",!0),i(f,{class:d(["da-tree-item__label","da-tree-item__label--"+t.checkedStatus]),onClick:l=>e.handleLabelClick(t)},{default:n((()=>[o(b(t.label)+" ",1),t.append?(a(),s(m,{key:0,class:"da-tree-item__label--append"},{default:n((()=>[o(b(t.append),1)])),_:2},1024)):_("v-if",!0)])),_:2},1032,["class","onClick"])])),_:2},1032,["class","style"])))),128))])),_:1})])),_:1},8,["style"])}],["__scopeId","data-v-1a4f5108"]]),et=w({__name:"outline",props:{content:{default:""},quote:{default:()=>[]}},setup(e){const t=e,l=e=>e.replaceAll(/(`{3}[\s\S]*?`{3}(?:(?!.)))|(`{3}[\s\S]*)|(`[\s\S]*?`{1}?)|(`[\s\S]*)|(?:\[(?:(?:number )|\^)?([\d]{1,2})\])/g,""),o=(e,t=[])=>(Object.keys(e).forEach((a=>{const s={name:l(a),children:[]};t.push(s),H(e[a])?s.children=e[a].map((e=>({name:l(e)}))):o(e[a],s.children)})),t),c=q((()=>{try{let e=JSON.parse(t.content);return e=o(e),e}catch(e){return[]}}));return(e,t)=>{const l=m(g("u-icon"),ee),o=r,u=m(g("u-collapse-item"),pe),d=m(g("u-collapse"),fe);return a(),s(d,null,{default:n((()=>[i(u,{open:""},{title:n((()=>[i(o,{class:"flex items-center"},{default:n((()=>[i(l,{width:"32rpx",name:"list-dot",color:"#333"}),U("span",{class:"text-2xl ml-1 font-bold"}," 大纲 ")])),_:1})])),default:n((()=>[i(Ze,{showRadioIcon:!1,class:"leading-snug",data:z(c),labelField:"name",valueField:"name",defaultExpandAll:""},null,8,["data"])])),_:1})])),_:1})}}}),tt=w({__name:"doc",props:{list:{default:()=>[]}},setup:e=>(t,l)=>{const c=m(g("zui-svg-icon"),Se),u=r,d=F,h=m(g("u-image"),ye),p=T,f=m(g("u-collapse-item"),pe),k=m(g("u-collapse"),fe);return a(),s(k,null,{default:n((()=>[i(f,{open:""},{title:n((()=>[i(u,{class:"flex items-center"},{default:n((()=>[i(c,{width:"32rpx",icon:"link",color:"#333"}),U("span",{class:"text-2xl ml-1 font-bold"}," 信息来源 ")])),_:1})])),default:n((()=>[i(u,null,{default:n((()=>[i(p,{"scroll-x":"",class:"h-[250rpx]"},{default:n((()=>[i(u,{class:"whitespace-nowrap inline-block"},{default:n((()=>[i(u,{class:"flex mx-[-8rpx]"},{default:n((()=>[(a(!0),y(v,null,x(e.list,((e,t)=>(a(),s(u,{class:"bg-page w-[500rpx] p-[30rpx] mx-[8rpx] rounded-[12rpx] text-main",key:e.seeMoreUrl,onClick:t=>{return l=e.seeMoreUrl,void window.open(l,"_blank");var l}},{default:n((()=>[i(d,{class:"font-bold text-sm line-clamp-1"},{default:n((()=>[i(d,{class:"text-primary"},{default:n((()=>[o(" 【"+b(e.index)+"】 ",1)])),_:2},1024),o(" "+b(e.title),1)])),_:2},1024),i(d,{class:"text-xs text-muted mt-[20rpx] line-clamp-2"},{default:n((()=>[o(b(e.snippet),1)])),_:2},1024),U("div",{class:"flex justify-end items-center mt-2"},[i(h,{src:e.image,alt:"",width:"24",height:"24",class:"flex"},{error:n((()=>[i(c,{width:"24rpx",icon:"link",color:"#333"})])),loading:n((()=>[])),_:2},1032,["src"]),U("div",{class:"text-xs text-tx-secondary ml-1"},b(e.showName),1)])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}),lt=w({__name:"index",setup(e){const t=Ae();return Y((()=>{t.abort(),t.$reset()})),(e,l)=>{const c=m(g("u-navbar"),re),u=r,d=m(g("uv-skeletons"),je),h=m(g("ua-markdown"),de),p=T;return a(),s(u,{class:"h-full flex flex-col"},{default:n((()=>[i(c,{"back-text":"AI搜索","custom-back":()=>z(t).showResult=!1},null,8,["custom-back"]),i(u,{class:"p-[20rpx]"},{default:n((()=>[i(Ke)])),_:1}),i(u,{class:"flex-1 min-h-0"},{default:n((()=>[i(p,{class:"h-full bg-white","scroll-y":""},{default:n((()=>[i(u,{class:"px-[20rpx] pb-[20rpx]"},{default:n((()=>[z(t).result.status<z(Le).SUCCESS?(a(),s(Fe,{key:0,class:"pt-[20rpx]"})):_("v-if",!0),z(t).result.query?(a(),s(u,{key:1,class:"pt-[20rpx]"},{default:n((()=>[i(u,{class:"break-words text-[36rpx] font-medium"},{default:n((()=>[o(b(z(t).result.query),1)])),_:1}),i(u,{class:"pt-1 text-tx-secondary text-xs"},{default:n((()=>[o(" 内容由 AI 生成，不能保证真实 ")])),_:1})])),_:1})):_("v-if",!0),i(u,{class:"mt-[20rpx]"},{default:n((()=>[z(t).result.status<z(Le).SUMMARY?(a(),s(d,{key:0,loading:!0,skeleton:[{type:"line",num:5,gap:"20rpx"}]})):_("v-if",!0)])),_:1}),(a(!0),y(v,null,x(z(t).result.markdown,((e,l)=>(a(),s(u,{key:l,class:"mt-[20rpx]"},{default:n((()=>{var s;return["markdown"===e.type||"expand_query"===e.type?(a(),y("div",{key:0},[i(h,{"link-list":null==(s=z(t).result.markdown[l-1])?void 0:s.content,content:e.content},null,8,["link-list","content"])])):_("v-if",!0)]})),_:2},1024)))),128)),z(t).result.suggestion.type?(a(),s(u,{key:2,class:"mt-[20rpx]"},{default:n((()=>{var e;return[i(Pe),(null==(e=z(t).result.suggestion.data)?void 0:e.length)?(a(),s(Ne,{key:0,class:"mt-[20rpx]",lists:z(t).result.suggestion.data},null,8,["lists"])):_("v-if",!0),z(t).result.outline.text?(a(),s(Te,{key:1,class:"mt-[20rpx]",content:z(t).result.outline.text,quote:z(t).result.outline.source_attributions},null,8,["content","quote"])):_("v-if",!0),z(t).result.outlineJson.text?(a(),s(et,{key:2,class:"mt-[20rpx]",content:z(t).result.outlineJson.text,quote:z(t).result.outlineJson.source_attributions},null,8,["content","quote"])):_("v-if",!0),z(t).result.search.length?(a(),s(tt,{key:3,list:z(t).result.search},null,8,["list"])):_("v-if",!0)]})),_:1})):_("v-if",!0)])),_:1})])),_:1})])),_:1})])),_:1})}}}),at=w({__name:"content",setup(e){const t=Ae();return C((()=>t.options.model),(e=>{e!==$e.STUDY&&(t.options.type=ze.ALL)}),{flush:"post",immediate:!0}),(e,l)=>{const i=r;return a(),s(i,{class:"h-full"},{default:n((()=>[z(t).showResult?(a(),s(lt,{key:0,class:"h-full"})):(a(),s(He,{key:1,class:"h-full"})),_(' <u-empty text="移动端暂时不支持，请前往PC端" mode="list"></u-empty> ')])),_:1})}}}),st=G(w({__name:"ai_search",setup(e){const t=B(),s=J().query.id;return q((()=>`${Q.baseUrl}mobile/packages/pages/ai_search/ai_search?id=${s}&webview=1&token=${t.token}`)),(e,t)=>{const s=m(g("page-meta"),l),o=r,c=m(g("floating-menu"),X);return a(),y(v,null,[i(s,{"page-style":e.$theme.pageStyle},null,8,["page-style"]),i(o,{class:"h-full"},{default:n((()=>[i(at)])),_:1}),_("    悬浮菜单    "),i(c)],64)}}}),[["__scopeId","data-v-33a07b9e"]]);export{st as default};
