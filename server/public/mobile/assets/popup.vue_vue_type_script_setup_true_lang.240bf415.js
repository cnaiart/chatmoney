import{_ as e}from"./u-button.cd082997.js";import{d as l,s as a,M as t,x as u,r as s,a as o,o as d,c as m,w as r,b as n,f as i,t as p,e as c,k as f,F as x,g as _,m as h,j as y,l as k,N as V,I as v}from"./index-9f08b835.js";import{_ as b}from"./u-popup.6c89de8e.js";import{a as j}from"./index.f8572cdb.js";import{_ as w}from"./u-icon.f0423eb2.js";import{_ as C}from"./u-input.6dc4a2b4.js";const g=l({__name:"item",props:{modelValue:null,name:null,itemId:null},emits:["update:modelValue","edit","delete"],setup(e,{emit:l}){const k=e,V=a(""),v=a(!1),b=t({get:()=>k.modelValue,set(e){l("update:modelValue",e)}}),j=t((()=>b.value===k.itemId)),g=()=>{v.value=!1,l("edit",V.value)};return u((()=>k.modelValue),(()=>{v.value=!1})),u((()=>k.name),(e=>{V.value=e}),{immediate:!0}),(a,t)=>{const u=s(o("u-icon"),w),k=s(o("u-input"),C),I=y;return d(),m(I,{class:h(["px-[20rpx] h-[80rpx] flex items-center rounded-[8rpx] mb-[20rpx] cursor-pointer",{" bg-page":c(j)}]),onClick:t[4]||(t[4]=l=>b.value=e.itemId)},{default:r((()=>[n(u,{name:"chat"}),n(I,{class:"ml-[20rpx] flex-1 min-w-0"},{default:r((()=>[v.value?(d(),m(k,{key:0,height:"50","custom-style":{fontSize:"26rpx"},modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=e=>V.value=e),border:""},null,8,["modelValue"])):(d(),m(I,{key:1,class:"line-clamp-1"},{default:r((()=>[i(p(e.name),1)])),_:1}))])),_:1}),c(j)?(d(),f(x,{key:0},[v.value?(d(),f(x,{key:0},[n(I,{class:"cursor-pointer mx-[12rpx] flex h-full",onClick:g},{default:r((()=>[n(u,{name:"checkbox-mark"})])),_:1}),n(I,{class:"cursor-pointer flex h-full",onClick:t[1]||(t[1]=e=>v.value=!1)},{default:r((()=>[n(u,{name:"close"})])),_:1})],64)):(d(),f(x,{key:1},[n(I,{class:"cursor-pointer mr-[12rpx] flex h-full",onClick:t[2]||(t[2]=e=>v.value=!0)},{default:r((()=>[n(u,{name:"edit-pen"})])),_:1}),n(I,{class:"cursor-pointer flex h-full",onClick:t[3]||(t[3]=e=>l("delete"))},{default:r((()=>[n(u,{name:"trash"})])),_:1})],64))],64)):_("v-if",!0)])),_:1},8,["class"])}}}),I=l({__name:"popup",props:{lists:{type:Array,default:()=>[]},show:{type:Boolean},modelValue:{type:[Number,String],required:!0}},emits:["update:modelValue","add","edit","delete","clear"],setup(l,{emit:a}){const t=l,{show:u,modelValue:p}=j(t,a);return(t,_)=>{const h=s(o("u-button"),e),j=y,w=v,C=s(o("u-popup"),b);return d(),m(C,{modelValue:c(u),"onUpdate:modelValue":_[3]||(_[3]=e=>V(u)?u.value=e:null),mode:"left",width:"480rpx","safe-area-inset-bottom":""},{default:r((()=>[n(j,{class:"flex flex-col h-full relative z-[9999]"},{default:r((()=>[n(j,{class:"px-[20rpx] py-[20rpx]"},{default:r((()=>[n(h,{type:"primary","custom-style":{width:"100%"},onClick:_[0]||(_[0]=e=>a("add"))},{default:r((()=>[i(" + 新建会话 ")])),_:1})])),_:1}),n(j,{class:"flex-1 min-h-0"},{default:r((()=>[n(w,{"scroll-y":"",class:"h-full"},{default:r((()=>[n(j,{class:"px-[20rpx]"},{default:r((()=>[(d(!0),f(x,null,k(l.lists,(e=>(d(),m(j,{key:e.id},{default:r((()=>[n(g,{modelValue:c(p),"onUpdate:modelValue":_[1]||(_[1]=e=>V(p)?p.value=e:null),"item-id":e.id,name:e.name,onEdit:l=>a("edit",{id:e.id,name:l}),onDelete:l=>a("delete",e.id)},null,8,["modelValue","item-id","name","onEdit","onDelete"])])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),n(j,{class:"px-[20rpx] py-[20rpx]"},{default:r((()=>[n(h,{"custom-style":{width:"100%"},onClick:_[2]||(_[2]=e=>a("clear"))},{default:r((()=>[i(" 删除所有会话 ")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}});export{I as _};
