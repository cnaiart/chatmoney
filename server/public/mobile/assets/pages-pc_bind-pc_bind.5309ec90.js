import{_ as a}from"./u-avatar.fa3324f6.js";import{d as e,s,Z as t,a9 as l,aa as r,o as c,c as n,w as u,b as o,f as i,t as f,g as _,ad as p,an as d,r as m,a as v,j as x}from"./index-9f08b835.js";import{_ as y}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.f0423eb2.js";const g=y(e({__name:"pc_bind",setup(e){const y=s({}),g=p(),j=async(a={getUrl:!0})=>{let e=null;const{code:s,key:t="",getUrl:c}=a;s&&(e=await d({code:s,key:t}),y.value=e),c&&await l.getUrl(r.BIND_WX)};return t((()=>{const a=g.query,e=l.getAuthData();if(e.code&&e.scene==r.BIND_WX)try{j({...a,...e})}catch(s){}finally{l.setAuthData()}else a.is_pc&&a.key&&j()})),(e,s)=>{const t=m(v("u-avatar"),a),l=x;return y.value.nickname?(c(),n(l,{key:0,class:"h-full flex flex-col items-center justify-center"},{default:u((()=>[o(t,{size:"140",src:y.value.avatar},null,8,["src"]),o(l,{class:"my-[30rpx] text-xl"},{default:u((()=>[i(f(y.value.nickname),1)])),_:1}),o(l,{class:"text-[36rpx]"},{default:u((()=>[i("微信绑定成功")])),_:1})])),_:1})):_("v-if",!0)}}}),[["__scopeId","data-v-20a0fb4c"]]);export{g as default};
