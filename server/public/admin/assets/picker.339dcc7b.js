import{C as D,D as Z,G as ee,H as ae,w as te,F as ue,B as ne,M as le,b as se,t as oe,N as pe,O as ie,d as ce,f as me}from"./element-plus.9458fb52.js";import{b as R}from"./index.d9c09296.js";import{d as O,b as G,o as d,c as h,a as A,S as I,a6 as w,M as de,R as $,u as t,r as v,_ as re,w as B,L as _e,T as l,K as r,a7 as Ee,J as b,j as k,P as x,s as ye,Y as Se}from"./@vue.7946e41b.js";import{_ as Pe}from"./index.vue_vue_type_script_setup_true_lang.bc724294.js";import{u as Ae}from"./usePaging.9ff9bac2.js";import{h as ge,g as he}from"./ai_creation.8718de7e.js";import{_ as T}from"./vue-drag-resize.1871ee6b.js";import{P as fe}from"./index.9f63869e.js";var e=(u=>(u.SHOP_PAGES="shop",u.CREATIVE_PICKER="creative",u.CUSTOM_LINK="custom",u))(e||{});const Fe={class:"shop-pages h-[458px]"},be={class:"link-list flex flex-wrap"},Ce=["onClick"],ke=O({__name:"shop-pages",props:{modelValue:{type:Object,default:()=>({})},type:{type:String,default:"pc"},isTab:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(u,{emit:g}){const p=u,S=g,i=[{name:"\u9996\u9875",path:"/",type:e.SHOP_PAGES},{name:"AI\u5BF9\u8BDD",path:"/dialogue/chat",type:e.SHOP_PAGES},{name:"AI\u521B\u4F5C",path:"/creation",type:e.SHOP_PAGES},{name:"AI\u667A\u80FD\u4F53",path:"/application/layout/robot",type:e.SHOP_PAGES},{name:"AI\u641C\u7D22",path:"/search",type:e.SHOP_PAGES},{name:"\u667A\u80FD\u4F53\u5E7F\u573A",path:"/robot_square",type:e.SHOP_PAGES},{name:"SD\u7ED8\u753B",path:"/draw/sd",type:e.SHOP_PAGES},{name:"DALLE\u7ED8\u753B",path:"/draw/dalle",type:e.SHOP_PAGES},{name:"MJ\u7ED8\u753B",path:"/draw/mj",type:e.SHOP_PAGES},{name:"AI\u97F3\u4E50",path:"/music",type:e.SHOP_PAGES},{name:"AI\u89C6\u9891",path:"/video",type:e.SHOP_PAGES},{name:"\u5145\u503C\u4E2D\u5FC3",path:"/user/recharge",type:e.SHOP_PAGES},{name:"\u4F1A\u5458\u4E2D\u5FC3",path:"/user/member",type:e.SHOP_PAGES},{name:"\u6211\u7684\u4F5C\u54C1",path:"/user/works",type:e.SHOP_PAGES},{path:"/mind_map",name:"\u601D\u7EF4\u5BFC\u56FE",type:e.SHOP_PAGES},{path:"/user/promotion/distribution",name:"\u5206\u9500\u63A8\u5E7F",type:e.SHOP_PAGES},{path:"/app_center",name:"\u5E94\u7528\u4E2D\u5FC3",type:e.SHOP_PAGES}],s=[{name:"\u9996\u9875",path:"/pages/index/index",type:e.SHOP_PAGES,canTab:!0},{name:"AI\u5BF9\u8BDD",path:"/packages/pages/dialogue/dialogue",type:e.SHOP_PAGES,canTab:!0},{name:"AI\u521B\u4F5C",path:"/pages/ai_creation/ai_creation",type:e.SHOP_PAGES,canTab:!0},{name:"AI\u667A\u80FD\u4F53",path:"/pages/kb/kb",type:e.SHOP_PAGES,canTab:!0},{name:"AI\u97F3\u4E50",path:"/packages/pages/music/music",type:e.SHOP_PAGES,canTab:!0},{name:"AI\u89C6\u9891",path:"/packages/pages/video/video",type:e.SHOP_PAGES,canTab:!0},{name:"AI\u641C\u7D22",path:"/packages/pages/ai_search/ai_search",type:e.SHOP_PAGES},{name:"SD\u7ED8\u753B",path:"/packages/pages/draw/sd",type:e.SHOP_PAGES,canTab:!0},{name:"DALLE\u7ED8\u753B",path:"/packages/pages/draw/dalle",type:e.SHOP_PAGES,canTab:!0},{name:"MJ\u7ED8\u753B",path:"/packages/pages/draw/mj",type:e.SHOP_PAGES,canTab:!0},{name:"\u4E2A\u4EBA\u4E2D\u5FC3",path:"/pages/user/user",type:e.SHOP_PAGES,canTab:!0},{name:"\u4E2A\u4EBA\u4FE1\u606F",path:"/packages/pages/user_set/user_set",type:e.SHOP_PAGES,canTab:!1},{name:"\u5145\u503C\u4E2D\u5FC3",path:"/packages/pages/recharge/recharge",type:e.SHOP_PAGES},{name:"\u4F1A\u5458\u4E2D\u5FC3",path:"/packages/pages/member_center/member_center",type:e.SHOP_PAGES},{name:"\u667A\u80FD\u4F53\u5E7F\u573A",path:"/packages/pages/robot_square/robot_square",type:e.SHOP_PAGES,canTab:!0},{name:"\u8054\u7CFB\u5BA2\u670D",path:"/packages/pages/customer_service/customer_service",type:e.SHOP_PAGES},{name:"\u5173\u4E8E\u6211\u4EEC",path:"/packages/pages/as_us/as_us",type:e.SHOP_PAGES},{name:"\u9690\u79C1\u534F\u8BAE",path:"/packages/pages/agreement/agreement",type:e.SHOP_PAGES},{name:"\u8D2D\u4E70\u8BB0\u5F55",path:"/packages/pages/buy_record/buy_record",type:e.SHOP_PAGES},{name:"\u6211\u7684\u4F5C\u54C1",path:"/packages/pages/user_works/user_works",type:e.SHOP_PAGES},{path:"/packages/pages/mind_map/mind_map",name:"\u601D\u7EF4\u5BFC\u56FE",type:e.SHOP_PAGES,canTab:!0},{path:"/packages/pages/promotion_center/promotion_center",name:"\u5206\u9500\u63A8\u5E7F",type:e.SHOP_PAGES,canTab:!0},{path:"/packages/pages/invite_poster/invite_poster",name:"\u9080\u8BF7\u6D77\u62A5",type:e.SHOP_PAGES},{path:"/packages/pages/redeem_code/redeem_code",name:"\u5361\u5BC6\u5151\u6362",type:e.SHOP_PAGES,canTab:!0},{path:"/packages/pages/notification/notification",name:"\u6D88\u606F\u901A\u77E5",type:e.SHOP_PAGES},{path:"/packages/pages/task_reward/task_reward",name:"\u4EFB\u52A1\u5956\u52B1",type:e.SHOP_PAGES,canTab:!0},{path:"/packages/pages/app_center/app_center",name:"\u5E94\u7528\u4E2D\u5FC3",type:e.SHOP_PAGES,canTab:!0}],o=G(()=>p.type=="pc"?i:s.filter(a=>p.isTab?a.canTab:!0)),y=a=>{S("update:modelValue",a)};return(a,n)=>(d(),h("div",Fe,[A("div",be,[(d(!0),h(I,null,w(t(o),(P,f)=>(d(),h("div",{class:de(["link-item border border-br px-5 py-[5px] rounded-[3px] cursor-pointer mr-[10px] mb-[10px]",{"border-primary text-primary":u.modelValue.path==P.path&&u.modelValue.name==P.name}]),key:f,onClick:c=>y(P)},$(P.name),11,Ce))),128))])]))}}),ve={class:"detail"},Oe={class:"w-[150px]"},Ve={class:"flex row-center"},Be={class:"flex justify-end mt-5"},Ge=O({__name:"creative-picker",props:{modelValue:{type:Object,default:()=>({})},type:{type:String,default:"pc"}},emits:["update:modelValue"],setup(u,{emit:g}){const p=u,S=g,i=v({path:"/pages/news_detail/news_detail",name:"",query:{},type:e.CREATIVE_PICKER}),s=v([]),o=re({name:"",category_id:""}),{pager:y,getLists:a,resetPage:n,resetParams:P}=Ae({fetchFun:ge,params:o}),f=G(()=>p.type=="pc"?"/creation/produce":"/packages/pages/create/create"),c=async()=>{const{lists:_}=await he({page_type:0});s.value=_},F=_=>_==Number(i.value.id),K=_=>{let E=null;p.type=="pc"?E={modelId:_.id,cateId:0}:E={id:_.id},i.value={id:_.id,name:_.name,path:f.value,query:E,type:e.CREATIVE_PICKER},S("update:modelValue",i.value)};return B(()=>p.modelValue,_=>{if(_.type!=e.CREATIVE_PICKER)return i.value={id:"",name:"",path:f.value,type:e.SHOP_PAGES};i.value=_},{immediate:!0}),c(),a(),(_,E)=>{const M=D,H=Z,L=ee,U=ae,N=R,j=te,q=ue,z=ne,C=le,J=se,Y=oe,Q=pe,W=Pe,X=ie;return _e((d(),h("div",ve,[l(q,{ref:"formRef",model:t(o),inline:!0},{default:r(()=>[l(H,{label:"\u521B\u4F5C\u540D\u79F0"},{default:r(()=>[l(M,{class:"w-[180px]",modelValue:t(o).name,"onUpdate:modelValue":E[0]||(E[0]=m=>t(o).name=m),placeholder:"\u8BF7\u8F93\u5165\u521B\u4F5C\u540D\u79F0",clearable:"",onKeyup:Ee(t(n),["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),l(H,{label:"\u521B\u4F5C\u5206\u7C7B"},{default:r(()=>[A("div",Oe,[l(U,{modelValue:t(o).category_id,"onUpdate:modelValue":E[1]||(E[1]=m=>t(o).category_id=m)},{default:r(()=>[l(L,{label:"\u5168\u90E8",value:""}),(d(!0),h(I,null,w(t(s),(m,V)=>(d(),b(L,{key:V,label:m.name,value:m.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1}),l(H,{label:""},{default:r(()=>[l(j,{type:"primary",onClick:t(n)},{default:r(()=>[l(N,{name:"el-icon-Search"})]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"]),l(Q,{ref:"table",data:t(y).lists,style:{width:"100%"},height:"356px",size:"small","row-key":"id"},{default:r(()=>[l(C,{label:"\u9009\u62E9","min-width":"50"},{default:r(({row:m})=>[A("div",Ve,[l(z,{"model-value":F(m.id),size:"large",onChange:V=>K(m)},null,8,["model-value","onChange"])])]),_:1}),l(C,{label:"\u56FE\u6807","min-width":"100"},{default:r(({row:m})=>[l(J,{src:m.image,class:"w-[44px] h-[44px]"},null,8,["src"])]),_:1}),l(C,{label:"\u6A21\u578B\u540D\u79F0",prop:"name","min-width":"120"}),l(C,{label:"\u6A21\u578B\u63CF\u8FF0",prop:"tips","min-width":"150"}),l(C,{label:"\u6240\u5C5E\u7C7B\u76EE",prop:"category_name","min-width":"120"}),l(C,{label:"\u72B6\u6001","min-width":"100"},{default:r(({row:m})=>[l(Y,{disabled:!0,modelValue:m.status,"onUpdate:modelValue":V=>m.status=V,"active-value":1,"inactive-value":0},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"]),A("div",Be,[l(W,{modelValue:t(y),"onUpdate:modelValue":E[2]||(E[2]=m=>k(y)?y.value=m:null),onChange:E[3]||(E[3]=m=>t(a)())},null,8,["modelValue"])])])),[[X,t(y).loading]])}}});const He=T(Ge,[["__scopeId","data-v-2468f380"]]),xe={class:"custom-link h-[428px] mt-[30px]"},De={class:"flex flex-wrap"},Ie=A("div",{class:"mt-[5px]"},"\u81EA\u5B9A\u4E49\u94FE\u63A5",-1),we={class:"ml-4 flex-1 min-w-[100px]"},Te=A("div",{class:"form-tips"}," \u8BF7\u586B\u5199\u5B8C\u6574\u7684\u5E26\u6709\u201Chttps://\u201D\u6216\u201Chttp://\u201D\u7684\u94FE\u63A5\u5730\u5740\u3002\u5728\u5C0F\u7A0B\u5E8F\u4E2D\u8DF3\u8F6C\uFF0C\u94FE\u63A5\u7684\u57DF\u540D\u5FC5\u987B\u5728\u5FAE\u4FE1\u516C\u4F17\u5E73\u53F0\u8BBE\u7F6E\u4E1A\u52A1\u57DF\u540D ",-1),Le=O({__name:"custom-link",props:{modelValue:{type:Object,default:()=>({})},type:{type:String,default:"pc"}},emits:["update:modelValue"],setup(u,{emit:g}){const p=g,S=i=>{p("update:modelValue",{path:i,type:e.CUSTOM_LINK})};return(i,s)=>{const o=D;return d(),h("div",xe,[A("div",De,[Ie,A("div",we,[l(o,{"model-value":u.modelValue.path,placeholder:"\u8BF7\u8F93\u5165\u94FE\u63A5\u5730\u5740",onInput:S},null,8,["model-value"]),Te])])])}}}),Re={class:"link flex"},$e={class:"flex-1 pl-4"},Ke=O({__name:"index",props:{modelValue:{type:Object,required:!0},type:{type:String,default:"pc"},isTab:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(u,{emit:g}){const p=u,S=g,i=v([{name:"\u57FA\u7840\u9875\u9762",type:e.SHOP_PAGES,link:{}},{name:"\u521B\u4F5C\u9009\u62E9",type:e.CREATIVE_PICKER,link:{}},{name:"\u81EA\u5B9A\u4E49\u94FE\u63A5",type:e.CUSTOM_LINK,link:{}}]),s=G({get(){var a;return(a=i.value.find(n=>n.type==o.value))==null?void 0:a.link},set(a){i.value.forEach(n=>{n.type==o.value&&(n.link=a)})}}),o=v(e.SHOP_PAGES),y=a=>{o.value=a};return B(s,a=>{!a.type||S("update:modelValue",a)}),B(()=>p.modelValue,a=>{o.value=a.type,s.value=a},{immediate:!0}),(a,n)=>{const P=ce,f=me;return d(),h("div",Re,[l(f,{"default-active":t(o),class:"w-[160px] min-h-[350px] link-menu",onSelect:y},{default:r(()=>[(d(!0),h(I,null,w(t(i),(c,F)=>(d(),b(P,{index:c.type,key:F},{default:r(()=>[A("span",null,$(c.name),1)]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"]),A("div",$e,[t(e).SHOP_PAGES==t(o)?(d(),b(ke,{key:0,modelValue:t(s),"onUpdate:modelValue":n[0]||(n[0]=c=>k(s)?s.value=c:null),type:u.type,"is-tab":u.isTab},null,8,["modelValue","type","is-tab"])):x("",!0),t(e).CREATIVE_PICKER==t(o)?(d(),b(He,{key:1,modelValue:t(s),"onUpdate:modelValue":n[1]||(n[1]=c=>k(s)?s.value=c:null),type:u.type},null,8,["modelValue","type"])):x("",!0),t(e).CUSTOM_LINK==t(o)?(d(),b(Le,{key:2,modelValue:t(s),"onUpdate:modelValue":n[2]||(n[2]=c=>k(s)?s.value=c:null),type:u.type},null,8,["modelValue","type"])):x("",!0)])])}}});const Me=T(Ke,[["__scopeId","data-v-ded1e60d"]]),Ue=O({__name:"picker",props:{modelValue:{type:Object},disabled:{type:Boolean,default:!1},type:{type:String,default:"pc"},isTab:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(u,{emit:g}){const p=u,S=g,i=ye(),s=v({path:"",type:e.SHOP_PAGES}),o=()=>{S("update:modelValue",{...s.value,isTab:p.isTab})},y=G(()=>{var a,n;switch((a=p.modelValue)==null?void 0:a.type){case e.SHOP_PAGES:return p.modelValue.name;case e.CREATIVE_PICKER:return p.modelValue.name;case e.CUSTOM_LINK:return p.modelValue.path;default:return(n=p.modelValue)==null?void 0:n.name}});return B(()=>p.modelValue,a=>{a!=null&&a.type&&(s.value=a)},{immediate:!0}),(a,n)=>{const P=R,f=D;return d(),h("div",{class:"link-picker flex-1",onClick:n[2]||(n[2]=c=>{var F;return!u.disabled&&((F=t(i))==null?void 0:F.open())})},[l(f,{"model-value":t(y),placeholder:"\u8BF7\u9009\u62E9\u94FE\u63A5",readonly:"",disabled:u.disabled},{suffix:r(()=>{var c;return[(c=u.modelValue)!=null&&c.path?(d(),b(P,{key:1,name:"el-icon-Close",onClick:n[0]||(n[0]=Se(F=>!u.disabled&&S("update:modelValue",{}),["stop"]))})):(d(),b(P,{key:0,name:"el-icon-ArrowRight"}))]}),_:1},8,["model-value","disabled"]),l(fe,{ref_key:"popupRef",ref:i,width:"900px",title:"\u94FE\u63A5\u9009\u62E9",onConfirm:o},{default:r(()=>[l(Me,{modelValue:t(s),"onUpdate:modelValue":n[1]||(n[1]=c=>k(s)?s.value=c:null),type:u.type,"is-tab":u.isTab},null,8,["modelValue","type","is-tab"])]),_:1},512)])}}});const Xe=T(Ue,[["__scopeId","data-v-87340a84"]]);export{Xe as _};
