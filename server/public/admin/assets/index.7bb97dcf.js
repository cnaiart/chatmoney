import{x as S,y as T,b as R,w as $,L as z}from"./element-plus.9458fb52.js";import{g as x,b as I}from"./index.d9c09296.js";import{_ as N}from"./session.vue_vue_type_script_setup_true_lang.ab9f565a.js";import{_ as P}from"./embedding.vue_vue_type_script_setup_true_lang.744030d0.js";import{c as j,e as q}from"./model.de461dbd.js";import{D as U}from"./vuedraggable.0170ba82.js";import{d as M,s as c,r as g,_ as J,b as K,a3 as Q,ag as G,o as i,c as v,T as l,K as r,u as a,j as h,S as H,a6 as O,J as u,a as o,M as y,R as w,L as D,Q as W}from"./@vue.7946e41b.js";import"./@element-plus.7d8ec931.js";import"./lodash-es.0dcbbec0.js";import"./dayjs.34e6308d.js";import"./@iktakahiro.37fa5b2b.js";import"./katex.dbdd07a7.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.b082b0c1.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@vueuse.927bd09a.js";import"./lodash.4744e7a5.js";import"./axios.978f8ca9.js";import"./vue-router.c4b4a189.js";import"./pinia.83a6d4dd.js";import"./vue-demi.b3a9cad9.js";import"./css-color-function.f0ee4d0a.js";import"./color.12f7d1c1.js";import"./clone.65ca8e73.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.6eeb6e12.js";import"./ms.a9ae1d6d.js";import"./vue-drag-resize.1871ee6b.js";import"./nprogress.7152acad.js";import"./vue-clipboard3.fa3fc3ae.js";import"./clipboard.f56f94fd.js";import"./echarts.8535e5a6.js";import"./zrender.3eba8991.js";import"./tslib.60310f1a.js";import"./highlight.js.4f6161a5.js";import"./@highlightjs.932a13cd.js";import"./vue.c48aa7bc.js";import"./sortablejs.65032496.js";const X={class:"mx-[10px] mb-[20px]"},Y={class:"flex items-center px-[15px] py-[25px] w-[300px] bg-[#f8f8f8] dark:bg-page rounded-[12px] h-full cursor-move hover:bg-primary-light-9 border border-solid border-page hover:border-primary"},Z={class:"mx-[16px] flex-1 min-w-0"},ee={class:"text-xl font-bold mb-[4px]"},oe={class:"mx-[10px] mb-[20px] min-h-[100px]"},te={class:"flex items-center justify-center px-[15px] py-[25px] w-[300px] bg-[#f8f8f8] dark:bg-page rounded-[12px] h-full hover:bg-primary-light-9 border border-solid border-page hover:border-primary"},re=o("div",{class:"text-xl font-bold ml-1"},"\u81EA\u5B9A\u4E49\u6A21\u578B",-1),ae=M({name:"aiModel"}),Oe=M({...ae,setup(se){c();const s=g("chatModels"),B=J([{name:"AI\u5BF9\u8BDD\u914D\u7F6E",label:"chatModels",component:c(N),type:1},{name:"\u5411\u91CF\u6A21\u578B\u914D\u7F6E",label:"vectorModels",component:c(P),type:2}]),m=g({chatModels:[],vectorModels:[]}),n=K({get(){return m.value[s.value]},set(p){m.value[s.value]=p}}),_=async()=>{m.value=await j()},E=async()=>{const p=n.value.map((t,d)=>({id:t.id,sort:d}));try{await q({orders:p})}catch{_()}};return _(),(p,t)=>{const d=S,F=T,k=R,V=$,f=Q("router-link"),A=I,C=z,b=G("perms");return i(),v("div",null,[l(C,{shadow:"never",class:"!border-none"},{default:r(()=>[l(F,{modelValue:a(s),"onUpdate:modelValue":t[0]||(t[0]=e=>h(s)?s.value=e:null)},{default:r(()=>[(i(!0),v(H,null,O(a(B),(e,L)=>(i(),u(d,{label:`${e.name}`,name:e.label,key:L,lazy:""},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),l(a(U),{class:"flex flex-wrap mx-[-10px]",modelValue:a(n),"onUpdate:modelValue":t[1]||(t[1]=e=>h(n)?n.value=e:null),animation:"300",onSort:E},{item:r(({element:e})=>[o("div",X,[o("div",Y,[o("div",{class:y(["flex items-center flex-1 min-w-0",{"opacity-60":!e.is_enable}])},[l(k,{src:e.logo,class:"w-[44px] h-[44px]"},null,8,["src"]),o("div",Z,[o("div",ee,w(e.name),1),o("div",{class:y(["flex items-center text-tx-secondary before:mr-[6px] before:block before:w-[8px] before:h-[8px] before:bg-success before:rounded-[50%]",{"before:!bg-danger":!e.is_enable}])},w(e.is_enable?"\u5DF2\u542F\u7528":"\u5DF2\u505C\u7528"),3)])],2),D((i(),u(f,{to:{path:a(x)("setting.ai.models/edit"),query:{id:e.id,type:e.type}}},{default:r(()=>[l(V,{type:"primary",plain:""},{default:r(()=>[W("\u7F16\u8F91")]),_:1})]),_:2},1032,["to"])),[[b,["setting.ai.models/edit"]]])])])]),footer:r(()=>[o("div",oe,[D((i(),u(f,{to:{path:a(x)("setting.ai.models/add"),query:{type:a(s)==="chatModels"?1:2}}},{default:r(()=>[o("div",te,[l(A,{name:"el-icon-Plus",size:20}),re])]),_:1},8,["to"])),[[b,["setting.ai.models/add"]]])])]),_:1},8,["modelValue"])]),_:1})])}}});export{Oe as default};
