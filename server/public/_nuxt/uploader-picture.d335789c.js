import{E as b}from"./el-image-viewer.d5621b18.js";import{_ as w}from"./index.vue.7f39d825.js";import{E as I}from"./el-upload.5844c619.js";import{E as B}from"./index.883ed08b.js";import{cv as C,ap as M,am as P}from"./entry.dfbfd4fd.js";import"./el-progress.8f5e9f30.js";import"./el-form-item.4ed993c7.js";import{k as S,a as U,l as N,H as c,U as $,V as p,J as t,X as n,u as i,I as f,Y as j,Z as q,e as z,ag as F,ah as G,a7 as J}from"./swiper-vue.2eb6bd20.js";import{_ as D}from"./uploader.b31ee9fb.js";import{_ as L}from"./_plugin-vue_export-helper.c27b6911.js";import"./throttle.d40f833a.js";import"./debounce.8cbe4cfc.js";import"./position.4bcf7430.js";import"./cloneDeep.4e82bacf.js";import"./_baseClone.20563df6.js";import"./_getTag.83294aff.js";import"./isEqual.0df0ab2c.js";import"./castArray.c741e965.js";const d=o=>(F("data-v-cd547139"),o=o(),G(),o),R=d(()=>t("span",{class:"font-bold text-tx-primary"}," 上传参考图 ",-1)),A={class:"flex-1 leading-snug"},H={key:0,class:"flex justify-center items-center h-[150px] relative"},T={key:1,class:"uploader-container"},X=d(()=>t("img",{src:D,alt:"文件上传",class:"w-8 mx-auto mb-2"},null,-1)),Y=d(()=>t("div",{class:"el-upload__text text-[#798696] !text-[13px]"},[J(" 拖拽文件到此处或者"),t("em",null,"点击上传")],-1)),Z={class:"el-upload__tip text-[#798696]"},m=10,K=S({__name:"uploader-picture",props:{modelValue:{default:""},type:{default:"image"},files:{}},emits:["update:modelValue"],setup(o,{emit:u}){const r=o,{modelValue:s}=C(r,u),a=U([]),v=e=>e.size>m*1024*1024?(M.error(`文件大小不能超过${m}MB`),!1):!0,g=e=>{u("update:modelValue",e.uri),s.value=e.uri,a.value=[{name:e.name,url:e.uri}]},h=e=>P(r.type,{file:e.file,name:"file",header:{}}),x=N(()=>{switch(r.type){case"image":return".jpg,.png,.jpeg";case"video":return".wmv,.avi,.mpg,.mpeg,.3gp,.mov,.mp4,.flv,.rmvb,.mkv";case"audio":return;default:return"*"}});return(e,l)=>{const y=b,k=w,E=I,V=B;return c(),$(V,{prop:"image",required:""},{label:p(()=>[R]),default:p(()=>[t("div",A,[n(E,{"file-list":i(a),"onUpdate:fileList":l[1]||(l[1]=_=>z(a)?a.value=_:null),class:"uploader",drag:"",multiple:!1,"show-file-list":!1,"on-success":g,"http-request":h,"before-upload":v,accept:i(x)},{default:p(()=>[t("div",null,[i(s)?(c(),f("div",H,[n(y,{class:"!block h-[100%]",src:i(s),fit:"contain"},null,8,["src"]),n(k,{class:"!absolute right-0 top-0 z-10 drop-shadow",name:"el-icon-CircleCloseFilled",color:"#ffffff",onClick:l[0]||(l[0]=j(_=>s.value="",["stop"]))})])):(c(),f("div",T,[X,Y,t("div",Z,q(`支持图片格式：JPG/JPEG/PNG，低于${m}MB`),1)]))])]),_:1},8,["file-list","accept"])])]),_:1})}}});const fe=L(K,[["__scopeId","data-v-cd547139"]]);export{fe as default};
