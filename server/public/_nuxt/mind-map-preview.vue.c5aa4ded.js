import{_ as R}from"./index.vue.7f39d825.js";import{a5 as D,d as L}from"./entry.dfbfd4fd.js";import{E as y,a as j,b as M}from"./el-dropdown.b4c59a57.js";/* empty css                  *//* empty css                     */import{d as B}from"./download.f61d7233.js";import{T as H,e as I}from"./index.15cf1258.js";import{k as T,s as f,b as C,E as N,H as _,I as u,J as i,X as o,V as t,a7 as r}from"./swiper-vue.2eb6bd20.js";const U={class:"h-full relative"},V={class:"w-full h-full flex flex-col"},P={class:"flex justify-end"},F=T({__name:"mind-map-preview",setup(G,{expose:w}){const h=new H,c=f(),m=f(),v=D();let n=null;const g=e=>{const{root:l}=h.transform(e);n==null||n.setData(l),n==null||n.fit()},k=e=>{switch(e){case"html":x();break;case"png":p("png");break;case"jpg":p("jpeg");break}};C(v,e=>{e?document.documentElement.classList.add("markmap-dark"):document.documentElement.classList.remove("markmap-dark")},{immediate:!0});const x=()=>{const e=`<style>*{margin: 0;padding:0} .markmap{width: 100vw;height:100vh}</style>
${m.value.innerHTML}`,l=new Blob([e],{type:"text/html"}),a=URL.createObjectURL(l),s=document.createElement("a");s.href=a,s.download="markmap.html",s.click(),URL.revokeObjectURL(a)},p=e=>{B(m.value,{type:e,name:"markmap"},{backgroundColor:"#fff",scale:window.devicePixelRatio*1.5})};return N(async()=>{c.value&&(n=I.create(c.value))}),w({renderMarkMap:g}),(e,l)=>{const a=R,s=L,d=y,b=j,E=M;return _(),u("div",U,[i("div",V,[i("div",P,[o(E,{onCommand:k},{dropdown:t(()=>[o(b,null,{default:t(()=>[o(d,{command:"html"},{default:t(()=>[r(" 导出HTML ")]),_:1}),o(d,{command:"png"},{default:t(()=>[r(" 导出PNG ")]),_:1}),o(d,{command:"jpg"},{default:t(()=>[r(" 导出JPG ")]),_:1})]),_:1})]),default:t(()=>[o(s,{text:"",bg:""},{icon:t(()=>[o(a,{name:"el-icon-Download"})]),default:t(()=>[r(" 导出文件 "),o(a,{name:"el-icon-ArrowDown",class:"el-icon--right"})]),_:1})]),_:1})]),i("div",{class:"flex-1 min-h-0",ref_key:"svgWrapRef",ref:m},[(_(),u("svg",{ref_key:"svgRef",ref:c,class:"w-full h-full"},null,512))],512)])])}}});export{F as _};
