import{a as F,E as I}from"./el-select.b7a2650e.js";import{E as S,a as q}from"./index.883ed08b.js";import{E as N,d as L}from"./entry.dfbfd4fd.js";import{_ as M}from"./index.vue.7f39d825.js";import{_ as O}from"./index.6cda5009.js";import{_ as $}from"./index.a373f374.js";import{E as j}from"./index.17567b0d.js";/* empty css               *//* empty css                     *//* empty css                  */import"./el-form-item.4ed993c7.js";/* empty css                */import{u as H}from"./useDictOptions.37e37b1b.js";import{r as J}from"./my_database.3adef370.js";import{P as K}from"./index.e94bc8a7.js";import{k as T,s as c,a as v,b as X,H as d,U as k,V as s,X as e,u as n,I as A,aj as G,S as Q,J as r,e as W,a7 as Y}from"./swiper-vue.2eb6bd20.js";const Z={class:"flex-1"},ee=r("div",{class:"form-tips"},"最多支持上传 9 张图",-1),oe={class:"flex-1"},le=r("div",{class:"form-tips"},"格式为MP4，大小不能超过20M",-1),te={class:"flex-1"},ae={class:"max-w-[600px]"},se=r("div",{class:"el-upload__tip"}," 支持上传PDF、docx、excel、等文件格式 ",-1),ge=T({__name:"correct-popup",emits:["confirm"],setup(ne,{expose:x,emit:b}){const u=c(),m=c(),p=v(""),o=v({name:"",kb_id:"",ask:"",reply:"",images:[],video:[],files:[]});X(p,t=>{o.value.video=[{url:t,name:""}]});const w={kb_id:[{required:!0,message:"选择知识库"}],ask:[{required:!0,message:"请输入问题"}],reply:[{required:!0,message:"请输入答案"}]},y=t=>{var l;o.value={...o.value,ask:t.ask,reply:t.reply,name:t.name},(l=m.value)==null||l.open()},V=()=>{var t;(t=m.value)==null||t.close()},g=async()=>{var t;await((t=u.value)==null?void 0:t.validate()),b("confirm",o.value)},{optionsData:E}=H({knowledge:{api:J,params:{page_type:0},transformData(t){return t.lists||[]}}});return x({open:y,close:V}),(t,l)=>{const U=I,h=F,i=S,_=N,R=M,f=O,B=$,D=L,P=q,z=j;return d(),k(K,{ref_key:"popupRef",ref:m,center:"",title:"修正问答",async:"",width:"900px",onConfirm:g},{default:s(()=>[e(z,null,{default:s(()=>[e(P,{ref_key:"formRef",ref:u,model:n(o),rules:w,"label-width":"120px"},{default:s(()=>[e(i,{label:"选择知识库",prop:"kb_id"},{default:s(()=>[e(h,{modelValue:n(o).kb_id,"onUpdate:modelValue":l[0]||(l[0]=a=>n(o).kb_id=a),class:"w-[240px]"},{default:s(()=>[(d(!0),A(Q,null,G(n(E).knowledge,(a,C)=>(d(),k(U,{key:C,label:`${a.name}`,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"提问问题",prop:"ask"},{default:s(()=>[e(_,{modelValue:n(o).ask,"onUpdate:modelValue":l[1]||(l[1]=a=>n(o).ask=a),placeholder:"请输入问题",type:"textarea",resize:"none",rows:4,maxlength:"600","show-word-limit":"",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{label:"问题答案",prop:"reply"},{default:s(()=>[e(_,{modelValue:n(o).reply,"onUpdate:modelValue":l[2]||(l[2]=a=>n(o).reply=a),placeholder:"请输入答案",type:"textarea",resize:"none",rows:15,clearable:""},null,8,["modelValue"])]),_:1}),e(i,{label:"上传图片"},{default:s(()=>[r("div",Z,[r("div",null,[e(f,{files:n(o).images,"onUpdate:files":l[3]||(l[3]=a=>n(o).images=a),type:"image","list-type":"picture-card",limit:9,multiple:"","show-file-list":""},{default:s(()=>[e(R,{name:"el-icon-Plus",size:20})]),_:1},8,["files"])]),ee])]),_:1}),e(i,{label:"上传视频"},{default:s(()=>[r("div",oe,[r("div",null,[e(B,{modelValue:n(p),"onUpdate:modelValue":l[4]||(l[4]=a=>W(p)?p.value=a:null),size:"80px"},null,8,["modelValue"])]),le])]),_:1}),e(i,{label:"上传附件"},{default:s(()=>[r("div",te,[r("div",ae,[e(f,{files:n(o).files,"onUpdate:files":l[5]||(l[5]=a=>n(o).files=a),type:"file","show-file-list":""},{tip:s(()=>[se]),default:s(()=>[e(D,null,{default:s(()=>[Y("上传附件")]),_:1})]),_:1},8,["files"])])])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},512)}}});export{ge as _};
