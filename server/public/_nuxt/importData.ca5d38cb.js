import{_ as T}from"./index.vue.7f39d825.js";import{a as z,d as L}from"./entry.dfbfd4fd.js";import{k as B,H as n,I as r,J as o,N as Q,_ as U,a as i,l as M,E as W,X as v,S,aj as C,u as a,V as D,a7 as j,R as G,r as H,T as J,Z as w,$ as O,a0 as P,U as R,W as X,ag as Z,ah as q}from"./swiper-vue.2eb6bd20.js";import{_ as V}from"./_plugin-vue_export-helper.c27b6911.js";import{u as K}from"./useLockFn.619a13da.js";import{ImportTypeEnum as l}from"./hook.050168d8.js";import Y from"./cvs.c38f7175.js";import tt from"./doc.030378c8.js";import et from"./QASplit.d2f48679.js";import{_ as ot}from"./web-page.vue.63a3c4a4.js";import{e as st}from"./my_database.3adef370.js";import"./el-upload.5844c619.js";import"./el-progress.8f5e9f30.js";import"./cloneDeep.4e82bacf.js";import"./_baseClone.20563df6.js";import"./_getTag.83294aff.js";import"./isEqual.0df0ab2c.js";import"./index.17567b0d.js";/* empty css                     */import"./fileReader.454730c0.js";import"./___vite-browser-external.5512611b.js";import"./index.9c8f8f3a.js";import"./index.8ad94f19.js";import"./isUndefined.aa0326a0.js";import"./el-tooltip.4ed993c7.js";/* empty css                  */import"./textSplitter.31dc1ae4.js";import"./index.883ed08b.js";import"./castArray.c741e965.js";import"./el-form-item.4ed993c7.js";/* empty css                */const at={class:"footer-btns"},nt=B({__name:"index",props:{fixed:{type:Boolean,default:!0}},setup(s){return(m,_)=>(n(),r("div",at,[o("div",{class:"footer-btns__content",style:U(s.fixed?"position: fixed":"")},[Q(m.$slots,"default",{},void 0,!0)],4)]))}});const rt=V(nt,[["__scopeId","data-v-4b8d4336"]]),ct=s=>(Z("data-v-0ebde116"),s=s(),q(),s),it={class:"h-full flex flex-col relative"},pt={class:"pb-[20px] flex items-center font-bold cursor-pointer"},dt=ct(()=>o("span",{class:"ml-2"},"文件导入",-1)),lt={class:"flex"},mt=["onClick"],_t={class:"text-info text-[14px]"},ut={class:"flex-1"},ft={key:0},yt=B({__name:"importData",props:{id:{type:Number,default:0},type:{type:String,default:""}},emits:["success","back"],setup(s,{emit:m}){const _=s,I=z(),p=i(0),g=i([]),$=i([]),E=i([]),N=i([]),c=M(()=>H([{name:"文档导入",type:l.DOC,describe:"选择文本文件，直接将其按分段进行处理",component:tt,show:!0,data:g},{name:"问答对导入",type:l.CVS,describe:"批量导入问答对，效果最佳",component:Y,show:!0,data:$},{name:"自动拆分问答对",type:l.QASplit,describe:"选择文本文件，让大模型自动生成问答对",component:et,show:!0,data:E},{name:"网页解析",type:l.WEB_PAGE,describe:"输入网页链接，快速导入内容",component:ot,show:!0,data:N}]).filter(({show:d})=>d)),x=e=>{p.value=e},A=()=>{x(c.value[0].type)},{lockFn:F}=K(async()=>{const e=c.value.find(({type:y})=>y===p.value);console.log(e==null?void 0:e.data);const{data:d,type:u}=e,f={kb_id:_.id,method:u,documents:d};await st({...f}),h()}),h=()=>{m("back")};return W(()=>{A()}),(e,d)=>{const u=T,f=L,y=rt;return n(),r("div",it,[o("div",pt,[o("div",{onClick:h,class:"flex items-center"},[v(u,{name:"el-icon-Back",size:"16"}),dt])]),o("div",lt,[(n(!0),r(S,null,C(a(c),(t,b)=>(n(),r("div",{key:b,class:J(["unselect w-[290px] p-[16px] text-center rounded-md cursor-pointer mr-4",{isselect:t.type==a(p)}]),onClick:k=>x(t.type)},[o("div",null,w(t.name),1),o("div",_t,w(t.describe),1)],10,mt))),128))]),o("div",ut,[(n(!0),r(S,null,C(a(c),(t,b)=>O((n(),R(X(t.component),{key:t.type,modelValue:t.data,"onUpdate:modelValue":k=>t.data=k,type:_.type},null,8,["modelValue","onUpdate:modelValue","type"])),[[P,t.type==a(p)]])),128))]),a(c).length>0?(n(),r("div",ft,[v(y,{fixed:!a(I).isMobile},{default:D(()=>[v(f,{type:"primary",onClick:a(F)},{default:D(()=>[j(" 保存 ")]),_:1},8,["onClick"])]),_:1},8,["fixed"])])):G("",!0)])}}});const Rt=V(yt,[["__scopeId","data-v-0ebde116"]]);export{Rt as default};
