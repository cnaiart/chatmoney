import{_ as M}from"./index.vue.7f39d825.js";import{x as q,F as B,dm as P,P as C,T,bp as R}from"./entry.dfbfd4fd.js";import{a as j,E as U,b as V,k as p,H as s,I as a,U as d,u as t,R as r,T as y,t as z,S as k,aj as x,N as $,X as u,O as I,ab as A,o as F,J as n,V as E,Z as H}from"./swiper-vue.2eb6bd20.js";import{_ as L}from"./index.vue.74e23ebc.js";import{E as O}from"./index.17567b0d.js";/* empty css                     */import D from"./input-select.1821bba5.js";import{_ as J}from"./steps.vue.fc3a5984.js";import{_ as X}from"./doc.vue.b3a68d18.js";import{_ as Y}from"./suggestion.vue.d814fc06.js";import{_ as Z}from"./action-btns.vue.871b3b60.js";import G from"./mind-map.66645023.js";import K from"./outline.5cb792a7.js";import{useSearch as Q}from"./useSearch.142cdb51.js";import{StatusEnums as N}from"./searchEnums.5f291054.js";const W=(_,e=0)=>{if(e===0)return _;const i=j(!1);let l=0;const m=()=>{l&&clearTimeout(l),l=window.setTimeout(()=>{i.value=_.value},e)};return U(m),V(()=>_.value,o=>{o?m():i.value=o}),i},tt=q({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),et=q({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),st=p({name:"ElSkeletonItem"}),ot=p({...st,props:et,setup(_){const e=B("skeleton");return(i,l)=>(s(),a("div",{class:y([t(e).e("item"),t(e).e(i.variant)])},[i.variant==="image"?(s(),d(t(P),{key:0})):r("v-if",!0)],2))}});var v=C(ot,[["__file","skeleton-item.vue"]]);const nt=p({name:"ElSkeleton"}),at=p({...nt,props:tt,setup(_,{expose:e}){const i=_,l=B("skeleton"),m=W(z(i,"loading"),i.throttle);return e({uiLoading:m}),(o,S)=>t(m)?(s(),a("div",I({key:0,class:[t(l).b(),t(l).is("animated",o.animated)]},o.$attrs),[(s(!0),a(k,null,x(o.count,f=>(s(),a(k,{key:f},[o.loading?$(o.$slots,"template",{key:f},()=>[u(v,{class:y(t(l).is("first")),variant:"p"},null,8,["class"]),(s(!0),a(k,null,x(o.rows,h=>(s(),d(v,{key:h,class:y([t(l).e("paragraph"),t(l).is("last",h===o.rows&&o.rows>1)]),variant:"p"},null,8,["class"]))),128))]):r("v-if",!0)],64))),128))],16)):$(o.$slots,"default",A(I({key:1},o.$attrs)))}});var lt=C(at,[["__file","skeleton.vue"]]);const rt=T(lt,{SkeletonItem:v});R(v);const it={class:"h-full p-4"},ct={class:"h-full bg-body rounded-[15px] flex flex-col"},ut={class:"p-4"},_t={class:"flex items-center mb-4"},dt=n("div",{class:"text-xl flex-1 min-w-0 ml-[10px]"},"AI搜索",-1),mt={class:"flex-1 min-h-0"},pt={class:"h-full flex"},ft={class:"flex-[2.7] h-full"},ht={key:0,class:"py-[10px]"},kt={class:"pl-4 pr-[40px]"},vt={key:0},yt={class:"break-words text-3xl font-medium"},xt=n("div",{class:"pt-1 text-tx-secondary text-xs"}," 内容由 AI 生成，不能保证真实 ",-1),St={class:"mt-4"},bt={key:0},gt={key:1},wt={class:"flex-1 h-full"},$t={class:"px-4"},It={key:0,class:""},Et=n("div",{class:"text-xl font-medium"}," 信息来源 ",-1),Nt={class:"mt-4"},Ot=p({__name:"index",setup(_){const{result:e,abortSearch:i,showSearchResult:l}=Q();return F(()=>{i()}),(m,o)=>{const S=M,f=rt,h=L,b=O;return s(),a("div",it,[n("div",ct,[n("div",ut,[n("div",_t,[n("div",{class:"flex bg-body p-[5px] text-bold rounded-[50%] text-primary shadow-light cursor-pointer",onClick:o[0]||(o[0]=c=>l.value=!1)},[u(S,{name:"el-icon-Back",size:18})]),dt]),u(D,{class:"w-[550px]"})]),n("div",mt,[n("div",pt,[n("div",ft,[u(b,null,{default:E(()=>[t(e).status<t(N).SUCCESS?(s(),a("div",ht,[t(e).query?(s(),d(J,{key:0})):r("",!0)])):r("",!0),n("div",kt,[t(e).query?(s(),a("div",vt,[n("div",yt,H(t(e).query),1),xt])):r("",!0),n("div",St,[t(e).status<t(N).SUMMARY?(s(),d(f,{key:0,rows:5})):r("",!0)]),(s(!0),a(k,null,x(t(e).data,(c,g)=>{var w;return s(),a("div",{key:g,class:"mt-4"},[c.type==="markdown"||c.type==="expand_query"?(s(),a("div",bt,[u(h,{"link-list":(w=t(e).data[g-1])==null?void 0:w.content,content:c.content,typing:c.target==="update"},null,8,["link-list","content","typing"])])):r("",!0),c.type==="suggestion"?(s(),a("div",gt,[u(Z),c.content.length?(s(),d(Y,{key:0,class:"mt-4",lists:c.content},null,8,["lists"])):r("",!0),t(e).outline.text?(s(),d(G,{key:1,class:"mt-4",content:t(e).outline.text,quote:t(e).outline.source_attributions},null,8,["content","quote"])):r("",!0),t(e).outline_json.text?(s(),d(K,{key:2,class:"mt-4",content:t(e).outline_json.text,quote:t(e).outline_json.source_attributions},null,8,["content","quote"])):r("",!0)])):r("",!0)])}),128))])]),_:1})]),n("div",wt,[u(b,null,{default:E(()=>[n("div",$t,[t(e).search.length?(s(),a("div",It,[Et,n("div",Nt,[u(X)])])):r("",!0)])]),_:1})])])])])])}}});export{Ot as _};
