import{a6 as _,a7 as n,v as h}from"./entry.dfbfd4fd.js";import{k as m,s as g,a as d,E as w,n as y,j as S,$ as v,u as c,H as z,I as k,J as u,a0 as x,_ as C}from"./swiper-vue.2eb6bd20.js";import{u as B}from"./canvas.94886ee6.js";import{_ as D}from"./_plugin-vue_export-helper.c27b6911.js";import"./useAudioPlay.fe45c428.js";import"./file.a6a074d0.js";import"./___vite-browser-external.5512611b.js";import"./fontfaceobserver.standalone.fe50c3f8.js";const E={class:"canvas-bg"},f="design-canvas",H=m({__name:"canvas-display",setup(I){const e=B(),t=g(null),{width:o}=_(t),s=d(e.defaultSize.height),i=d(!1);n(()=>e.defaultSize,()=>{l()});const l=()=>{o.value>=e.defaultSize.width?s.value=e.defaultSize.height:s.value=o.value*e.defaultSize.height/e.defaultSize.width};return n(o,a=>{l()}),n(s,a=>{if(a){const r=a/e.defaultSize.height;e.setZoom(r)}}),w(async()=>{i.value=!0,await y();try{await e.initCanvas(f,t.value)}finally{i.value=!1}}),S(()=>{var a;(a=e.canvas)==null||a.dispose(),e.$dispose()}),(a,r)=>{const p=h;return v((z(),k("div",{ref_key:"workspaceRef",ref:t,class:"canvas-display overflow-hidden",style:C({height:`${c(s)}px`})},[v(u("div",E,[u("canvas",{id:f})],512),[[x,c(e).canvas]])],4)),[[p,c(i)]])}}});const N=D(H,[["__scopeId","data-v-089e911c"]]);export{N as default};
