import{f as U,E as D,d as q,j as k}from"./entry.dfbfd4fd.js";import{E as L,a as N}from"./index.883ed08b.js";import{_ as $}from"./index.vue.7f39d825.js";import"./el-form-item.4ed993c7.js";/* empty css                */import{u as j}from"./useLockFn.619a13da.js";import{w as z}from"./my_database.3adef370.js";import{k as H,a as S,H as s,I as u,J as m,X as a,V as r,u as c,e as J,a7 as v,S as V,aj as y,Z as x,U as M}from"./swiper-vue.2eb6bd20.js";const O={class:"web-page"},R={class:"py-4"},T={class:"flex-1"},X={class:"mb-2 text-tx-primary font-medium text-lg"},ae=H({__name:"web-page",props:{modelValue:{}},emits:["update:modelValue"],setup(E,{emit:w}){const t=U(E,"modelValue",w),o=S(""),g=async l=>{await k.confirm(`确定删除：${l.name}？`);const e=t.value.indexOf(l);e!==-1&&t.value.splice(e,1)},{lockFn:h,isLock:B}=j(async()=>{if(!o.value)return k.msgError("请输入网页链接");const l=await z({url:o.value.split(`
`).filter(Boolean)});t.value=[...l.map(e=>({data:[{a:"",q:e.content}],path:"",name:e.url})),...t.value],o.value=""});return(l,e)=>{const p=D,d=L,_=q,C=N,F=$;return s(),u("div",O,[m("div",R,[a(C,null,{default:r(()=>[a(d,null,{default:r(()=>[m("div",T,[a(p,{modelValue:c(o),"onUpdate:modelValue":e[0]||(e[0]=n=>J(o)?o.value=n:null),placeholder:"请输入要解析的网页链接，添加多个请按回车键分隔",type:"textarea",resize:"none",rows:6},null,8,["modelValue"])])]),_:1}),a(d,null,{default:r(()=>[a(_,{type:"primary",loading:c(B),onClick:c(h)},{default:r(()=>[v(" 解析 ")]),_:1},8,["loading","onClick"])]),_:1})]),_:1}),m("div",null,[(s(!0),u(V,null,y(c(t),(n,f)=>(s(),u("div",{key:f,class:"mb-4"},[m("div",X,[v(" #"+x(f+1)+" "+x(n.name)+" ",1),a(_,{link:"",type:"primary"},{default:r(()=>[a(F,{name:"el-icon-Delete",onClick:i=>g(n)},null,8,["onClick"])]),_:2},1024)]),(s(!0),u(V,null,y(n.data,(i,b)=>(s(),M(p,{key:b,modelValue:i.q,"onUpdate:modelValue":I=>i.q=I,placeholder:"文件内容，空内容会自动省略",type:"textarea",resize:"none",rows:15},null,8,["modelValue","onUpdate:modelValue"]))),128))]))),128))])])])}}});export{ae as _};
