import{a as S,E as V}from"./el-select.b7a2650e.js";import{m as B,d as C,c$ as w}from"./entry.dfbfd4fd.js";/* empty css               *//* empty css                     *//* empty css                  */import{a as E,h as b}from"./task_reward.d02f9b86.js";import{P as F}from"./index.e94bc8a7.js";import{u as L}from"./useLockFn.619a13da.js";import{k as T,s as U,a as D,r as I,H as c,I as m,X as l,V as r,J as u,u as o,a7 as N,S as R,aj as j,U as q}from"./swiper-vue.2eb6bd20.js";import{_ as O}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.8ad94f19.js";import"./isUndefined.aa0326a0.js";import"./index.17567b0d.js";import"./index.e979a1ab.js";import"./strings.ceb81673.js";import"./isEqual.0df0ab2c.js";import"./_getTag.83294aff.js";import"./debounce.8cbe4cfc.js";import"./_baseIteratee.5e0c38c1.js";import"./index.071e9281.js";import"./castArray.c741e965.js";import"./index.6c069afb.js";import"./use-dialog.7d399731.js";import"./refs.cabac943.js";/* empty css                  */const P={class:"share-popup"},z={class:"h-[100px]"},H={class:"dialog-footer flex justify-center pb-2"},J=T({__name:"video-share",emits:["success","close"],setup(X,{expose:_,emit:i}){const f=B(),n=U(),p=D([]),t=I({category_id:"",records_id:""}),h=async()=>{try{const e=await E({type:w.VIDEO,share:1});e.unshift({name:"全部",id:""}),p.value=e}catch(e){console.log("获取视频分类失败=>",e)}},{lockFn:d,isLock:y}=L(async()=>{var e;await b(t),await f.getUser(),(e=n.value)==null||e.close(),i("success",t.records_id)}),g=()=>{i("close")};return _({open:e=>{var s;h(),(s=n.value)==null||s.open(),t.records_id=e}}),(e,s)=>{const v=V,x=S,k=C;return c(),m("div",P,[l(F,{ref_key:"popupRef",ref:n,title:"分享至广场",async:!0,width:"400px",center:!0,cancelButtonText:"",confirmButtonText:"",appendToBody:!1,onConfirm:o(d),onClose:g},{footer:r(()=>[u("div",H,[l(k,{type:"primary",loading:o(y),class:"!rounded-md",onClick:o(d)},{default:r(()=>[N(" 分享至广场 ")]),_:1},8,["loading","onClick"])])]),default:r(()=>[u("div",z,[l(x,{size:"large",class:"w-[360px]",modelValue:o(t).category_id,"onUpdate:modelValue":s[0]||(s[0]=a=>o(t).category_id=a),placeholder:"全部",style:{"--el-fill-color-blank":"#F7F7FB"}},{default:r(()=>[(c(!0),m(R,null,j(o(p),a=>(c(),q(v,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1},8,["onConfirm"])])}}});const ye=O(J,[["__scopeId","data-v-0874c328"]]);export{ye as default};
