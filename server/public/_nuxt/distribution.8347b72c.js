import{a5 as Ft,h as Pt,j as mt,ah as Ct,d as Rt,v as At}from"./entry.dfbfd4fd.js";import{a as Dt,E as $t}from"./el-tabs.2ed630c1.js";import{E as Vt}from"./el-image-viewer.d5621b18.js";import{E as Bt,a as Tt}from"./el-table-column.ac121129.js";import{_ as jt}from"./index.vue.e0bcb29b.js";import{E as Lt}from"./index.17567b0d.js";/* empty css                    *//* empty css               *//* empty css                 */import"./el-tooltip.4ed993c7.js";/* empty css                  *//* empty css                     */import{u as Ut}from"./usePaging.b2b97b82.js";import{g as Wt,d as zt}from"./promotion.1b8297ad.js";import It from"./poster.57626183.js";import{_ as Nt}from"./apply.vue.b2f315e8.js";import{_ as St}from"./income-detail.vue.1f4db80c.js";import{_ as Ht}from"./record.vue.37b985f8.js";import Jt from"./apply.f93dadaf.js";import{k as Mt,a as f,s as g,r as Xt,E as Zt,H as l,I as p,X as s,V as a,u as e,R as r,J as t,Z as i,_ as b,a7 as d,$ as qt,U as v,e as Gt,n as C}from"./swiper-vue.2eb6bd20.js";import"./strings.ceb81673.js";import"./index.15b778d4.js";import"./throttle.d40f833a.js";import"./debounce.8cbe4cfc.js";import"./position.4bcf7430.js";import"./index.8ad94f19.js";import"./isUndefined.aa0326a0.js";import"./_baseIteratee.5e0c38c1.js";import"./isEqual.0df0ab2c.js";import"./_getTag.83294aff.js";import"./index.76d1875c.js";import"./index.071e9281.js";import"./el-pagination.7a6b3d1c.js";import"./el-select.b7a2650e.js";import"./index.e979a1ab.js";import"./castArray.c741e965.js";import"./index.vue.7f39d825.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./index.6c069afb.js";import"./use-dialog.7d399731.js";import"./refs.cabac943.js";/* empty css                  */import"./useCopy.5611cfa5.js";import"./download.f61d7233.js";import"./qrcode.vue.esm.415e365a.js";import"./nuxt-link.42058260.js";import"./index.883ed08b.js";import"./_baseClone.20563df6.js";import"./index.91e71ce7.js";import"./el-form-item.4ed993c7.js";/* empty css                */import"./detail.vue.03cd2aec.js";import"./index.vue.aec261cd.js";import"./el-upload.5844c619.js";import"./el-progress.8f5e9f30.js";import"./cloneDeep.4e82bacf.js";const Kt=""+new URL("distribution_apply_bg.ebcf2b5d.png",import.meta.url).href,Ot=""+new URL("distribution_url_bg.d207afc1.png",import.meta.url).href,Qt=""+new URL("distribution_poster_bg.05b6c9b1.png",import.meta.url).href,Yt={class:"flex flex-col min-h-0 h-full"},te={key:0,class:"w-full flex-1"},ee=t("div",{class:"text-xl"},"推广功能未开启!",-1),oe=[ee],se={key:1,class:"h-full w-full"},ie={key:0,class:"grid grid-cols-2 gap-x-[20px]"},le={class:"bg-page rounded-[12px] px-[30px] py-[25px]"},ae=t("div",{class:"font-medium text-xl"},"分销规则",-1),ne={class:"mt-[23px] flex"},pe={key:0,class:"flex-1 bg-[#EDF6FE] p-[25px] rounded-[10px]"},re={class:"text-xl text-primary"},ce={class:"text-base mt-[12px] text-[#9E9E9E]"},de={key:1,class:"flex-1 bg-[#FFEAD5] p-[25px] rounded-[10px] ml-[20px]"},_e={class:"text-xl text-[#FF8F1F]"},me={class:"text-base mt-[12px] text-[#9E9E9E]"},xe={class:"flex flex-col min-h-0 bg-page rounded-[12px] px-[30px] py-[25px]"},ue=t("div",{class:"font-medium text-xl"},"申请分销",-1),fe=t("div",{class:"text-black"},"您当前还不是分销商，请申请成为分销商",-1),ge={key:1},be={class:"grid grid-cols-2 xl:grid-cols-4 gap-x-[20px] gap-y-[20px]"},ve={class:"bg-page rounded-[12px] px-[30px] py-[25px]"},he=t("div",{class:"font-medium text-xl pt-[20px] pb-[15px]"},"可提现余额（元）",-1),ye={class:"flex justify-between items-center"},Ee={class:"text-primary text-[30px] font-medium"},we={class:"bg-page rounded-[12px] px-[30px] py-[25px]"},ke=t("div",{class:"font-medium text-xl pt-[20px] pb-[15px]"},"今日收益（元）",-1),Fe={class:"flex justify-between items-center"},Pe={class:"text-primary text-[30px] font-medium"},Ce={class:"bg-page rounded-[12px] px-[30px] py-[25px]"},Re=t("div",{class:"font-medium text-xl pt-[20px] pb-[15px]"},"已提现（元）",-1),Ae={class:"flex justify-between items-center"},De={class:"text-primary text-[30px] font-medium"},$e={class:"bg-page rounded-[12px] px-[30px] py-[25px]"},Ve=t("div",{class:"font-medium text-xl pt-[20px] pb-[15px]"},"累计收益（元）",-1),Be={class:"flex justify-between items-center"},Te={class:"text-primary text-[30px] font-medium"},je={class:"grid grid-cols-2 gap-x-[20px] mt-4"},Le={class:"w-full bg-page rounded-[12px] px-[30px] py-[25px]"},Ue=t("div",{class:"font-medium text-xl"},"分销规则",-1),We={class:"mt-[23px] flex"},ze={key:0,class:"flex-1 bg-[#EDF6FE] p-[25px] rounded-[10px]"},Ie={class:"text-xl text-primary"},Ne={class:"text-base mt-[12px] text-[#9E9E9E]"},Se={key:1,class:"flex-1 bg-[#FFEAD5] p-[25px] rounded-[10px] ml-[20px]"},He={class:"text-xl text-[#FF8F1F]"},Je={class:"text-base mt-[12px] text-[#9E9E9E]"},Me={class:"flex flex-col min-h-0 w-full bg-page rounded-[12px] px-[30px] py-[25px]"},Xe=t("div",{class:"font-medium text-xl"},"推广方式",-1),Ze={class:"grid grid-cols-2 gap-x-[20px] h-full"},qe=t("div",{class:"text-xl text-[#333333]"},"邀请链接",-1),Ge={class:"line-clamp-2 text-[#9E9E9E] mt-[12px]",style:{"word-break":"break-all"}},Ke={class:"absolute top-[15px] right-[15px]"},Oe=t("div",{class:"text-xl text-[#333333]"},"分享海报",-1),Qe=t("div",{class:"text-[#9E9E9E] mt-[12px]"}," 扫描二维码，一起加入吧！ ",-1),Ye={class:"absolute top-[15px] right-[15px]"},to={class:"bg-page rounded-[12px] px-[30px] py-[25px] mt-4"},eo=t("div",{class:"font-medium text-xl"}," 邀请列表 ",-1),oo={class:"w-full mt-1 bg-white dark:bg-page pb-[20px]"},so={class:"flex items-center"},io={class:"ml-2"},lo={class:"flex justify-end mt-5 mr-4"},_s=Mt({__name:"distribution",setup(ao){const xt=Ft();Pt();const h=f(!1),y=f(!1),E=f(!1),R=g(),A=g(),D=g(),$=g(),w=Xt({level:""}),{pager:c,getLists:u,resetPage:no,resetParams:po}=Ut({fetchFun:Wt,params:w}),o=f(),V=async()=>{o.value=await zt()},ut=async()=>{y.value=!0,await C(),A.value.open()},ft=async()=>{var F;if(((F=o.value.apply_detail)==null?void 0:F.status)==1){mt.msgWarning("正在审核中！");return}h.value=!0,await C(),R.value.open()},gt=async()=>{if(o.value.withdraw_config.type.length==0){mt.alertWarning("后台未设置提现方式！");return}E.value=!0,await C(),$.value.open()},bt=()=>{Ct(o.value.config.pc_promotion_url)},k=()=>{u(),V(),h.value=!1,y.value=!1,E.value=!1};return Zt(()=>{u(),V()}),(F,_)=>{const m=Rt,P=Dt,vt=$t,ht=Vt,x=Bt,yt=Tt,Et=jt,wt=Lt,kt=At;return l(),p("div",Yt,[s(wt,{class:"bg-white dark:bg-body rounded-[12px] p-[20px]"},{default:a(()=>{var B,T,j,L,U,W,z,I,N,S,H,J,M,X,Z,q,G,K,O,Q,Y,tt,et,ot,st,it,lt,at,nt,pt,rt,ct,dt,_t;return[((B=e(o))==null?void 0:B.is_open)!=1?(l(),p("div",te,oe)):r("",!0),((T=e(o))==null?void 0:T.is_open)==1?(l(),p("div",se,[(L=(j=e(o))==null?void 0:j.user)!=null&&L.is_distribution?(l(),p("div",ge,[t("div",be,[t("div",ve,[he,t("div",ye,[t("div",Ee,i((q=(Z=e(o))==null?void 0:Z.user)==null?void 0:q.user_money),1),s(m,{type:"primary",class:"!border-none",style:{"--el-button-bg-color":"#4A92FF"},onClick:gt},{default:a(()=>[d(" 去提现 ")]),_:1})])]),t("div",we,[ke,t("div",Fe,[t("div",Pe,i((K=(G=e(o))==null?void 0:G.user)==null?void 0:K.today_money),1)])]),t("div",Ce,[Re,t("div",Ae,[t("div",De,i((Q=(O=e(o))==null?void 0:O.user)==null?void 0:Q.withdrawn_money),1),s(m,{type:"warning",class:"!border-none",style:{"--el-button-bg-color":"#FFA64C"},onClick:_[0]||(_[0]=n=>e(D).open())},{default:a(()=>[d(" 提现记录 ")]),_:1})])]),t("div",$e,[Ve,t("div",Be,[t("div",Te,i((tt=(Y=e(o))==null?void 0:Y.user)==null?void 0:tt.total_user_money),1),s(m,{type:"warning",class:"!border-none",style:{"--el-button-bg-color":"#F5BE0A"},onClick:ut},{default:a(()=>[d(" 收益明细 ")]),_:1})])])]),t("div",je,[t("div",Le,[Ue,t("div",We,[((et=e(o))==null?void 0:et.config.level)>=1?(l(),p("div",ze,[t("div",Ie," 一级分销（分佣"+i((st=(ot=e(o))==null?void 0:ot.config)==null?void 0:st.first_ratio)+"%） ",1),t("div",Ne," 成为分销商，下级消费您获得 "+i((lt=(it=e(o))==null?void 0:it.config)==null?void 0:lt.first_ratio)+"%奖励 ",1)])):r("",!0),((at=e(o))==null?void 0:at.config.level)==2?(l(),p("div",Se,[t("div",He," 二级分销（分佣"+i((pt=(nt=e(o))==null?void 0:nt.config)==null?void 0:pt.second_ratio)+"%） ",1),t("div",Je," 成为分销商，下2级消费您获得 "+i((ct=(rt=e(o))==null?void 0:rt.config)==null?void 0:ct.second_ratio)+"%奖励 ",1)])):r("",!0)])]),t("div",Me,[Xe,t("div",Ze,[t("div",{class:"flex flex-col mt-[23px] p-[25px] rounded-[10px] bg-cover relative",style:b({"background-image":`url(${e(Ot)})`})},[qe,t("div",Ge,i((_t=(dt=e(o))==null?void 0:dt.config)==null?void 0:_t.pc_promotion_url),1),t("div",Ke,[s(m,{type:"primary",size:"small",class:"!border-none",style:{"--el-button-bg-color":"#4A92FF"},onClick:bt},{default:a(()=>[d(" 复制 ")]),_:1})])],4),t("div",{class:"flex flex-col mt-[23px] p-[25px] rounded-[10px] bg-cover relative",style:b({"background-image":`url(${e(Qt)})`})},[Oe,Qe,t("div",Ye,[s(It,{class:"inline-block"},{trigger:a(()=>[s(m,{type:"primary",size:"small",class:"!border-none",style:{"--el-button-bg-color":"#4A92FF"}},{default:a(()=>[d(" 分享 ")]),_:1})]),_:1})])],4)])])]),t("div",to,[eo,s(vt,{modelValue:e(w).level,"onUpdate:modelValue":_[1]||(_[1]=n=>e(w).level=n),class:"mt-2",onTabChange:e(u)},{default:a(()=>[s(P,{label:`全部(${e(c).extend.all})`,name:""},null,8,["label"]),s(P,{label:`直接用户(${e(c).extend.first})`,name:1},null,8,["label"]),s(P,{label:`间接用户(${e(c).extend.second})`,name:2},null,8,["label"])]),_:1},8,["modelValue","onTabChange"]),t("div",oo,[qt((l(),v(yt,{size:"large",data:e(c).lists,style:b({"--el-table-header-bg-color":e(xt)?"#000":"#EFEFEF"})},{default:a(()=>[s(x,{label:"用户昵称"},{default:a(({row:n})=>[t("div",so,[s(ht,{class:"w-[48px] h-[48px]",src:n.avatar},null,8,["src"]),t("div",io,i(n.nickname),1)])]),_:1}),s(x,{label:"订单量",prop:"order_num"},{default:a(({row:n})=>[d(i(n.order_num?n.order_num:"0"),1)]),_:1}),s(x,{label:"累计消费",prop:"total_amount"}),s(x,{label:"邀请人数",prop:"invite_num"}),s(x,{label:"分销资格",prop:"is_distribution_desc"}),s(x,{label:"注册时间",prop:"create_time"})]),_:1},8,["data","style"])),[[kt,e(c).loading]]),t("div",lo,[s(Et,{modelValue:e(c),"onUpdate:modelValue":_[2]||(_[2]=n=>Gt(c)?c.value=n:null),onChange:e(u)},null,8,["modelValue","onChange"])])])])])):(l(),p("div",ie,[t("div",le,[ae,t("div",ne,[((U=e(o))==null?void 0:U.config.level)>=1?(l(),p("div",pe,[t("div",re," 一级分销（分佣"+i((z=(W=e(o))==null?void 0:W.config)==null?void 0:z.first_ratio)+"%） ",1),t("div",ce," 成为分销商，下级消费您获得 "+i((N=(I=e(o))==null?void 0:I.config)==null?void 0:N.first_ratio)+"%奖励 ",1)])):r("",!0),((S=e(o))==null?void 0:S.config.level)==2?(l(),p("div",de,[t("div",_e," 二级分销（分佣"+i((J=(H=e(o))==null?void 0:H.config)==null?void 0:J.second_ratio)+"%） ",1),t("div",me," 成为分销商，下2级消费您获得 "+i((X=(M=e(o))==null?void 0:M.config)==null?void 0:X.second_ratio)+"%奖励 ",1)])):r("",!0)])]),t("div",xe,[ue,t("div",{class:"flex justify-between items-center h-full mt-[23px] p-[25px] rounded-[10px] bg-cover",style:b({"background-image":`url(${e(Kt)})`})},[fe,s(m,{type:"primary",onClick:ft},{default:a(()=>[d("申请成为分销商")]),_:1})],4)])])),e(h)?(l(),v(Nt,{key:2,ref_key:"applyPopRef",ref:R,onClosePop:k},null,512)):r("",!0),e(E)?(l(),v(Jt,{key:3,ref_key:"withdrawApplyPopRef",ref:$,onClosePop:k},null,512)):r("",!0),e(y)?(l(),v(St,{key:4,ref_key:"incomeDetailPopRef",ref:A,onClosePop:k},null,512)):r("",!0),s(Ht,{ref_key:"withdrawRecordPopRef",ref:D},null,512)])):r("",!0)]}),_:1})])}}});export{_s as default};
