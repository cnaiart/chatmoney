import{E as F,a as I}from"./el-radio-group.c427f46d.js";import{E as U,a as N}from"./index.883ed08b.js";import{am as j,j as D,E as S,d as A,v as $}from"./entry.dfbfd4fd.js";import{_ as z}from"./index.vue.7f39d825.js";import{E as G}from"./el-upload.5844c619.js";/* empty css                 */import"./el-form-item.4ed993c7.js";import"./el-progress.8f5e9f30.js";/* empty css                */import{u as H}from"./canvas.94886ee6.js";import{k as J,s as L,a as M,H as c,I as C,X as t,V as n,u as o,a7 as m,U as u,R as p,J as a,$ as T,Z as x}from"./swiper-vue.2eb6bd20.js";const X={class:"bg-white rounded-[10px] p-main h-[420px]"},Z={class:"flex-1"},q={class:"el-upload__text flex items-center justify-center"},K=a("em",null," 选择文件 ",-1),O={key:0,class:"mt-[10px]"},P={class:"flex flex-col items-center justify-center"},Q={class:"flex mt-[10px] items-center"},W={class:"scale-90"},Y=["src"],h=".wav,.mp3",me=J({__name:"center-setting",setup(ee){const e=H(),f=L(),r=M(!1),y=i=>{},E=async({raw:i})=>{var l;try{if(i){r.value=!0;const s=await j("audio",{file:i,data:{use_type:2}});e.voiceContent.voice_url=s.uri,e.voiceContent.voice_name=s.name}}catch(s){D.msgError(s)}finally{r.value=!1,(l=f.value)==null||l.clearFiles()}},g=()=>{e.voiceContent.voice_url="",e.voiceContent.voice_name=""};return(i,l)=>{const s=F,k=I,_=U,V=S,v=z,w=G,B=A,R=N,b=$;return c(),C("div",X,[t(R,null,{default:n(()=>[t(_,{label:"播报内容"},{default:n(()=>[t(k,{modelValue:o(e).voiceContent.type,"onUpdate:modelValue":l[0]||(l[0]=d=>o(e).voiceContent.type=d),onChange:y},{default:n(()=>[t(s,{label:1},{default:n(()=>[m("文本输入")]),_:1}),t(s,{label:2},{default:n(()=>[m("音频输入")]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(e).voiceContent.type==1?(c(),u(_,{key:0},{default:n(()=>[t(V,{modelValue:o(e).voiceContent.text,"onUpdate:modelValue":l[1]||(l[1]=d=>o(e).voiceContent.text=d),type:"textarea",rows:15,resize:"none",placeholder:"请输入播报内容..."},null,8,["modelValue"])]),_:1})):p("",!0),o(e).voiceContent.type==2?(c(),u(_,{key:1},{default:n(()=>[a("div",Z,[T((c(),u(w,{ref_key:"uploadRef",ref:f,drag:"","on-change":E,"auto-upload":!1,"show-file-list":!1,accept:h},{default:n(()=>[a("div",q,[t(v,{name:"el-icon-Upload"}),m(" 拖拽文件至此，或点击"),K]),a("div",{class:"el-upload__text"}," 音频支持："+x(h)+"格式，时长不超过30分钟， 大小不超过50MB ")]),_:1})),[[b,o(r)]]),o(e).voiceContent.voice_url?(c(),C("div",O,[a("div",P,[a("div",null,x(o(e).voiceContent.voice_name),1),a("div",Q,[a("div",W,[a("audio",{src:o(e).voiceContent.voice_url,controls:""},null,8,Y)]),t(B,{link:"",onClick:g},{default:n(()=>[t(v,{name:"el-icon-Delete"})]),_:1})])])])):p("",!0)])]),_:1})):p("",!0)]),_:1})])}}});export{me as _};
