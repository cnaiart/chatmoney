import{k as G,s as S,r as E,a as O,aa as V,H as n,I as d,X as r,V as p,S as Q,aj as X,u as a,J as o,$ as C,U as I,Z as m,R as x,a7 as Z,a0 as K,aw as M,T as Y,ag as ee,ah as te,ax as oe}from"./swiper-vue.2eb6bd20.js";import{E as se}from"./index.5de6b9f9.js";import{W as ae}from"./index.36f10986.js";import{h as ne,m as ie,cE as re,ck as ce,H as le,d as de}from"./entry.dfbfd4fd.js";import{E as pe}from"./el-image-viewer.d5621b18.js";/* empty css                  */import{u as P}from"./asyncData.eaddccf2.js";import{t as _e,D as me,E as ue}from"./robot.b9f1d754.js";import{e as fe}from"./empty_con.c3f015fe.js";import{E as ge}from"./index.a258b1c6.js";import{_ as we}from"./_plugin-vue_export-helper.c27b6911.js";import"./throttle.d40f833a.js";import"./debounce.8cbe4cfc.js";import"./position.4bcf7430.js";const y=c=>(ee("data-v-a7660ba3"),c=c(),te(),c),he={class:"flex-1 min-h-0 mx-[16px] relative"},xe=["onClick"],ye={class:"flex-1 min-h-[70vh] overflow-hidden mx-auto"},ve=["onClick"],be={class:"flex items-center"},ke={class:"flex-1 min-w-0 ml-[15px]"},Se={class:"line-clamp-1 text-xl font-medium"},Ee={class:"line-clamp-1 text-tx-secondary text-xs mt-[5px]"},Ve={class:"mt-[13px] text-tx-secondary line-clamp-2 h-[40px] text-sm"},Ce=y(()=>o("div",{class:"mt-[30px] entry-btn"},"开始对话",-1)),Ie={key:1,class:"flex justify-center items-center mt-[50px]"},Pe=y(()=>o("span",{class:"mt-[4px] ml-[10px] text-[#999999]"},"加载中...",-1)),Re={class:"flex flex-col justify-center items-center w-full h-[60vh]"},Ne=y(()=>o("div",{class:"text-tx-regular mb-4"},"暂无机器人",-1)),ze=G({__name:"robot",props:{keyword:{}},async setup(c){let i,_;const R=c,N=ne(),u=ie(),z=S(),f=E({keyword:"",cid:0}),B={4e3:{rowPerView:7},2e3:{rowPerView:6},1800:{rowPerView:5},1600:{rowPerView:5},1440:{rowPerView:4},1360:{rowPerView:4},1280:{rowPerView:4},1024:{rowPerView:3}},e=E({pageNo:1,count:0,loading:!0,pageSize:15,lists:[]}),v=O(0),{data:b}=([i,_]=V(()=>P(()=>_e(),{default(){return[]},transform(t){return[{id:0,name:"全部"}].concat(t)},lazy:!0},"$LRegJQe7Nd")),i=await i,_(),i);[i,_]=V(()=>P(()=>g(),{lazy:!0},"$elq9G93T6A")),await i,_();const g=async()=>{e.loading=!0;try{const t=await me({...f,page_no:e.pageNo,page_size:e.pageSize});e.pageNo===1&&(e.lists=[]),e.count=t.count,e.lists.push(...t.lists)}finally{setTimeout(()=>e.loading=!1,200)}},D=()=>{u.isLogin&&e.count>=e.pageNo*e.pageSize&&(e.pageNo++,g())},w=()=>{e.pageNo=1,g()},L=S(),q=t=>{L.value=t,console.log(t)},k=t=>{var l;v.value=t,f.cid=(l=b.value[t])==null?void 0:l.id,w()};k(0);const A=async t=>{if(!u.isLogin){u.toggleShowLogin();return}const{id:l}=await ue({id:t.id});N.push({path:"/robot_square/chat",query:{id:l}})};return re(()=>R.keyword,t=>{f.keyword=t,w()},{debounce:500}),(t,l)=>{const $=oe,j=M,T=se,W=ae,F=le,H=pe,J=de,U=ge;return n(),d("div",he,[r(j,{slidesPerView:"auto",spaceBetween:16,class:"category-lists",onSwiper:q,style:{padding:"10px 0"}},{default:p(()=>[(n(!0),d(Q,null,X(a(b),(s,h)=>(n(),I($,{key:s.id,style:{width:"auto","margin-right":"12px"}},{default:p(()=>[Object.keys(s).includes("name")?(n(),d("div",{key:0,class:Y(["category-item bg-white",{"is-active":a(v)===h}]),onClick:Be=>k(h)},m(s.name),11,xe)):x("",!0)]),_:2},1024))),128))]),_:1}),o("div",ye,[C((n(),d("div",{class:"model-lists mb-[10px] mx-[0px]",ref_key:"robotRef",ref:z,"infinite-scroll-distance":"50"},[a(e).lists.length?(n(),I(W,{key:0,ref:"waterFull",delay:100,list:a(e).lists,width:315,gutter:20,animationDelay:0,animationDuration:0,backgroundColor:"none",animationPrefix:"none",animated:"none",animationEffect:"none",breakpoints:B},{item:p(({item:s})=>[o("div",{class:"card-item cursor-pointer bg-white dark:bg-[#1d2025]",onClick:h=>A(s)},[o("div",be,[r(T,{class:"flex-none",src:s.image,size:64},null,8,["src"]),o("div",ke,[o("div",Se,m(s.name),1),o("div",Ee,m(s.author),1)])]),o("div",Ve,m(s.intro),1),Ce],8,ve)]),_:1},8,["list"])):x("",!0),a(e).loading?(n(),d("div",Ie,[r(F,{size:"25",class:"is-loading"},{default:p(()=>[r(a(ce))]),_:1}),Pe])):x("",!0),C(o("div",Re,[r(H,{class:"w-[200px] h-[200px]",src:a(fe)},null,8,["src"]),Ne,r(J,{type:"primary",onClick:w},{default:p(()=>[Z(" 点击刷新")]),_:1})],512),[[K,!a(e).lists.length&&!a(e).loading]])])),[[U,D]])])])}}});const Qe=we(ze,[["__scopeId","data-v-a7660ba3"]]);export{Qe as default};
