import{E as R}from"./index.e979a1ab.js";import{_ as D}from"./index.vue.7f39d825.js";import{E as B}from"./index.8ad94f19.js";import{_ as L}from"./index.vue.79ff26cb.js";import{E as T}from"./index.828bffd0.js";import{E as V}from"./el-image-viewer.d5621b18.js";import{E as $}from"./el-result.4bbc7c45.js";import{v as j,ah as I,j as v,ap as U}from"./entry.dfbfd4fd.js";/* empty css               */import"./el-tooltip.4ed993c7.js";/* empty css                  *//* empty css                   */import{b as P}from"./download.f61d7233.js";import{D as F}from"./video_empty.69222421.js";import{d as H,g as q}from"./video.14e78cb7.js";import{E as A}from"./index.17567b0d.js";import{E as J}from"./index.a258b1c6.js";import{k as M,r as O,s as X,$ as b,u as n,H as l,I as p,U as Z,V as r,J as o,S as G,aj as K,X as s,R as Q,a7 as W,Z as m}from"./swiper-vue.2eb6bd20.js";const Y={class:"h-full bg-body rounded-[15px] p-[16px] flex flex-col"},ee={"infinite-scroll-distance":"50"},oe={class:"grid grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4 gap-4"},te={class:"flex justify-between"},se={class:"flex items-center"},ae=["onClick"],re=["onClick"],ne=["onClick"],ce={class:"relative rounded-[12px] overflow-hidden flex-1"},le={class:"bg-[var(--el-bg-color-page)]"},ie={class:"w-full box-border"},de={class:"line-clamp-1"},pe={class:"flex justify-between items-center"},_e={class:"text-[#8794A3]"},fe={key:1,class:"h-full flex items-center justify-center"},me=o("div",{class:"text-info"},"暂时没有视频哦，快去生成试试吧",-1),je=M({__name:"video",setup(ge){const e=O({pageNo:1,count:0,pageSize:15,loading:!0,lists:[]}),h=async t=>{await v.confirm("确定删除？"),await H({id:t}),U.success("删除成功"),k()},x=async(t,g)=>{try{const c=await $request.get({url:t,responseType:"blob",baseURL:""},{isReturnDefaultResponse:!0,apiPrefix:""});console.log(c);const i=new Blob([c._data],{type:c.headers.get("Content-Type")}),d=window.URL.createObjectURL(i);P(d,g)}catch{v.msgError("文件下载失败")}},_=async()=>{try{const t=await q({status:2,page_no:e.pageNo,page_size:e.pageSize});e.count=t.count,e.pageNo===1&&(e.lists=[]),e.lists.push(...t.lists)}catch{}finally{e.loading=!1}},y=()=>{e.count>=e.pageNo*e.pageSize&&(e.pageNo++,_())},k=async()=>{f.value.setScrollTop(0),e.pageSize=e.pageNo*e.pageSize,e.pageNo=1,await _()},f=X();return(async()=>{var t;e.loading=!0,e.pageSize=15,e.pageNo=1,await _(),(t=f.value)==null||t.setScrollTop(0)})(),(t,g)=>{const c=R,i=D,d=B,w=L,E=T,N=V,S=$,C=J,z=j;return b((l(),p("div",Y,[n(e).lists.length>0?(l(),Z(n(A),{key:0,class:"video-result flex-1",ref_key:"scrollBarRef",ref:f},{default:r(()=>[b((l(),p("div",ee,[o("div",oe,[(l(!0),p(G,null,K(n(e).lists,(a,ve)=>(l(),p("div",{key:a.id,class:"rounded-xl p-4 flex flex-col gap-2 border border-[#eff0f2] dark:border-[#333333]"},[o("div",te,[s(c,null,{default:r(()=>[W(m(a.type_desc),1)]),_:2},1024),o("div",se,[s(d,{effect:"dark",content:"复制提示词",placement:"bottom"},{default:r(()=>[o("div",{onClick:u=>n(I)(a.prompt)},[s(i,{class:"cursor-pointer dark:hover:bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(0,0,0,0.05)] rounded-md p-1 box-content",name:"el-icon-CopyDocument",size:"18",color:"#556477"})],8,ae)]),_:2},1024),s(d,{effect:"dark",content:"下载视频",placement:"bottom"},{default:r(()=>[o("div",{onClick:u=>x(a.video_url,"视频")},[s(i,{class:"cursor-pointer dark:hover:bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(0,0,0,0.05)] rounded-md p-1 box-content",name:"el-icon-Download",size:"18",color:"#556477"})],8,re)]),_:2},1024),s(d,{effect:"dark",content:"删除",placement:"bottom"},{default:r(()=>[o("div",{onClick:u=>h(a.id)},[s(i,{class:"cursor-pointer dark:hover:bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(0,0,0,0.05)] rounded-md p-1 box-content",name:"el-icon-Delete",size:"18",color:"#556477"})],8,ne)]),_:2},1024)])]),o("div",ce,[o("div",le,[s(w,{src:a.video_url,type:"video",ratio:[4,3]},null,8,["src"])])]),s(E,{placement:"bottom",title:"提示词",width:"300px","show-arrow":!1,transition:"custom-popover",trigger:"hover",content:a.prompt},{reference:r(()=>[o("div",ie,[o("div",de,m(a.prompt),1)])]),_:2},1032,["content"]),o("div",pe,[o("span",_e,m(a.create_time),1)])]))),128))])])),[[C,y]])]),_:1},512)):n(e).loading?Q("",!0):(l(),p("div",fe,[s(S,null,{icon:r(()=>[s(N,{class:"w-[150px] dark:opacity-60",src:n(F)},null,8,["src"])]),"sub-title":r(()=>[me]),_:1})]))])),[[z,n(e).loading]])}}});export{je as _};
