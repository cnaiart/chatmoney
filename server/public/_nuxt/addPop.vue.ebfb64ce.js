import{a as U,h as P,E as R}from"./entry.dfbfd4fd.js";import{E as A,a as F}from"./index.883ed08b.js";import{_ as I}from"./index.vue.7f39d825.js";import{E as D}from"./index.828bffd0.js";import{_ as z}from"./index.5054c8b8.js";import{_ as B}from"./index.b46f9587.js";import{P as C}from"./index.e94bc8a7.js";import"./el-form-item.4ed993c7.js";/* empty css                  *//* empty css                   *//* empty css                */import{a as K,q as Q,k as M}from"./my_database.3adef370.js";import{k as N,s as g,a as $,r as b,H as j,U as H,V as l,X as s,u as t,J as n}from"./swiper-vue.2eb6bd20.js";const J={class:"flex items-center cursor-pointer text-[#666]"},O=n("span",{class:"mr-1"},"向量模型",-1),S={class:"flex items-center cursor-pointer text-[#666]"},X=n("span",{class:"mr-1"},"文件处理模型",-1),G=n("div",{class:"form-tips"},"建议尺寸：200*160px",-1),me=N({__name:"addPop",emits:["close","success"],setup(L,{expose:w,emit:v}){U();const u=g(),_=g(),r=$(-1),o=b({name:"",image:"",intro:"",documents_model_id:"",documents_model_sub_id:"",embedding_model_id:""}),x=b({name:[{required:!0,message:"请输入库的名称",trigger:"change"}],image:[{required:!0,message:"请选择封面图标",trigger:"change"}],type:[{required:!0,message:"Please select Activity zone",trigger:"change"}],embedding_model_id:[{required:!0,message:"请选择向量模型"}],documents_model_id:[{required:!0,message:"请选择文件处理通道"}],documents_model_sub_id:[{required:!0,message:"请选择文件处理模型"}],sort:[{required:!0,message:"请输入排序",trigger:"change"}],is_enable:[{required:!0,message:"请选择库的状态",trigger:"change"}]}),h=P(),k=async()=>{var d;if(await((d=_.value)==null?void 0:d.validate()),r.value!=-1)await K({id:r.value,...o});else{const{id:e}=await Q({...o});h.push({path:"/application/kb/detail",query:{id:e}})}v("success"),u.value.close()},y=async d=>{const e=await M({id:d});Object.keys(e).map(i=>{o[i]=e[i]})};return w({open:async d=>{var e;(e=_.value)==null||e.resetFields(),r.value=-1,u.value.open(),d!=null&&d.id&&(r.value=d.id,await y(r.value))}}),(d,e)=>{const i=R,m=A,p=I,c=D,f=z,V=B,q=F,E=C;return j(),H(E,{ref_key:"popRef",ref:u,title:`${t(r)!=-1?"编辑":"新增"}知识库`,width:"500px",async:"",onConfirm:k},{default:l(()=>[s(q,{ref_key:"formRef",ref:_,"label-width":"130px",model:t(o),rules:t(x)},{default:l(()=>[s(m,{label:"知识库名称",prop:"name"},{default:l(()=>[s(i,{modelValue:t(o).name,"onUpdate:modelValue":e[0]||(e[0]=a=>t(o).name=a),placeholder:"请输入知识库名称",class:"w-[240px]"},null,8,["modelValue"])]),_:1}),s(m,{label:"知识库简介"},{default:l(()=>[s(i,{type:"textarea",modelValue:t(o).intro,"onUpdate:modelValue":e[1]||(e[1]=a=>t(o).intro=a),placeholder:"请用一句话描述知识库",class:"w-[240px]",rows:3},null,8,["modelValue"])]),_:1}),s(m,{label:"向量模型",prop:"embedding_model_id"},{label:l(()=>[s(c,{placement:"right",width:300,"show-arrow":!1,transition:"custom-popover",trigger:"hover",content:"向量模型可以将自然语言转成向量(即数据训练), 用于进行语义检索, 注意: 不同向量模型无法一起使用, 选择完后将无法修改。"},{reference:l(()=>[n("div",J,[O,s(p,{name:"el-icon-QuestionFilled",size:14})])]),_:1})]),default:l(()=>[s(f,{class:"flex-1",id:t(o).embedding_model_id,"onUpdate:id":e[2]||(e[2]=a=>t(o).embedding_model_id=a),"set-default":!1,type:"vectorModels",disabled:t(r)!=-1},null,8,["id","disabled"])]),_:1}),s(m,{label:"文件处理模型",prop:"documents_model_sub_id"},{label:l(()=>[s(c,{placement:"right",width:300,"show-arrow":!1,transition:"custom-popover",trigger:"hover",content:"文件模型用于QA拆分功能(导入数据->自动拆分问答对), 利用该AI模型对导入的文本进行处理，最终拆分成一问一答的数据形式。"},{reference:l(()=>[n("div",S,[X,s(p,{name:"el-icon-QuestionFilled",size:14})])]),_:1})]),default:l(()=>[s(f,{class:"flex-1",id:t(o).documents_model_id,"onUpdate:id":e[3]||(e[3]=a=>t(o).documents_model_id=a),sub_id:t(o).documents_model_sub_id,"onUpdate:sub_id":e[4]||(e[4]=a=>t(o).documents_model_sub_id=a),"set-default":!1,disabled:""},null,8,["id","sub_id"])]),_:1}),s(m,{label:"封面",prop:"image"},{default:l(()=>[n("div",null,[s(V,{modelValue:t(o).image,"onUpdate:modelValue":e[5]||(e[5]=a=>t(o).image=a)},null,8,["modelValue"]),G])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])}}});export{me as _};
