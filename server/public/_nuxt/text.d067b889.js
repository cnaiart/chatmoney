import{d as F}from"./entry.dfbfd4fd.js";import{a as j}from"./index.883ed08b.js";import{E as C}from"./index.17567b0d.js";import{a as I,E as U}from"./el-tabs.2ed630c1.js";import{E as A}from"./el-empty.6e01cec2.js";/* empty css                *//* empty css                     */import{u as O,T as k}from"./canvas.94886ee6.js";import{_ as w}from"./text-setting.vue.89b70e6b.js";import B from"./effect-list.c94de518.js";import{e as N}from"./empty_con.c3f015fe.js";import{c as u}from"./cloneDeep.4e82bacf.js";import{k as X,r as E,l as H,b as S,H as x,I as T,J as p,X as i,V as n,a7 as P,u as e,ag as D,ah as J}from"./swiper-vue.2eb6bd20.js";import{_ as K}from"./_plugin-vue_export-helper.c27b6911.js";import"./castArray.c741e965.js";import"./_baseClone.20563df6.js";import"./_getTag.83294aff.js";import"./strings.ceb81673.js";import"./index.15b778d4.js";import"./useAudioPlay.fe45c428.js";import"./file.a6a074d0.js";import"./___vite-browser-external.5512611b.js";import"./fontfaceobserver.standalone.fe50c3f8.js";import"./el-select.b7a2650e.js";import"./index.8ad94f19.js";import"./isUndefined.aa0326a0.js";import"./index.e979a1ab.js";import"./isEqual.0df0ab2c.js";import"./debounce.8cbe4cfc.js";import"./_baseIteratee.5e0c38c1.js";import"./index.071e9281.js";import"./el-input-number.a67590b7.js";import"./index.91e71ce7.js";import"./position.4bcf7430.js";/* empty css               *//* empty css                  */import"./el-form-item.4ed993c7.js";import"./el-radio-group.c427f46d.js";import"./index.a64ca386.js";import"./index.vue.7f39d825.js";import"./el-image-viewer.d5621b18.js";import"./throttle.d40f833a.js";/* empty css                        */import"./useQuery.ba65a97e.js";const g=d=>(D("data-v-002da2fb"),d=d(),J(),d),L={class:"avatar-select h-full flex flex-col"},W={class:"px-main pt-main"},$={key:0,class:"mt-[5px] flex-1 min-h-0"},q=g(()=>p("span",{class:"el-tab__label-text"},"文字设置",-1)),G={class:"h-full"},M={class:"p-main"},Q=g(()=>p("span",{class:"el-tab__label-text"},"文字特效",-1)),R={class:"h-full"},Y={class:"p-main"},Z={key:1,class:"p-main"},tt=X({__name:"text",setup(d){const r=O(),b=E({currentTab:"setting"}),v={fontSize:64,fontFamily:"Alibaba PuHuiTi",fill:"#ffffff",stroke:"",effect:{name:"",server_key:"",type:"",url:""}},o=E(u(v)),y=H(()=>{var s;return((s=r.activeObject)==null?void 0:s.customType)===k.TEXT}),z=()=>{b.currentTab="setting";const s=u(v);r.addText("这里是文字",k.TEXT,s)};S(()=>r.activeObject,s=>{var t;if(y.value)for(const l in o)o[l]=(t=s==null?void 0:s.data)==null?void 0:t[l];else Object.assign(o,u(v))},{immediate:!0});const V=["fontSize","fontFamily","fill","stroke"];return S(()=>o,s=>{var l,_,c;if(!y.value)return;for(const m in o)if(V.includes(m)){let f=s[m];m==="fontSize"&&(f=r.calcFontSize(f)),(l=r.activeObject)==null||l.set(m,f)}const t=u(o);(_=r.activeObject)==null||_.set("data",t),(c=r.canvas)==null||c.renderAll()},{deep:!0}),(s,t)=>{const l=F,_=j,c=C,m=I,f=U,h=A;return x(),T("div",L,[p("div",W,[i(l,{type:"primary",class:"w-full",size:"large",onClick:z},{default:n(()=>[P(" 添加文字 ")]),_:1})]),e(y)?(x(),T("div",$,[i(f,{modelValue:e(b).currentTab,"onUpdate:modelValue":t[5]||(t[5]=a=>e(b).currentTab=a),stretch:""},{default:n(()=>[i(m,{name:"setting"},{label:n(()=>[q]),default:n(()=>[p("div",G,[i(c,null,{default:n(()=>[p("div",M,[i(_,null,{default:n(()=>[i(w,{font:e(o).fontFamily,"onUpdate:font":t[0]||(t[0]=a=>e(o).fontFamily=a),"font-size":e(o).fontSize,"onUpdate:fontSize":t[1]||(t[1]=a=>e(o).fontSize=a),"font-color":e(o).fill,"onUpdate:fontColor":t[2]||(t[2]=a=>e(o).fill=a),"stroke-color":e(o).stroke,"onUpdate:strokeColor":t[3]||(t[3]=a=>e(o).stroke=a)},null,8,["font","font-size","font-color","stroke-color"])]),_:1})])]),_:1})])]),_:1}),i(m,{name:"special"},{label:n(()=>[Q]),default:n(()=>[p("div",R,[i(c,null,{default:n(()=>[p("div",Y,[i(B,{modelValue:e(o).effect,"onUpdate:modelValue":t[4]||(t[4]=a=>e(o).effect=a)},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue"])])):(x(),T("div",Z,[i(h,{image:e(N),description:"请添加文字，或在右侧选中文字～"},null,8,["image"])]))])}}});const Wt=K(tt,[["__scopeId","data-v-002da2fb"]]);export{Wt as default};
