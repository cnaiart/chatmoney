import{E as k}from"./el-image-viewer.d5621b18.js";import{_ as w}from"./index.vue.7f39d825.js";import{E as V}from"./el-upload.5844c619.js";import{cv as E,ap as b,am as z}from"./entry.dfbfd4fd.js";import"./el-progress.8f5e9f30.js";import{k as G,a as P,l as B,H as n,I as m,X as p,V as C,J as a,u as t,Y as J,Z as M,e as N,ag as S,ah as U,a7 as $}from"./swiper-vue.2eb6bd20.js";import{_ as j}from"./uploader.b31ee9fb.js";import{a as s,b as q}from"./useDrawEffect.259be699.js";import{_ as L}from"./sidbar-item-title.vue.34bde19f.js";import{_ as D}from"./_plugin-vue_export-helper.c27b6911.js";import"./throttle.d40f833a.js";import"./debounce.8cbe4cfc.js";import"./position.4bcf7430.js";import"./cloneDeep.4e82bacf.js";import"./_baseClone.20563df6.js";import"./_getTag.83294aff.js";import"./isEqual.0df0ab2c.js";import"./usePaging.b2b97b82.js";import"./usePolling.de4d6c35.js";import"./DrawEnum.ea2da3f6.js";import"./index.828bffd0.js";import"./index.8ad94f19.js";import"./isUndefined.aa0326a0.js";import"./dropdown.cd5c481a.js";/* empty css                  *//* empty css                   */const f=o=>(S("data-v-3c65f031"),o=o(),U(),o),F={key:0,class:"flex justify-center items-center h-[150px] relative"},R={key:1,class:"uploader-container"},A=f(()=>a("img",{src:j,alt:"文件上传",class:"w-8 mx-auto mb-2"},null,-1)),H=f(()=>a("div",{class:"el-upload__text text-[#798696] !text-[13px]"},[$(" 拖拽文件到此处或者"),a("em",null,"点击上传")],-1)),T={class:"el-upload__tip text-[#798696]"},X=G({__name:"uploader",props:{modelValue:{default:""},type:{},files:{}},emits:["update:modelValue"],setup(o,{emit:u}){const c=o,{modelValue:i}=E(c,u),l=P([]),_=e=>q()?!1:parseInt(s.value.file_size)>0&&e.size>parseInt(s.value.file_size)*1024*1024?(b.error(`文件大小不能超过${s.value.file_size}MB`),!1):!0,v=e=>{u("update:modelValue",e.uri),i.value=e.uri,l.value=[{name:e.name,url:e.uri}]},g=e=>z(c.type,{file:e.file,name:"file",header:{},data:{type:"draw"}}),h=B(()=>{switch(c.type){case"image":return".jpg,.png,.jpeg";case"video":return".wmv,.avi,.mpg,.mpeg,.3gp,.mov,.mp4,.flv,.rmvb,.mkv";case"audio":return;default:return"*"}});return(e,r)=>{const x=k,y=w,I=V;return n(),m("div",null,[p(L,{title:"上传参考图",required:"",tips:"上传一张图片做为基底，用模型在其上面重新生成新的图片"}),p(I,{"file-list":t(l),"onUpdate:fileList":r[1]||(r[1]=d=>N(l)?l.value=d:null),class:"uploader",drag:"",multiple:!1,"show-file-list":!1,"on-success":v,"http-request":g,"before-upload":_,accept:t(h)},{default:C(()=>[a("div",null,[t(i)?(n(),m("div",F,[p(x,{class:"!block h-[100%]",src:t(i),fit:"contain"},null,8,["src"]),p(y,{class:"!absolute right-0 top-0 z-10 drop-shadow",name:"el-icon-CircleCloseFilled",color:"#ffffff",onClick:r[0]||(r[0]=J(d=>i.value="",["stop"]))})])):(n(),m("div",R,[A,H,a("div",T,M(parseInt(t(s).file_size)>0?`支持图片格式：JPG/JPEG/PNG，低于${t(s).file_size}MB`:"支持图片格式：JPG/JPEG/PNG"),1)]))])]),_:1},8,["file-list","accept"])])}}});const ye=D(X,[["__scopeId","data-v-3c65f031"]]);export{ye as default};
