import{E as W}from"./index.5de6b9f9.js";import{_ as X}from"./index.vue.aec261cd.js";import{E as j,a as z}from"./index.883ed08b.js";import{h as H,a as J,m as Z,ah as q,dw as G,j as g,da as K,dx as M,dy as O,E as Q,d as Y}from"./entry.dfbfd4fd.js";import{E as ee}from"./index.17567b0d.js";/* empty css                  */import"./el-form-item.4ed993c7.js";/* empty css                *//* empty css                     */import{_ as te}from"./bindmobilePop.vue.2e1c21de.js";import{_ as oe}from"./changePwdPop.vue.929ee16e.js";import{k as se,a as x,s as E,u as s,H as r,I as C,X as a,V as t,J as e,e as ae,Z as i,a7 as m,U as d,R as y,n as S,ag as le,ah as ne}from"./swiper-vue.2eb6bd20.js";import{_ as re}from"./_plugin-vue_export-helper.c27b6911.js";import"./el-upload.5844c619.js";import"./el-progress.8f5e9f30.js";import"./cloneDeep.4e82bacf.js";import"./_baseClone.20563df6.js";import"./_getTag.83294aff.js";import"./isEqual.0df0ab2c.js";import"./index.6c069afb.js";import"./use-dialog.7d399731.js";import"./isUndefined.aa0326a0.js";import"./refs.cabac943.js";import"./castArray.c741e965.js";import"./el-select.b7a2650e.js";import"./index.8ad94f19.js";import"./index.e979a1ab.js";import"./strings.ceb81673.js";import"./debounce.8cbe4cfc.js";import"./_baseIteratee.5e0c38c1.js";import"./index.071e9281.js";import"./index.e708d765.js";import"./index.e94bc8a7.js";/* empty css                  *//* empty css               *//* empty css                  */import"./useLockFn.619a13da.js";const p=u=>(le("data-v-ef279538"),u=u(),ne(),u),ie={class:"w-full h-full bg-body rounded-[12px]"},pe={class:"p-[20px]"},ce=p(()=>e("div",{class:"title font-medium text-xl"},"个人信息",-1)),me={class:"mt-[30px]"},de=p(()=>e("div",{class:"w-[55px] text-right"},"头像",-1)),ue={class:""},_e=p(()=>e("div",{class:"text-tx-secondary mt-2 text-sm"}," 建议尺寸：240*240px ",-1)),fe={class:"flex items-center"},ve={class:"mr-4"},ye={class:"flex items-center"},be=p(()=>e("span",{class:"ml-2 text-tx-placeholder"}," （如需修改，请前往移动端修改） ",-1)),he={class:"flex items-center"},ke={class:"flex items-center"},xe={class:"flex items-center"},Ie={key:0},we=p(()=>e("div",{class:"line mb-[30px]"},null,-1)),ge=p(()=>e("div",{class:"form-tips"}," 注销你的账户后，你将无法使用我们的任何服务，并且与你的账户相关的所有数据都将永久丢失。此操作不可逆！ ",-1)),Ee=se({__name:"center",setup(u){const P=H(),b=x(!1),I=E(),h=x(!1),w=E(),U=J(),o=Z(),_=x(s(o.userInfo.nickname)),B=async()=>{b.value=!0,await S(),I.value.open()},R=async()=>{h.value=!0,await S(),w.value.open()},V=async(f,l)=>{try{await G({value:f,field:l}),o.getUser()}catch(k){g.msgError(k)}},N=()=>{o.setLoginPopupType(K.BIND_WEIXIN),o.toggleShowLogin(!0)},A=async()=>{await M({field:"nickname",value:_.value}),o.getUser()},T=async()=>{await g.confirm("确认注销账号吗？注销后将无法登录！"),await O(),P.push("/"),o.logout()};return(f,l)=>{const k=W,$=X,n=j,D=Q,c=Y,L=z,F=ee;return r(),C("div",ie,[a(F,null,{default:t(()=>[e("div",pe,[ce,e("div",me,[a(L,{"label-width":"90px","label-position":"left"},{default:t(()=>[a(n,{label:"","label-position":"right"},{label:t(()=>[de]),default:t(()=>[e("div",ue,[a($,{onChange:l[0]||(l[0]=v=>V(v,"avatar"))},{default:t(()=>[a(k,{size:60,src:s(o).userInfo.avatar},null,8,["src"])]),_:1}),_e])]),_:1}),a(n,{label:"用户昵称"},{default:t(()=>[e("div",null,[a(D,{modelValue:s(_),"onUpdate:modelValue":l[1]||(l[1]=v=>ae(_)?_.value=v:null),class:"!w-[300px]"},null,8,["modelValue"])])]),_:1}),a(n,{label:"用户ID"},{default:t(()=>[e("div",fe,[e("span",ve,i(s(o).userInfo.sn),1),a(c,{type:"primary",link:!0,onClick:l[2]||(l[2]=v=>("copy"in f?f.copy:s(q))(s(o).userInfo.sn))},{default:t(()=>[m(" 复制 ")]),_:1})])]),_:1}),a(n,{label:"上级邀请人"},{default:t(()=>[e("div",null,i(s(o).userInfo.leader_nickname||"系统"),1)]),_:1}),a(n,{label:"注册时间"},{default:t(()=>[e("div",null,i(s(o).userInfo.create_time),1)]),_:1}),s(o).userInfo.email?(r(),d(n,{key:0,label:"邮箱号码"},{default:t(()=>[e("div",ye,[e("span",null,i(s(o).userInfo.email),1),be])]),_:1})):y("",!0),a(n,{label:"手机号码"},{default:t(()=>[e("div",he,[e("span",null,i(s(o).userInfo.mobile),1),a(c,{class:"ml-4",type:"primary",link:"",onClick:B},{default:t(()=>[m(i(s(o).userInfo.mobile?"点击更改":"立即绑定"),1)]),_:1})])]),_:1}),a(n,{label:"登录密码"},{default:t(()=>[e("div",ke,[a(c,{type:"primary",link:"",onClick:R},{default:t(()=>[m("点击设置")]),_:1})])]),_:1}),a(n,{label:"绑定微信"},{default:t(()=>[e("div",xe,[s(o).userInfo.is_auth?(r(),C("span",Ie,"已绑定")):(r(),d(c,{key:1,type:"primary",link:!0,onClick:N},{default:t(()=>[m(" 点击绑定 ")]),_:1}))])]),_:1}),a(n,{"label-width":"0"},{default:t(()=>[a(c,{type:"primary",class:"save-btn",onClick:A},{default:t(()=>[m(" 保存 ")]),_:1})]),_:1}),we,s(U).getAccountCancelledStatus?(r(),d(n,{key:1,label:"注销账号"},{default:t(()=>[e("div",null,[e("div",{class:"text-primary cursor-pointer",onClick:T}," 立即注销 > "),ge])]),_:1})):y("",!0)]),_:1})])])]),_:1}),s(b)?(r(),d(te,{key:0,ref_key:"bindPopRef",ref:I,onClose:l[3]||(l[3]=()=>{b.value=!1,s(o).getUser()})},null,512)):y("",!0),s(h)?(r(),d(oe,{key:1,ref_key:"pwdPopRef",ref:w,mobile:s(o).userInfo.mobile,email:s(o).userInfo.email,onClose:l[4]||(l[4]=()=>{h.value=!1})},null,8,["mobile","email"])):y("",!0)])}}});const pt=re(Ee,[["__scopeId","data-v-ef279538"]]);export{pt as default};
