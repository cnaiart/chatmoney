import{_ as F}from"./index.vue.7f39d825.js";import{cv as M,d as T,v as I,ap as L}from"./entry.dfbfd4fd.js";import{_ as N}from"./index.a47f7f49.js";import{E as D}from"./index.883ed08b.js";import"./el-form-item.4ed993c7.js";import{u as R}from"./useLockFn.619a13da.js";import{t as S}from"./video.14e78cb7.js";import{k as $,l as h,a as z,H as p,U,V as l,J as i,Z as q,u as s,$ as H,I as d,X as r,R as v,a7 as J,e as P}from"./swiper-vue.2eb6bd20.js";const X={class:"font-bold text-tx-primary"},Z={class:"flex-1","element-loading-text":"正在翻译"},j={class:"flex p-[10px]"},A={class:"flex-1 flex items-center"},G=i("span",{class:"ml-[4px]"},"试试示例",-1),K=i("span",{class:"ml-[4px]"},"翻译成英文",-1),se=$({__name:"prompt",props:{modelValue:{default:""},config:{default:()=>({})},type:{default:1},showTranslate:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(g,{emit:y}){const n=g,{modelValue:a}=M(n,y),k=h(()=>n.type===1),V={1:{label:"视频场景",placeholder:"在此描述你的视频场景，包含内容主体+动作/场景"},2:{label:"描述词",placeholder:"描述视频中需要变化的内容即可～"}},u=h(()=>V[n.type]||{}),f=z(-1),E=()=>{var o;const t=(o=n.config.data)==null?void 0:o.length;if(t){let e=Math.round(Math.random()*(t-1));f.value===e&&(e<t-1?e++:e--),e<0&&(e=0),f.value=e;const c=n.config.data[e];c&&(a.value=c)}},{lockFn:_,isLock:B}=R(async()=>{if(!a.value)return L.error("请输入描述词");const t=await S({prompt:a.value});a.value=t.result});return(t,o)=>{const e=F,c=T,C=N,w=D,b=I;return p(),U(w,{prop:"prompt",required:""},{label:l(()=>[i("span",X,q(s(u).label),1)]),default:l(()=>[H((p(),d("div",Z,[r(C,{modelValue:s(a),"onUpdate:modelValue":o[2]||(o[2]=m=>P(a)?a.value=m:null),placeholder:s(u).placeholder,contentStyle:{height:"120px"}},{"length-suffix":l(()=>{var m;return[i("div",j,[i("div",A,[s(k)&&t.config.status&&((m=t.config.data)!=null&&m.length)?(p(),d("div",{key:0,class:"flex items-center cursor-pointer text-[#6F7E8E] text-sm mr-2 hover:text-primary",onClick:E},[r(e,{name:"el-icon-Refresh"}),G])):v("",!0),t.showTranslate?(p(),d("div",{key:1,class:"flex items-center cursor-pointer text-[#6F7E8E] text-sm hover:text-primary",onClick:o[0]||(o[0]=(...x)=>s(_)&&s(_)(...x))},[r(e,{name:"el-icon-Switch"}),K])):v("",!0)]),r(c,{link:"",size:"small",type:"primary",onClick:o[1]||(o[1]=x=>a.value="")},{icon:l(()=>[r(e,{name:"el-icon-Delete",size:12})]),default:l(()=>[J(" 清空 ")]),_:1})])]}),_:1},8,["modelValue","placeholder"])])),[[b,s(B)]])]),_:1})}}});export{se as _};
