import{a as k,E as S}from"./el-image-viewer.d5621b18.js";import{_ as $}from"./index.vue.7f39d825.js";import"./entry.dfbfd4fd.js";import{_ as C}from"./index.f647f618.js";import{E as b}from"./index.6c069afb.js";/* empty css                  */import{k as _,s as E,l as R,a as v,b as z,n as y,H as o,I as a,u as f,U as g,R as i,X as u,V as B,e as I,a5 as N,J as P,N as U,_ as j}from"./swiper-vue.2eb6bd20.js";import{_ as x}from"./_plugin-vue_export-helper.c27b6911.js";const D={key:0},H={key:0},J={key:1},L=_({__name:"preview",props:{modelValue:{type:Boolean,default:!1},url:{type:String,default:""},type:{type:String,default:"image"}},emits:["update:modelValue"],setup(e,{emit:l}){const r=e,d=E(),p=R({get(){return r.modelValue},set(n){l("update:modelValue",n)}}),c=()=>{l("update:modelValue",!1)},s=v([]);return z(()=>r.modelValue,n=>{n?y(()=>{var t;s.value=[r.url],(t=d.value)==null||t.play()}):y(()=>{var t;s.value=[],(t=d.value)==null||t.pause()})}),(n,t)=>{const m=k,h=C,w=b;return e.modelValue?(o(),a("div",D,[e.type=="image"?(o(),a("div",H,[f(s).length?(o(),g(m,{key:0,"url-list":f(s),"hide-on-click-modal":"",onClose:c},null,8,["url-list"])):i("",!0)])):i("",!0),e.type=="video"||e.type=="audio"?(o(),a("div",J,[u(w,{modelValue:f(p),"onUpdate:modelValue":t[0]||(t[0]=V=>I(p)?p.value=V:null),width:"740px",title:`${e.type=="video"?"视频预览":"音频预览"}`,"before-close":c},{default:B(()=>[u(h,{ref_key:"playerRef",ref:d,src:e.url,width:"100%",height:"450px"},null,8,["src"])]),_:1},8,["modelValue","title"])])):i("",!0)])):i("",!0)}}}),T=_({components:{Preview:L},props:{uri:{type:String},fileSize:{type:String,default:"100px"},type:{type:String,default:"image"},fileName:{type:String,default:""}},emits:["close"],setup(e,l){return{show:v(!1)}}});const X=["src"],q={key:3,class:"audio"};function A(e,l,r,d,p,c){const s=S,n=$,t=N("Preview");return o(),a("div",null,[P("div",{class:"file-item relative",style:j({height:e.fileSize,width:e.fileSize})},[e.type=="image"?(o(),g(s,{key:0,class:"image",fit:"contain",src:e.uri},null,8,["src"])):e.type=="video"?(o(),a("video",{key:1,class:"video",src:e.uri},null,8,X)):i("",!0),e.type=="video"?(o(),a("div",{key:2,class:"absolute left-1/2 top-1/2 translate-x-[-50%] translate-y-[-50%] rounded-full w-5 h-5 flex justify-center items-center bg-[rgba(0,0,0,0.3)] cursor-pointer",onClick:l[0]||(l[0]=m=>e.show=!0)},[u(n,{name:"el-icon-CaretRight",size:18,color:"#fff"})])):i("",!0),e.type=="audio"?(o(),a("div",q,[u(s,{class:"w-full h-full",src:"/src/assets/images/musicIcon.png"})])):i("",!0),U(e.$slots,"default",{},void 0,!0)],4),u(t,{url:e.uri,modelValue:e.show,"onUpdate:modelValue":l[1]||(l[1]=m=>e.show=m),type:e.type},null,8,["url","modelValue","type"])])}const Z=x(T,[["render",A],["__scopeId","data-v-fa6709ca"]]);export{Z as _,L as a};
