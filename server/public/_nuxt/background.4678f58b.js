import{E as $,a as A}from"./el-tabs.2ed630c1.js";import{a as O,b as G}from"./el-radio-group.c427f46d.js";import{_ as J}from"./index.a64ca386.js";import{E as K}from"./el-image-viewer.d5621b18.js";import{E as M}from"./el-empty.6e01cec2.js";import{E as F}from"./index.17567b0d.js";import{cL as H,cM as P,j as X}from"./entry.dfbfd4fd.js";/* empty css                        *//* empty css                     */import{u as E}from"./asyncData.eaddccf2.js";import{u as Z,I as C,c as q}from"./canvas.94886ee6.js";import{e as Q}from"./empty_con.c3f015fe.js";import{k as W,r as Y,aa as B,l as V,H as l,I as p,J as s,X as d,V as m,S as g,aj as b,u as a,U as w,R as ee,a7 as te,Z as ae,T}from"./swiper-vue.2eb6bd20.js";import{_ as oe}from"./_plugin-vue_export-helper.c27b6911.js";import"./strings.ceb81673.js";import"./index.15b778d4.js";import"./index.vue.7f39d825.js";import"./throttle.d40f833a.js";import"./debounce.8cbe4cfc.js";import"./position.4bcf7430.js";import"./useAudioPlay.fe45c428.js";import"./file.a6a074d0.js";import"./___vite-browser-external.5512611b.js";import"./fontfaceobserver.standalone.fe50c3f8.js";const se={class:"avatar-select h-full flex flex-col"},ne={class:"px-main"},re={class:"pt-[5px]"},le={class:"flex-1 min-h-0"},ie={class:"p-main"},ce={key:0,class:"flex flex-wrap mx-[-7px]"},pe=["onClick"],de={class:"absolute inset-0"},me=W({__name:"background",async setup(_e){let n,_;const i=Z(),v=[{type:1,label:"竖版背景"},{type:2,label:"横版背景"}],r=Y({type:1,category_id:0}),{data:z}=([n,_]=B(()=>E(()=>H(),{lazy:!0},"$kOs1tBC3ke")),n=await n,_(),n),{data:f,refresh:x,pending:I}=([n,_]=B(()=>E(()=>P(r),{lazy:!0},"$92jT89Nd84")),n=await n,_(),n),S=async o=>{var t,c,u;if(((t=k.value)==null?void 0:t.type)!==i.defaultSize.resolution){const y=q[(c=k.value)==null?void 0:c.type];(u=i.getCanvasJson())!=null&&u.objects.length&&await X.confirm("是否确认更改画布尺寸？当前画面所有设置将被重置且无法恢复"),i.changeSize(y),i.initObject()}i.addImage(o.url,C.BACKGROUND,o)},k=V(()=>v.find(o=>o.type===r.type)),N=V(()=>{var t;const o=(t=i.canvasJson.objects)==null?void 0:t.find(c=>c.customType===C.BACKGROUND);return o!=null&&o.data?o.data:null});return(o,t)=>{const c=A,u=$,y=G,D=O,L=J,j=K,R=M,U=F;return l(),p("div",se,[s("div",ne,[s("div",re,[d(u,{modelValue:a(r).type,"onUpdate:modelValue":t[0]||(t[0]=e=>a(r).type=e),onTabChange:t[1]||(t[1]=e=>{f.value=[],a(x)()})},{default:m(()=>[(l(),p(g,null,b(v,e=>d(c,{key:e.type,label:e.label,name:e.type},null,8,["label","name"])),64))]),_:1},8,["modelValue"])]),d(L,{"default-height":42,class:"my-[-5px]"},{default:m(()=>[d(D,{modelValue:a(r).category_id,"onUpdate:modelValue":t[2]||(t[2]=e=>a(r).category_id=e),class:"el-radio-group-margin",onChange:t[3]||(t[3]=e=>a(x)())},{default:m(()=>[(l(!0),p(g,null,b(a(z),e=>(l(),w(y,{key:e.id,label:e.id},{default:m(()=>[te(ae(e.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),s("div",le,[d(U,null,{default:m(()=>[s("div",ie,[a(f).length?(l(),p("div",ce,[(l(!0),p(g,null,b(a(f),e=>{var h;return l(),p("div",{key:e.id,class:"w-[50%]"},[s("div",{class:"px-[7px] mb-[14px]",onClick:ue=>S(e)},[s("div",{class:T(["border border-solid border-br-light rounded-md p-[10px] cursor-pointer",{"!border-primary":((h=a(N))==null?void 0:h.id)==e.id}])},[s("div",null,[s("div",{class:T(["pic-wrap h-0 relative",{"pt-[177%]":a(r).type==1,"pt-[56.3%]":a(r).type==2}])},[s("div",de,[d(j,{src:e.url,class:"w-full h-full",fit:"contain",lazy:""},null,8,["src"])])],2)])],2)],8,pe)])}),128))])):a(I)?ee("",!0):(l(),w(R,{key:1,image:a(Q),description:"暂无数据～"},null,8,["image"]))])]),_:1})])])}}});const Ae=oe(me,[["__scopeId","data-v-c2d2a601"]]);export{Ae as default};
