import{E as P}from"./index.deef7dcf.js";import{E as S}from"./index.17567b0d.js";import{m as R,a as V,j as $,d as j}from"./entry.dfbfd4fd.js";import{P as q}from"./index.e94bc8a7.js";/* empty css                   *//* empty css                     */import{u as z}from"./useCopy.5611cfa5.js";import{d as L}from"./download.f61d7233.js";import{Q as N}from"./qrcode.vue.esm.415e365a.js";import{k as T,s as f,a as x,l as v,H as D,I as H,X as t,V as n,J as e,u as o,a7 as h,Z as r}from"./swiper-vue.2eb6bd20.js";import{_ as Q}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.6c069afb.js";import"./use-dialog.7d399731.js";import"./isUndefined.aa0326a0.js";import"./refs.cabac943.js";/* empty css                  */const A={class:"share-pop"},J={class:"flex flex-col"},U={class:"flex-1 min-h-0"},W={class:"flex justify-center bg-[#F2F3F6] rounded-t-[10px] overflow-hidden"},X=["src"],Z={class:"px-[16px] mt-[12px]"},G={class:"title text-[16px] font-medium text-[#101010] line-clamp-2"},K={class:"px-[15px]"},M={class:"flex items-center px-[16px] pt-[0px] pb-[30px]"},O={class:"flex items-center"},Y=["src"],ee={class:"ml-2"},oe={class:"mt-[16px] font-medium text-[#101010] text-xl"},te={class:"mt-[10px] text-primary"},se={class:"ml-auto h-[80px] p-[5px] bg-white rounded-[5px]"},ne={class:"flex px-[10px]"},ae=T({__name:"posterPop",setup(re,{expose:g}){const p=f(),d=f(),a=R(),{getWebsiteConfig:b,config:l}=V(),s=x({}),y=c=>{p.value.open(),s.value=c},k=v(()=>`${l.current_domain}/mobile/packages/pages/robot_square/robot_square?type=2?user_sn=${a.userInfo.sn}`),{copy:w}=z(),E=v(()=>`${l.current_domain}/pc/robot_square?type=2&user_sn=${a.userInfo.sn}`),_=x(!1),B=async()=>{try{_.value=!0,await L(d.value)}catch{$.msgError("下载失败，请重试")}finally{_.value=!1}};return g({open:y}),(c,m)=>{const C=P,I=S,u=j,F=q;return D(),H("div",A,[t(F,{ref_key:"popRef",ref:p,width:"auto",title:"生成海报","append-to-body":!1,"click-modal-close":!0,confirmButtonText:"",cancelButtonText:""},{footer:n(()=>[e("div",ne,[t(u,{class:"flex-1",text:"",bg:"",plain:"",size:"large",onClick:m[0]||(m[0]=i=>o(w)(o(E)))},{default:n(()=>[h(" 复制链接 ")]),_:1}),t(u,{class:"flex-1",type:"primary",size:"large",onClick:B},{default:n(()=>[h(" 下载海报 ")]),_:1})])]),default:n(()=>[e("div",J,[e("div",U,[t(I,null,{default:n(()=>{var i;return[e("div",{ref_key:"posterRef",ref:d,class:"w-[430px] bg-[#F8F8FB] rounded-[10px]"},[e("div",W,[e("img",{class:"w-full object-contain",src:o(s).thumbnail||o(s).image,alt:""},null,8,X)]),e("div",Z,[e("div",G,r(((i=o(s))==null?void 0:i.prompts_cn)||o(s).original_prompts.prompt),1)]),e("div",K,[t(C,{"border-style":"solid"})]),e("div",M,[e("div",null,[e("div",O,[e("img",{class:"w-[45px] h-[45px] rounded-full",src:o(a).userInfo.avatar},null,8,Y),e("div",ee,r(o(a).userInfo.nickname),1)]),e("div",oe,r(o(b).pc_title),1),e("div",te,r(o(l).current_domain),1)]),e("div",se,[t(N,{value:o(k),size:80,margin:1},null,8,["value"])])])],512)]}),_:1})])])]),_:1},512)])}}});const we=Q(ae,[["__scopeId","data-v-5dc6970d"]]);export{we as default};
