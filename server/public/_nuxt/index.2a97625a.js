import{x as ee,y as te,F as ae,P as se,T as oe,a as le,cE as re,s as ne,b as ce,E as ie,d as de,_ as pe}from"./entry.dfbfd4fd.js";import{_ as ue}from"./index.vue.7f39d825.js";import{k as V,H as r,I as p,T as _,u as e,N as C,a7 as I,Z as i,R as d,J as t,_ as O,a as x,aa as j,l as _e,s as me,X as n,V as c,e as fe,aw as xe,S as he,aj as ye,U as w,Y as we,$ as ge,a0 as ve,ax as be,ag as ke,ah as Se}from"./swiper-vue.2eb6bd20.js";import{_ as Ce}from"./nuxt-link.42058260.js";import{W as Ie}from"./index.36f10986.js";import{E as Ve}from"./el-image-viewer.d5621b18.js";import{u as A}from"./asyncData.eaddccf2.js";import{g as $e,a as Pe,c as Ee}from"./create.257daca9.js";import{e as Ne}from"./empty_con.c3f015fe.js";import{_ as Be}from"./_plugin-vue_export-helper.c27b6911.js";import"./throttle.d40f833a.js";import"./debounce.8cbe4cfc.js";import"./position.4bcf7430.js";const De=ee({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:te([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),Le=V({name:"ElCard"}),ze=V({...Le,props:De,setup(m){const o=ae("card");return(a,$)=>(r(),p("div",{class:_([e(o).b(),e(o).is(`${a.shadow}-shadow`)])},[a.$slots.header||a.header?(r(),p("div",{key:0,class:_(e(o).e("header"))},[C(a.$slots,"header",{},()=>[I(i(a.header),1)])],2)):d("v-if",!0),t("div",{class:_([e(o).e("body"),a.bodyClass]),style:O(a.bodyStyle)},[C(a.$slots,"default")],6),a.$slots.footer||a.footer?(r(),p("div",{key:1,class:_(e(o).e("footer"))},[C(a.$slots,"footer",{},()=>[I(i(a.footer),1)])],2)):d("v-if",!0)],2))}});var Fe=se(ze,[["__file","card.vue"]]);const Te=oe(Fe);const je=m=>(ke("data-v-c7a883b8"),m=m(),Se(),m),Ae={class:"h-full flex flex-col create 4xl:w-[2000px] mx-auto"},Oe={class:"2xl:max-w-[880px] xl:max-w-[780px] lg:max-w-[680px] max-w-[680px] search w-full mt-4"},Re={class:"flex-1 min-h-0 mx-[16px]"},Ue={class:"h-full flex flex-col"},We=["onClick"],Je={class:"flex-1 min-h-0"},Me={class:"flex flex-col min-h-0 h-full"},qe={class:"flex items-center"},Ge=["src"],He={class:"text-lg font-medium line-clamp-1"},Ke={class:"h-[36px]"},Xe={key:0,class:"text-xs text-tx-secondary mt-[10px] line-clamp-2 flex-1"},Ye={class:"flex items-center mt-[16px]"},Ze={class:"text-tx-secondary mr-[30px] flex items-center text-sm"},Qe={class:"ml-1"},et=["onClick"],tt={class:"flex flex-col justify-center items-center w-full h-[60vh]"},at=je(()=>t("div",{class:"text-tx-regular mb-4"}," 当前选择暂无创作～ ",-1)),st=V({__name:"index",async setup(m){let o,a;const $=le(),P=x(0),u=x(""),g=x(0),h=x([]),v=x(!1),R={4e3:{rowPerView:7},2e3:{rowPerView:6},1800:{rowPerView:5},1600:{rowPerView:5},1440:{rowPerView:4},1360:{rowPerView:4},1280:{rowPerView:4},1024:{rowPerView:3}},{data:E,refresh:U}=([o,a]=j(()=>A(()=>$e({keyword:u.value}),{default(){return[]},lazy:!0},"$gS1lmh76Gl")),o=await o,a(),o),{data:b}=([o,a]=j(()=>A(()=>ce({id:5}),{transform:l=>JSON.parse(l.data),default(){return[]},lazy:!0},"$Dd0tiMcnfk")),o=await o,a(),o),W=_e(()=>l=>{switch(l){case 1:return"text-black";case 2:return"text-white";case 3:return"text-primary"}}),J=me(),M=l=>{J.value=l,console.log(l)},N=l=>{var f;P.value=l,g.value=(f=E.value[l])==null?void 0:f.id,y()},y=async()=>{v.value=!0;try{h.value=await Pe({category_id:g.value,keyword:u.value})}finally{setTimeout(()=>v.value=!1,200)}};N(0);const q=async l=>{await Ee({id:l}),await y(),U()};return re(u,l=>{y()},{debounce:500}),(l,f)=>{const G=ie,k=ue,H=Te,K=Ce,X=Ie,Y=Ve,Z=de,Q=pe;return r(),p("div",null,[n(Q,{name:"default"},{default:c(()=>{var B,D,L,z,F,T;return[t("div",Ae,[t("header",{class:"creation-header flex flex-col justify-center items-center px-[16px] m-[16px] rounded-[12px] overflow-hidden",style:O({"background-image":`url(${e($).getImageUrl((D=(B=e(b)[0])==null?void 0:B.prop)==null?void 0:D.banner_bg)})`})},[t("div",{class:_(["font-medium 2xl:text-[50px] xl:text-[40px] lg:text-[36px] text-[36px]",e(W)((z=(L=e(b)[0])==null?void 0:L.prop)==null?void 0:z.title_color)])},i((T=(F=e(b)[0])==null?void 0:F.prop)==null?void 0:T.title),3),t("div",Oe,[n(G,{size:"large",class:"2xl:h-[54px] xl:h-[48px] lg:h-[44px] rounded-[7px]",style:{"--el-border-color":"transparent"},modelValue:e(u),"onUpdate:modelValue":f[0]||(f[0]=s=>fe(u)?u.value=s:null),"prefix-icon":e(ne),placeholder:"请输入关键词搜索"},null,8,["modelValue","prefix-icon"])])],4),t("div",Re,[t("div",Ue,[n(e(xe),{slidesPerView:"auto",spaceBetween:16,class:"category-lists",onSwiper:M,style:{padding:"10px 0","margin-left":"0"}},{default:c(()=>[(r(!0),p(he,null,ye(e(E),(s,S)=>(r(),w(e(be),{key:s.id,style:{width:"auto","margin-right":"12px"}},{default:c(()=>[Object.keys(s).includes("name")?(r(),p("div",{key:0,class:_(["category-item bg-white",{"is-active":e(P)===S}]),onClick:ot=>N(S)},i(s.name),11,We)):d("",!0)]),_:2},1024))),128))]),_:1}),t("div",Je,[e(h).length?(r(),w(X,{key:0,ref:"waterFull",delay:100,list:e(h),width:305,gutter:20,animationDelay:0,animationDuration:0,backgroundColor:"none",animationPrefix:"none",animated:"none",animationEffect:"none",breakpoints:R},{item:c(({item:s})=>[n(K,{to:{path:"/creation/produce",query:{cateId:e(g),modelId:s.id}},class:"h-full"},{default:c(()=>[n(H,{class:"!border-none h-full rounded-[12px] relative cardItem shadow-light",shadow:"never",style:{"border-radius":"12px"},"body-style":"padding: 20px;height: 100%"},{default:c(()=>[t("div",Me,[t("div",qe,[t("img",{class:"w-[34px] h-[34px] mr-[10px]",src:s.image,alt:""},null,8,Ge),t("div",He,i(s.name),1)]),t("div",Ke,[s.tips?(r(),p("div",Xe,i(s.tips),1)):d("",!0)]),t("div",Ye,[t("div",Ze,[n(k,{name:"local-icon-yonghu"}),t("div",Qe,i(s.use_num)+"人使用过 ",1)]),t("div",{class:"flex collection absolute top-[10px] right-[10px]",onClick:we(S=>q(s.id),["prevent"])},[s.is_collect?d("",!0):(r(),w(k,{key:0,size:20,name:"el-icon-Star",color:"#999"})),s.is_collect?(r(),w(k,{key:1,style:{transform:`scale(
                                                                    1.2
                                                                )`},size:20,name:"el-icon-StarFilled",color:"#FFB529"})):d("",!0)],8,et)])])]),_:2},1024)]),_:2},1032,["to"])]),_:1},8,["list"])):d("",!0),ge(t("div",tt,[n(Y,{class:"w-[200px] h-[200px]",src:e(Ne)},null,8,["src"]),at,n(Z,{type:"primary",onClick:y},{default:c(()=>[I(" 点击刷新 ")]),_:1})],512),[[ve,!e(h).length&&!e(v)]])])])])])]}),_:1})])}}});const yt=Be(st,[["__scopeId","data-v-c7a883b8"]]);export{yt as default};
