import{f as R,d as j,E as D,i as N,j as F}from"./entry.dfbfd4fd.js";import{_ as $}from"./index.6cda5009.js";import{E as z}from"./index.6c069afb.js";/* empty css                  */import{d as H}from"./download.f61d7233.js";import{u as L}from"./useLockFn.619a13da.js";import{B as M}from"./robot.b9f1d754.js";import{V as P}from"./vue-qr.c50d30e8.js";import{k as J,a as f,s as Q,l as T,b as X,H as w,U as Z,V as i,J as e,u as t,I as q,R as A,X as s,Z as V,a7 as x,e as h,ag as G,ah as K}from"./swiper-vue.2eb6bd20.js";import{_ as O}from"./_plugin-vue_export-helper.c27b6911.js";import"./el-upload.5844c619.js";import"./el-progress.8f5e9f30.js";import"./cloneDeep.4e82bacf.js";import"./_baseClone.20563df6.js";import"./_getTag.83294aff.js";import"./isEqual.0df0ab2c.js";import"./use-dialog.7d399731.js";import"./isUndefined.aa0326a0.js";import"./refs.cabac943.js";const v=r=>(G("data-v-4f9d7aed"),r=r(),K(),r),W=["src"],Y={class:"absolute top-0 left-0 w-full h-full flex flex-col justify-center items-center"},ee={class:"text-center text-white mt-[15px] text-[18px] font-bold"},te={class:"flex py-3 ml-[-5px] items-center"},oe={class:"flex-1 ml-3"},se=v(()=>e("div",{class:"text-tx-regular"},"背景图尺寸：430*670",-1)),le={class:""},ae={class:"flex items-center"},re=v(()=>e("div",{class:"text-tx-regular flex-none mr-2"},"标题",-1)),ne={class:"flex items-center"},ie=v(()=>e("div",{class:"text-tx-regular flex-none mr-2"},"描述",-1)),ce=J({__name:"poster",props:{show:{type:Boolean},url:{},apikey:{},shareId:{}},emits:["update:show","update"],setup(r,{emit:g}){const c=r,u=R(c,"show",g),m=`${N}/resource/image/other/ai_share_bg.png`,o=f(m),d=f("快来扫码"),p=f("和我的智能体对话吧"),B=l=>{o.value=l.uri},y=Q(),b=T(()=>`${location.origin}/chat/${c.apikey}`),{lockFn:I,isLock:E}=L(async()=>{try{await M({id:c.shareId,url:o.value}),g("update"),await H(y.value)}catch{return F.msgError("下载失败，请重试"),Promise.reject()}}),S=()=>{o.value=m};return X(()=>c.url,l=>{l?o.value=l:o.value=m}),(l,a)=>{const _=j,U=$,k=D,C=z;return w(),Z(C,{modelValue:t(u),"onUpdate:modelValue":a[2]||(a[2]=n=>h(u)?u.value=n:null),title:"生成海报",width:"400"},{default:i(()=>[e("div",{class:"poster relative",ref_key:"posterRef",ref:y},[t(o)?(w(),q("img",{key:0,class:"object-cover w-full h-full",src:t(o)},null,8,W)):A("",!0),e("div",Y,[s(P,{text:t(b),size:"200",class:"rounded-[10px]",dotScale:"1",margin:"12"},null,8,["text"]),e("div",ee,[e("div",null,V(t(d)),1),e("div",null,V(t(p)),1)])])],512),e("div",te,[s(U,{limit:1,onSuccess:B},{default:i(()=>[s(_,{type:"primary",link:""},{default:i(()=>[x("自定义背景图")]),_:1})]),_:1}),e("div",oe,[s(_,{type:"primary",link:"",onClick:S},{default:i(()=>[x("使用默认图")]),_:1})]),se]),e("div",le,[e("div",ae,[re,s(k,{modelValue:t(d),"onUpdate:modelValue":a[0]||(a[0]=n=>h(d)?d.value=n:null),placeholder:"请输入背景图地址"},null,8,["modelValue"])]),e("div",ne,[ie,s(k,{modelValue:t(p),"onUpdate:modelValue":a[1]||(a[1]=n=>h(p)?p.value=n:null),placeholder:"请输入背景图地址",class:"py-3"},null,8,["modelValue"])])]),e("div",null,[s(_,{type:"primary",size:"large",class:"w-full",loading:t(E),onClick:t(I)},{default:i(()=>[x(" 保存 ")]),_:1},8,["loading","onClick"])])]),_:1},8,["modelValue"])}}});const Ue=O(ce,[["__scopeId","data-v-4f9d7aed"]]);export{Ue as default};
