import{E as k,a as w}from"./el-select.b7a2650e.js";import{m as I,dp as B,dq as F,dr as g,E as P}from"./entry.dfbfd4fd.js";import{E as U,a as q}from"./index.883ed08b.js";import{_ as M}from"./index.e708d765.js";import{P as N}from"./index.e94bc8a7.js";/* empty css               *//* empty css                     *//* empty css                  */import"./el-form-item.4ed993c7.js";/* empty css                */import{k as O,s as m,r as D,H as $,U as h,V as l,J as u,X as o,u as s}from"./swiper-vue.2eb6bd20.js";const j={class:"flex justify-center leading-5 w-[90px] pl-2.5 border-l border-br"},ee=O({__name:"bindmobilePop",emits:["close"],setup(z,{expose:f,emit:G}){const a=m(),_=I(),t=D({mobile:"",code:""}),i=m(),p=m(),b=()=>{a.value.open()},E={mobile:[{required:!0,message:"请输入手机号"}],code:[{required:!0,message:"请输入验证码"}]},v=async()=>{var n,e;await((n=p.value)==null?void 0:n.validateField(["mobile"])),await B({scene:F.BIND_MOBILE,mobile:t.mobile}),(e=i.value)==null||e.start()},V=async()=>{await g({type:"bind",...t}),a.value.close()};return f({open:b}),(n,e)=>{const x=k,y=w,d=P,c=U,C=M,R=q,S=N;return $(),h(S,{ref_key:"popRef",ref:a,title:s(_).userInfo.mobile?"点击更改":"立即绑定",async:"","confirm-button-text":"确认更改",onConfirm:V,onClose:e[2]||(e[2]=r=>n.$emit("close"))},{default:l(()=>[u("div",null,[o(R,{ref_key:"formRef",ref:p,size:"large",model:s(t),rules:E},{default:l(()=>[o(c,{prop:"mobile"},{default:l(()=>[o(d,{modelValue:s(t).mobile,"onUpdate:modelValue":e[0]||(e[0]=r=>s(t).mobile=r),placeholder:"请输入手机号"},{prepend:l(()=>[o(y,{"model-value":"+86",style:{width:"80px"}},{default:l(()=>[o(x,{label:"+86",value:"+86"})]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(c,{prop:"code"},{default:l(()=>[o(d,{modelValue:s(t).code,"onUpdate:modelValue":e[1]||(e[1]=r=>s(t).code=r),placeholder:"请输入验证码"},{suffix:l(()=>[u("div",j,[o(C,{ref_key:"verificationCodeRef",ref:i,onClickGet:v},null,512)])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["title"])}}});export{ee as _};
