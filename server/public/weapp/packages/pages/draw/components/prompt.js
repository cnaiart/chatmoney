"use strict";const e=require("../../../../common/vendor.js"),o=require("../../../../api/draw.js"),r=require("../../../../hooks/useLockFn.js"),u=require("../../../../stores/user.js"),s=require("../../../../common/assets.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../router/index.js"),require("../../../../utils/cache.js"),require("../../../../enums/constantEnums.js"),require("../../../../config/index.js"),require("../../../../utils/client.js"),require("../../../../enums/appEnums.js"),require("../../../../api/user.js"),require("../../../../utils/auth.js"),require("../../../../utils/unique-id.js"),!Array){(e.resolveComponent("u-icon")+e.resolveComponent("l-textarea")+e.resolveComponent("u-form-item")+e.resolveComponent("u-loading"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../../../components/l-textarea/l-textarea.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-form-item/u-form-item.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-loading/u-loading.js")+n)();const n=()=>"./components/keyword-suggestion.js",a=e.defineComponent({__name:"prompt",props:{modelValue:{default:""},negative:{default:""},showTranslate:{type:Boolean,default:!1}},emits:["update:modelValue","update:negative"],setup(n,{emit:a}){const l=n,t=e.shallowRef(),i=e.useRouter(),p=u.useUserStore(),m=e.useVModel(l,"modelValue",a),c=e.useVModel(l,"negative",a),d={1:{label:"描述词",placeholder:"请输入英文描述词，生成效果会更好；描述词越详细，生成的图片效果更加真实哦~ ~"},2:{label:"反向词",placeholder:"输入你希望AI绘制的内容，例如：white hair,sit，这样AI尽可能避免绘制白色的毛发和坐着的姿势"}},f=e.ref("1"),v=e.computed((()=>d[f.value]||{})),j=()=>{p.isLogin||i.navigateTo("/pages/login/login")},{lockFn:q,isLock:g}=r.useLockFn((async()=>{if(!m.value)return e.index.$u.toast("请输入描述词");const r=await o.translate({prompt:m.value});m.value=r.result})),h=async()=>{var e;try{const r=await o.drawingExample();m.value=(null==(e=r[0])?void 0:e.prompt_en)||""}catch(r){console.log("请求绘画示例失败=>",r)}};return(o,r)=>e.e({a:1==f.value},1==f.value?{b:e.p({name:"trash"}),c:e.o((e=>m.value="")),d:e.o(j),e:e.o((o=>e.isRef(m)?m.value=o:null)),f:e.p({rows:4,"custom-class":{background:"#fff",paddingBottom:"70rpx",fontSize:"28rpx",borderRadius:"16rpx 0 0 16rpx"},placeholder:e.unref(v).placeholder,modelValue:e.unref(m)})}:{g:e.p({name:"trash"}),h:e.o((e=>c.value="")),i:e.o(j),j:e.o((o=>e.isRef(c)?c.value=o:null)),k:e.p({rows:4,"custom-class":{background:"#fff",paddingBottom:"70rpx",fontSize:"28rpx",borderRadius:"16rpx 0 0 16rpx"},placeholder:e.unref(v).placeholder,modelValue:e.unref(c)})},{l:e.f(d,((o,r,u)=>({a:e.t(o.label),b:r==f.value?1:"",c:e.o((e=>f.value=r))}))),m:e.p({prop:"title"}),n:e.unref(s.ExampleIcon),o:e.o((o=>{var r;return null==(r=e.unref(t))?void 0:r.open()})),p:n.showTranslate},n.showTranslate?e.e({q:e.unref(g)},e.unref(g)?{r:e.p({mode:"flower",size:"24"})}:{s:e.unref(s.TranslateIcon)},{t:e.o(((...o)=>e.unref(q)&&e.unref(q)(...o)))}):{},{v:e.o(h),w:e.sr(t,"59f4389c-6",{k:"keywordSuggestionRef"}),x:e.o((o=>e.isRef(m)?m.value=o:null)),y:e.p({modelValue:e.unref(m)})})}});wx.createComponent(a);
