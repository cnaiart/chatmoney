import{_ as K}from"./index.vue.403e5f16.js";import{g as W,i as S,b as M,f as N,E as P}from"./entry.df16adda.js";import{E as T,a as L}from"./el-form-item.f85b8636.js";/* empty css                */import{k as x,l as k,I as u,$ as i,T as g,u as c,e as y,as as w,a0 as f,J as $,Z as I,ap as R,s as z,a as O,b as j,n as G,a1 as q,K as b,a4 as A,Y as U,a2 as B,ae as F}from"./swiper-vue.397ea2eb.js";import{b as J,a as Y}from"./el-select.b349f79d.js";import"./el-tag.7a8069da.js";import{E as Z}from"./el-scrollbar.f4d658ff.js";import"./el-popper.89e34564.js";import{_ as h}from"./_plugin-vue_export-helper.c27b6911.js";import{b as H,a as Q}from"./el-radio-group.1cf97d3f.js";/* empty css                        */import{a as X,c as ee}from"./index.6edb46f6.js";import{_ as te}from"./index.vue.a507811b.js";import"./_baseClone.000a3762.js";import"./_getTag.af7a9d71.js";import"./strings.294b5976.js";import"./isEqual.b93d80e7.js";import"./debounce.2369182b.js";import"./useQuery.59804ae0.js";const oe=x({__name:"input",emits:["update:modelValue"],setup(m,{emit:d}){const n=m,s=d,o=k({get(){return n.modelValue},set(e){s("update:modelValue",e)}});return(e,a)=>{const r=W;return u(),i(r,g(n,{modelValue:c(o),"onUpdate:modelValue":a[0]||(a[0]=p=>y(o)?o.value=p:null)}),null,16,["modelValue"])}}}),le=x({__name:"textarea",emits:["update:modelValue"],setup(m,{emit:d}){const n=m,s=d,o=k({get(){return n.modelValue},set(e){s("update:modelValue",e)}});return(e,a)=>{const r=W;return u(),i(r,g(n,{modelValue:c(o),"onUpdate:modelValue":a[0]||(a[0]=p=>y(o)?o.value=p:null),type:"textarea",autosize:e.autosize?{minRows:2}:!1}),null,16,["modelValue","autosize"])}}}),ae=x({__name:"select",props:{defaultValue:{},modelValue:{},options:{default:()=>[]}},emits:["update:modelValue"],setup(m,{emit:d}){const n=m,s=d,o=k({get(){return n.modelValue},set(e){s("update:modelValue",e)}});return w(()=>{n.defaultValue&&(o.value=n.defaultValue)}),(e,a)=>{const r=J,p=Y;return u(),i(p,g(e.$attrs,{modelValue:c(o),"onUpdate:modelValue":a[0]||(a[0]=l=>y(o)?o.value=l:null)}),{default:f(()=>[(u(!0),$(I,null,R(e.options,(l,t)=>(u(),i(r,{key:t,label:l,value:l},null,8,["label","value"]))),128))]),_:1},16,["modelValue"])}}});const ne=h(ae,[["__scopeId","data-v-bf7a521e"]]),se=x({__name:"radio",props:{modelValue:{},options:{},defaultValue:{}},emits:["update:modelValue"],setup(m,{emit:d}){const n=m,s=d,o=k({get(){return n.modelValue},set(e){s("update:modelValue",e)}});return w(()=>{n.defaultValue&&(o.value=n.defaultValue)}),(e,a)=>{const r=H,p=Q;return u(),i(p,g(e.$attrs,{modelValue:c(o),"onUpdate:modelValue":a[0]||(a[0]=l=>y(o)?o.value=l:null)}),{default:f(()=>[(u(!0),$(I,null,R(e.options,(l,t)=>(u(),i(r,{key:t,label:l,name:l},null,8,["label","name"]))),128))]),_:1},16,["modelValue"])}}});const ue=h(se,[["__scopeId","data-v-231e96fe"]]);const re=x({__name:"checkbox",props:{modelValue:{},options:{},defaultValue:{}},emits:["update:modelValue"],setup(m,{emit:d}){const n=m,s=d,o=k({get(){return n.modelValue},set(e){s("update:modelValue",e)}});return w(()=>{n.defaultValue&&(o.value=n.defaultValue)}),(e,a)=>{const r=X,p=ee;return u(),i(p,g(e.$attrs,{modelValue:c(o),"onUpdate:modelValue":a[0]||(a[0]=l=>y(o)?o.value=l:null)}),{default:f(()=>[(u(!0),$(I,null,R(e.options,(l,t)=>(u(),i(r,{key:t,label:l,name:l},null,8,["label","name"]))),128))]),_:1},16,["modelValue"])}}});const me=h(re,[["__scopeId","data-v-71662013"]]),de=Object.freeze(Object.defineProperty({__proto__:null,WidgetCheckbox:me,WidgetInput:oe,WidgetRadio:ue,WidgetSelect:ne,WidgetTextarea:le},Symbol.toStringTag,{value:"Module"})),pe=x({__name:"index",props:{formLists:{default:()=>[]},modelValue:{}},emits:["update:modelValue"],setup(m,{expose:d,emit:n}){const s=m,o=n,e=z(),a=k({get(){return s.modelValue},set(t){o("update:modelValue",t)}}),r=O({}),p=t=>de[t],l=async()=>{var t;await((t=e.value)==null?void 0:t.validate())};return j(()=>s.formLists,async t=>{var E;r.value=t==null?void 0:t.reduce((V,v)=>(a.value[v.props.field]=void 0,v.props.isRequired&&(V[v.props.field]=[{required:!0,message:"必填项不能为空",trigger:"blur"}]),V),{}),await G(),(E=e.value)==null||E.resetFields()},{immediate:!0}),d({validate:l}),(t,E)=>{const V=T,v=L;return u(),i(v,g({ref_key:"formRef",ref:e},s,{rules:c(r),model:c(a)}),{default:f(()=>[(u(!0),$(I,null,R(t.formLists,_=>(u(),i(V,{key:_.id,prop:_.props.field,label:_.props.title},{default:f(()=>[(u(),i(q(p(_.name)),g(_.props,{modelValue:c(a)[_.props.field],"onUpdate:modelValue":D=>c(a)[_.props.field]=D}),null,16,["modelValue","onUpdate:modelValue"]))]),_:2},1032,["prop","label"]))),128))]),_:1},16,["rules","model"])}}}),ie={class:"flex flex-col p-[16px] flex-1"},ce={class:"flex pb-[20px]"},_e={class:"line-clamp-1"},fe={class:"flex-1 min-h-0"},Ve={class:""},ve={class:"flex flex-col justify-center items-center"},be=x({__name:"create-panel",props:{modelData:{},modelValue:{},loading:{type:Boolean},modelKey:{}},emits:["update:modelValue","insert","create","select","update:modelKey"],setup(m,{emit:d}){const n=m,s=d,o=z(),e=S(n,"modelValue",s),a=S(n,"modelKey",s),r=M(),p=async()=>{var l;try{await((l=o.value)==null?void 0:l.validate())}catch{N.msgError("必填项不能为空");return}s("create")};return(l,t)=>{const E=K,V=P,v=pe,_=Z,D=te;return u(),$("div",ie,[b("div",ce,[b("div",{class:"text-lg font-medium flex flex-1 min-w-0 items-center mr-auto",onClick:t[0]||(t[0]=C=>s("select"))},[b("span",_e,A(l.modelData.name),1),c(r).isMobile?(u(),i(E,{key:0,name:"el-icon-CaretBottom"})):U("",!0)]),B(V,{link:"",type:"primary",onClick:t[1]||(t[1]=C=>s("insert"))},{default:f(()=>[F(" 插入示例 ")]),_:1})]),b("div",fe,[B(_,null,{default:f(()=>[b("div",Ve,[B(v,{ref_key:"formDesignerRef",ref:o,modelValue:c(e),"onUpdate:modelValue":t[2]||(t[2]=C=>y(e)?e.value=C:null),"form-lists":l.modelData.form,size:"large"},null,8,["modelValue","form-lists"])])]),_:1})]),b("div",null,[b("div",ve,[B(D,{class:"w-full my-[10px]",modelValue:c(a),"onUpdate:modelValue":t[3]||(t[3]=C=>y(a)?a.value=C:null)},null,8,["modelValue"]),l.modelData.id?(u(),i(V,{key:0,class:"create-btn",loading:l.loading,onClick:p},{default:f(()=>[F(" 智能创作 ")]),_:1},8,["loading"])):U("",!0)])])])}}});const Ne=h(be,[["__scopeId","data-v-3637b0b3"]]);export{Ne as default};
