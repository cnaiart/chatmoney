import{_ as k}from"./index.vue.403e5f16.js";import{E as w}from"./el-upload.397b9616.js";import{_ as I}from"./client-only.6cb320c5.js";import{b as V,bW as S,v as B}from"./entry.df16adda.js";import"./el-progress.598034ee.js";import{k as D,a as E,l as $,s as b,I as n,$ as F,a0 as f,W as N,J as r,a2 as p,S as R,u as d,Y as _,K as v,a3 as U,an as z,ao as W}from"./swiper-vue.397ea2eb.js";import{_ as A}from"./_plugin-vue_export-helper.c27b6911.js";const J=e=>(z("data-v-88ef2a11"),e=e(),W(),e),K={"element-loading-text":"上传中..."},L={key:0,class:"el-upload flex-col"},M=J(()=>v("div",null,"添加图片",-1)),O={key:1,class:"imgContiner relative"},P=["src"],Y=D({__name:"index",props:{modelValue:{type:String,default:""},excludeDomain:{type:Boolean,default:!1},canClose:{type:Boolean,default:!1}},emits:["change","update:modelValue"],setup(e,{emit:h}){const m=h,{getImageUrl:g}=V(),c=e,i=E(!1),o=$({get(){return c.excludeDomain?g(c.modelValue):c.modelValue},set(t){m("update:modelValue",t)}}),u=b(),x=async({raw:t})=>{var s,l;try{i.value=!0;const a=await S({file:t});i.value=!1,o.value=c.excludeDomain?a.url:a.uri,m("change",a.uri),(s=u.value)==null||s.clearFiles()}catch{i.value=!1,(l=u.value)==null||l.clearFiles()}};return(t,s)=>{const l=k,a=w,y=I,C=B;return n(),F(y,null,{default:f(()=>[N((n(),r("div",K,[p(a,{ref_key:"uploadRef",ref:u,class:"avatar-uploader","show-file-list":!1,limit:1,"on-change":x,"auto-upload":!1},{default:f(()=>[R(t.$slots,"default",{},()=>[d(o)?_("",!0):(n(),r("div",L,[p(l,{name:"el-icon-Plus",size:16}),M])),d(o)?(n(),r("div",O,[v("img",{class:"w-[100px] h-[100px] rounded-lg",src:d(o)},null,8,P),e.canClose?(n(),r("div",{key:0,class:"icon absolute top-[-10px] right-[-10px]",onClick:s[0]||(s[0]=U(j=>o.value="",["stop"]))},[p(l,{size:"20",name:"el-icon-CircleCloseFilled"})])):_("",!0)])):_("",!0)],!0)]),_:3},512)])),[[C,d(i)]])]),_:3})}}});const ee=A(Y,[["__scopeId","data-v-88ef2a11"]]);export{ee as _};
