import{E as U}from"./el-page-header.84cac8c8.js";import{E as q,v as A,f as j}from"./entry.df16adda.js";import{E as z,a as H}from"./el-checkbox.033475fe.js";import{_ as J}from"./index.vue.403e5f16.js";import{E as K,a as M,b as W}from"./el-dropdown.becf1ea9.js";import{u as Z,_ as G}from"./index.vue.1307e7a7.js";import"./el-tag.7a8069da.js";import"./el-popper.89e34564.js";import"./el-scrollbar.f4d658ff.js";/* empty css                 */import"./el-tooltip.4ed993c7.js";import{_ as O}from"./create-share.vue.74cda496.js";import{_ as Q}from"./usage-settings.vue.764b0d95.js";import{_ as X}from"./oa-config.vue.0bd80def.js";import{s as Y,t as ee,u as ae,q as te}from"./robot.5da26683.js";import{k as oe,s as w,A as ne,r as se,b as le,I as b,J as ie,a2 as e,K as u,a0 as t,ae as c,u as l,W as re,$ as me,e as pe,Z as ce}from"./swiper-vue.397ea2eb.js";const de={class:"mt-4"},_e={class:"mt-4"},fe={class:"flex items-center"},ue={class:"flex justify-end mt-4"},Ve=oe({__name:"oa",props:{appId:{}},emits:["back"],setup(C,{emit:R}){const h=C,E=R,g=w(),d=w(),y=w(),{appId:$}=ne(h),_=se({robot_id:$,type:3}),{pager:i,getLists:n}=Z({fetchFun:ae,params:_});n();const x=async o=>{await j.confirm("确定删除？"),await te({id:o,type:_.type}),n()},D=(o,a)=>{switch(o){case"delete":x(a.id);break;case"usage":B(a)}},S=async o=>{var a;await Y({...o,..._}),(a=g.value)==null||a.close(),n()},B=o=>{var a,f;(a=d.value)==null||a.open(),(f=d.value)==null||f.setFormData(o)},I=async o=>{var a;await ee({...o,..._}),(a=d.value)==null||a.close(),n()};return le(()=>h.appId,()=>{n()}),(o,a)=>{const f=U,r=q,m=z,V=J,k=K,F=M,L=W,N=H,P=G,T=A;return b(),ie(ce,null,[e(f,{content:"发布公众号",onBack:a[0]||(a[0]=s=>E("back"))}),u("div",de,[e(r,{type:"primary",onClick:a[1]||(a[1]=s=>{var p;return(p=l(g))==null?void 0:p.open()})},{default:t(()=>[c(" 创建链接 ")]),_:1})]),u("div",_e,[re((b(),me(N,{data:l(i).lists,size:"large"},{default:t(()=>[e(m,{label:"apikey",prop:"apikey","min-width":"200"}),e(m,{label:"分享名称",prop:"name","min-width":"180","show-tooltip-when-overflow":""}),e(m,{label:"访问密码",prop:"pwd","min-width":"120"}),e(m,{label:"最后使用时间",prop:"use_time","min-width":"180"}),e(m,{label:"操作","min-width":"150",fixed:"right"},{default:t(({row:s})=>[u("div",fe,[e(r,{type:"primary",link:"",onClick:p=>{var v;return(v=l(y))==null?void 0:v.open(s.apikey)}},{default:t(()=>[c(" 公众号配置 ")]),_:2},1032,["onClick"]),e(L,{class:"ml-[10px]",onCommand:p=>D(p,s)},{dropdown:t(()=>[e(F,null,{default:t(()=>[e(k,{command:"usage"},{default:t(()=>[e(r,{type:"primary",link:""},{default:t(()=>[c(" 用量设置 ")]),_:1})]),_:1}),e(k,{command:"delete"},{default:t(()=>[e(r,{type:"danger",link:""},{default:t(()=>[c(" 删除 ")]),_:1})]),_:1})]),_:1})]),default:t(()=>[e(r,{type:"primary",link:""},{default:t(()=>[c(" 更多 "),e(V,{name:"el-icon-ArrowDown"})]),_:1})]),_:2},1032,["onCommand"])])]),_:1})]),_:1},8,["data"])),[[T,l(i).loading]]),u("div",ue,[e(P,{modelValue:l(i),"onUpdate:modelValue":a[2]||(a[2]=s=>pe(i)?i.value=s:null),onChange:l(n)},null,8,["modelValue","onChange"])])]),e(O,{ref_key:"createShareRef",ref:g,onConfirm:S},null,512),e(Q,{ref_key:"usageSettingsRef",ref:d,onConfirm:I},null,512),e(X,{ref_key:"oaConfigRef",ref:y},null,512)],64)}}});export{Ve as _};
