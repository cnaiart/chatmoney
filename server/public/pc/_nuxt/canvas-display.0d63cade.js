import{e as _,w as n,v as h}from"./entry.df16adda.js";import{k as m,s as w,a as d,E as g,n as y,j as S,W as v,u as c,I as z,J as k,K as u,X as x,a5 as C}from"./swiper-vue.397ea2eb.js";import{u as B}from"./canvas.17c19c8a.js";import{_ as D}from"./_plugin-vue_export-helper.c27b6911.js";import"./useAudioPlay.49014f22.js";import"./unique-id.302803f8.js";import"./file.a6a074d0.js";import"./___vite-browser-external.34bf2328.js";import"./fontfaceobserver.standalone.f1692209.js";const E={class:"canvas-bg"},p="design-canvas",I=m({__name:"canvas-display",setup(R){const e=B(),t=w(null),{width:o}=_(t),s=d(e.defaultSize.height),i=d(!1);n(()=>e.defaultSize,()=>{l()});const l=()=>{o.value>=e.defaultSize.width?s.value=e.defaultSize.height:s.value=o.value*e.defaultSize.height/e.defaultSize.width};return n(o,a=>{l()}),n(s,a=>{if(a){const r=a/e.defaultSize.height;e.setZoom(r)}}),g(async()=>{i.value=!0,await y();try{await e.initCanvas(p,t.value)}finally{i.value=!1}}),S(()=>{var a;(a=e.canvas)==null||a.dispose(),e.$dispose()}),(a,r)=>{const f=h;return v((z(),k("div",{ref_key:"workspaceRef",ref:t,class:"canvas-display overflow-hidden",style:C({height:`${c(s)}px`})},[v(u("div",E,[u("canvas",{id:p})],512),[[x,c(e).canvas]])],4)),[[f,c(i)]])}}});const N=D(I,[["__scopeId","data-v-089e911c"]]);export{N as default};
