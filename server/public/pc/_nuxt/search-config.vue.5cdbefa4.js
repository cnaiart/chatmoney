import{_ as Ne}from"./index.vue.a507811b.js";import{E as Pe}from"./el-form-item.f85b8636.js";import{E as Me}from"./el-input-number.584990b0.js";import{a as xe,E as Te}from"./el-popper.89e34564.js";import{I as ge,P as ne,bC as he,av as se,cg as be,bm as Ee,Q as fe,N as ze,bj as Ie,a6 as Re,M as $e,aJ as we,K as ye,J as Be,Y as Ae,bM as Ye,bc as Fe,T as Ke,i as Ue,bV as Xe,g as We}from"./entry.df16adda.js";import{P as Oe,a as H,E as je,n as de,l as g,s as Ge,i as He,b as ie,k as le,r as Ce,A as ve,I as L,J as Y,a2 as P,a0 as F,K as _,a4 as Je,u as l,_ as U,a5 as ee,G as Se,m as qe,p as Qe,$ as ue,Y as oe,Z as re,ap as me,ae as pe}from"./swiper-vue.397ea2eb.js";import{d as _e}from"./debounce.2369182b.js";import{E as Ze,a as De}from"./el-radio-group.1cf97d3f.js";import"./el-tooltip.4ed993c7.js";/* empty css                 */const Le=Symbol("sliderContextKey"),el=ge({modelValue:{type:ne([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:he,inputSize:he,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:ne(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:ne(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:xe,default:"top"},marks:{type:ne(Object)},validateEvent:{type:Boolean,default:!0}}),ce=e=>fe(e)||Oe(e)&&e.every(fe),ll={[se]:ce,[be]:ce,[Ee]:ce},tl=(e,t,u)=>{const a=H();return je(async()=>{e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(typeof e.modelValue!="number"||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),ze(window,"resize",u),await de(),u()}),{sliderWrapper:a}},al=e=>g(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((u,a)=>u-a).filter(u=>u<=e.max&&u>=e.min).map(u=>({point:u,position:(u-e.min)*100/(e.max-e.min),mark:e.marks[u]})):[]),nl=(e,t,u)=>{const{form:a,formItem:n}=Ie(),c=Ge(),i=H(),b=H(),m={firstButton:i,secondButton:b},d=g(()=>e.disabled||(a==null?void 0:a.disabled)||!1),f=g(()=>Math.min(t.firstValue,t.secondValue)),o=g(()=>Math.max(t.firstValue,t.secondValue)),p=g(()=>e.range?`${100*(o.value-f.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),k=g(()=>e.range?`${100*(f.value-e.min)/(e.max-e.min)}%`:"0%"),N=g(()=>e.vertical?{height:e.height}:{}),V=g(()=>e.vertical?{height:p.value,bottom:k.value}:{width:p.value,left:k.value}),T=()=>{c.value&&(t.sliderSize=c.value[`client${e.vertical?"Height":"Width"}`])},I=v=>{const S=e.min+v*(e.max-e.min)/100;if(!e.range)return i;let B;return Math.abs(f.value-S)<Math.abs(o.value-S)?B=t.firstValue<t.secondValue?"firstButton":"secondButton":B=t.firstValue>t.secondValue?"firstButton":"secondButton",m[B]},x=v=>{const S=I(v);return S.value.setPosition(v),S},R=v=>{t.firstValue=v,y(e.range?[f.value,o.value]:v)},E=v=>{t.secondValue=v,e.range&&y([f.value,o.value])},y=v=>{u(se,v),u(be,v)},w=async()=>{await de(),u(Ee,e.range?[f.value,o.value]:e.modelValue)},J=v=>{var S,B,Q,Z,D,G;if(d.value||t.dragging)return;T();let K=0;if(e.vertical){const M=(Q=(B=(S=v.touches)==null?void 0:S.item(0))==null?void 0:B.clientY)!=null?Q:v.clientY;K=(c.value.getBoundingClientRect().bottom-M)/t.sliderSize*100}else{const M=(G=(D=(Z=v.touches)==null?void 0:Z.item(0))==null?void 0:D.clientX)!=null?G:v.clientX,z=c.value.getBoundingClientRect().left;K=(M-z)/t.sliderSize*100}if(!(K<0||K>100))return x(K)};return{elFormItem:n,slider:c,firstButton:i,secondButton:b,sliderDisabled:d,minValue:f,maxValue:o,runwayStyle:N,barStyle:V,resetSize:T,setPosition:x,emitChange:w,onSliderWrapperPrevent:v=>{var S,B;((S=m.firstButton.value)!=null&&S.dragging||(B=m.secondButton.value)!=null&&B.dragging)&&v.preventDefault()},onSliderClick:v=>{J(v)&&w()},onSliderDown:async v=>{const S=J(v);S&&(await de(),S.value.onButtonDown(v))},setFirstValue:R,setSecondValue:E}},{left:ol,down:sl,right:rl,up:il,home:ul,end:dl,pageUp:ml,pageDown:cl}=Re,fl=(e,t,u)=>{const a=H(),n=H(!1),c=g(()=>t.value instanceof Function),i=g(()=>c.value&&t.value(e.modelValue)||e.modelValue),b=_e(()=>{u.value&&(n.value=!0)},50),m=_e(()=>{u.value&&(n.value=!1)},50);return{tooltip:a,tooltipVisible:n,formatValue:i,displayTooltip:b,hideTooltip:m}},vl=(e,t,u)=>{const{disabled:a,min:n,max:c,step:i,showTooltip:b,precision:m,sliderSize:d,formatTooltip:f,emitChange:o,resetSize:p,updateDragging:k}=He(Le),{tooltip:N,tooltipVisible:V,formatValue:T,displayTooltip:I,hideTooltip:x}=fl(e,f,b),R=H(),E=g(()=>`${(e.modelValue-n.value)/(c.value-n.value)*100}%`),y=g(()=>e.vertical?{bottom:E.value}:{left:E.value}),w=()=>{t.hovering=!0,I()},J=()=>{t.hovering=!1,t.dragging||x()},q=s=>{a.value||(s.preventDefault(),K(s),window.addEventListener("mousemove",M),window.addEventListener("touchmove",M),window.addEventListener("mouseup",z),window.addEventListener("touchend",z),window.addEventListener("contextmenu",z),R.value.focus())},X=s=>{a.value||(t.newPosition=Number.parseFloat(E.value)+s/(c.value-n.value)*100,W(t.newPosition),o())},j=()=>{X(-i.value)},v=()=>{X(i.value)},S=()=>{X(-i.value*4)},B=()=>{X(i.value*4)},Q=()=>{a.value||(W(0),o())},Z=()=>{a.value||(W(100),o())},D=s=>{let h=!0;[ol,sl].includes(s.key)?j():[rl,il].includes(s.key)?v():s.key===ul?Q():s.key===dl?Z():s.key===cl?S():s.key===ml?B():h=!1,h&&s.preventDefault()},G=s=>{let h,$;return s.type.startsWith("touch")?($=s.touches[0].clientY,h=s.touches[0].clientX):($=s.clientY,h=s.clientX),{clientX:h,clientY:$}},K=s=>{t.dragging=!0,t.isClick=!0;const{clientX:h,clientY:$}=G(s);e.vertical?t.startY=$:t.startX=h,t.startPosition=Number.parseFloat(E.value),t.newPosition=t.startPosition},M=s=>{if(t.dragging){t.isClick=!1,I(),p();let h;const{clientX:$,clientY:O}=G(s);e.vertical?(t.currentY=O,h=(t.startY-t.currentY)/d.value*100):(t.currentX=$,h=(t.currentX-t.startX)/d.value*100),t.newPosition=t.startPosition+h,W(t.newPosition)}},z=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||x(),t.isClick||W(t.newPosition),o()},0),window.removeEventListener("mousemove",M),window.removeEventListener("touchmove",M),window.removeEventListener("mouseup",z),window.removeEventListener("touchend",z),window.removeEventListener("contextmenu",z))},W=async s=>{if(s===null||Number.isNaN(+s))return;s<0?s=0:s>100&&(s=100);const h=100/((c.value-n.value)/i.value);let O=Math.round(s/h)*h*(c.value-n.value)*.01+n.value;O=Number.parseFloat(O.toFixed(m.value)),O!==e.modelValue&&u(se,O),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await de(),t.dragging&&I(),N.value.updatePopper()};return ie(()=>t.dragging,s=>{k(s)}),{disabled:a,button:R,tooltip:N,tooltipVisible:V,showTooltip:b,wrapperStyle:y,formatValue:T,handleMouseEnter:w,handleMouseLeave:J,onButtonDown:q,onKeyDown:D,setPosition:W}},gl=(e,t,u,a)=>({stops:g(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const i=(e.max-e.min)/e.step,b=100*e.step/(e.max-e.min),m=Array.from({length:i-1}).map((d,f)=>(f+1)*b);return e.range?m.filter(d=>d<100*(u.value-e.min)/(e.max-e.min)||d>100*(a.value-e.min)/(e.max-e.min)):m.filter(d=>d>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:i=>e.vertical?{bottom:`${i}%`}:{left:`${i}%`}}),bl=(e,t,u,a,n,c)=>{const i=d=>{n(se,d),n(be,d)},b=()=>e.range?![u.value,a.value].every((d,f)=>d===t.oldValue[f]):e.modelValue!==t.oldValue,m=()=>{var d,f;e.min>e.max&&$e("Slider","min should not be greater than max.");const o=e.modelValue;e.range&&Array.isArray(o)?o[1]<e.min?i([e.min,e.min]):o[0]>e.max?i([e.max,e.max]):o[0]<e.min?i([e.min,o[1]]):o[1]>e.max?i([o[0],e.max]):(t.firstValue=o[0],t.secondValue=o[1],b()&&(e.validateEvent&&((d=c==null?void 0:c.validate)==null||d.call(c,"change").catch(p=>we())),t.oldValue=o.slice())):!e.range&&typeof o=="number"&&!Number.isNaN(o)&&(o<e.min?i(e.min):o>e.max?i(e.max):(t.firstValue=o,b()&&(e.validateEvent&&((f=c==null?void 0:c.validate)==null||f.call(c,"change").catch(p=>we())),t.oldValue=o)))};m(),ie(()=>t.dragging,d=>{d||m()}),ie(()=>e.modelValue,(d,f)=>{t.dragging||Array.isArray(d)&&Array.isArray(f)&&d.every((o,p)=>o===f[p])&&t.firstValue===d[0]&&t.secondValue===d[1]||m()},{deep:!0}),ie(()=>[e.min,e.max],()=>{m()})},yl=ge({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:xe,default:"top"}}),Vl={[se]:e=>fe(e)},hl=["tabindex"],wl=le({name:"ElSliderButton"}),Sl=le({...wl,props:yl,emits:Vl,setup(e,{expose:t,emit:u}){const a=e,n=ye("slider"),c=Ce({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:a.modelValue}),{disabled:i,button:b,tooltip:m,showTooltip:d,tooltipVisible:f,wrapperStyle:o,formatValue:p,handleMouseEnter:k,handleMouseLeave:N,onButtonDown:V,onKeyDown:T,setPosition:I}=vl(a,c,u),{hovering:x,dragging:R}=ve(c);return t({onButtonDown:V,onKeyDown:T,setPosition:I,hovering:x,dragging:R}),(E,y)=>(L(),Y("div",{ref_key:"button",ref:b,class:U([l(n).e("button-wrapper"),{hover:l(x),dragging:l(R)}]),style:ee(l(o)),tabindex:l(i)?-1:0,onMouseenter:y[0]||(y[0]=(...w)=>l(k)&&l(k)(...w)),onMouseleave:y[1]||(y[1]=(...w)=>l(N)&&l(N)(...w)),onMousedown:y[2]||(y[2]=(...w)=>l(V)&&l(V)(...w)),onTouchstart:y[3]||(y[3]=(...w)=>l(V)&&l(V)(...w)),onFocus:y[4]||(y[4]=(...w)=>l(k)&&l(k)(...w)),onBlur:y[5]||(y[5]=(...w)=>l(N)&&l(N)(...w)),onKeydown:y[6]||(y[6]=(...w)=>l(T)&&l(T)(...w))},[P(l(Te),{ref_key:"tooltip",ref:m,visible:l(f),placement:E.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":E.tooltipClass,disabled:!l(d),persistent:""},{content:F(()=>[_("span",null,Je(l(p)),1)]),default:F(()=>[_("div",{class:U([l(n).e("button"),{hover:l(x),dragging:l(R)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,hl))}});var ke=Be(Sl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const pl=ge({mark:{type:ne([String,Object]),default:void 0}});var _l=le({name:"ElSliderMarker",props:pl,setup(e){const t=ye("slider"),u=g(()=>Se(e.mark)?e.mark:e.mark.label),a=g(()=>Se(e.mark)?void 0:e.mark.style);return()=>qe("div",{class:t.e("marks-text"),style:a.value},u.value)}});const kl=["id","role","aria-label","aria-labelledby"],xl={key:1},El=le({name:"ElSlider"}),Bl=le({...El,props:el,emits:ll,setup(e,{expose:t,emit:u}){const a=e,n=ye("slider"),{t:c}=Ae(),i=Ce({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:b,slider:m,firstButton:d,secondButton:f,sliderDisabled:o,minValue:p,maxValue:k,runwayStyle:N,barStyle:V,resetSize:T,emitChange:I,onSliderWrapperPrevent:x,onSliderClick:R,onSliderDown:E,setFirstValue:y,setSecondValue:w}=nl(a,i,u),{stops:J,getStopStyle:q}=gl(a,i,p,k),{inputId:X,isLabeledByFormItem:j}=Ye(a,{formItemContext:b}),v=Fe(),S=g(()=>a.inputSize||v.value),B=g(()=>a.label||c("el.slider.defaultLabel",{min:a.min,max:a.max})),Q=g(()=>a.range?a.rangeStartLabel||c("el.slider.defaultRangeStartLabel"):B.value),Z=g(()=>a.formatValueText?a.formatValueText(s.value):`${s.value}`),D=g(()=>a.rangeEndLabel||c("el.slider.defaultRangeEndLabel")),G=g(()=>a.formatValueText?a.formatValueText(h.value):`${h.value}`),K=g(()=>[n.b(),n.m(v.value),n.is("vertical",a.vertical),{[n.m("with-input")]:a.showInput}]),M=al(a);bl(a,i,p,k,u,b);const z=g(()=>{const r=[a.min,a.max,a.step].map(A=>{const te=`${A}`.split(".")[1];return te?te.length:0});return Math.max.apply(null,r)}),{sliderWrapper:W}=tl(a,i,T),{firstValue:s,secondValue:h,sliderSize:$}=ve(i),O=r=>{i.dragging=r};return Qe(Le,{...ve(a),sliderSize:$,disabled:o,precision:z,emitChange:I,resetSize:T,updateDragging:O}),t({onSliderClick:R}),(r,A)=>{var te,Ve;return L(),Y("div",{id:r.range?l(X):void 0,ref_key:"sliderWrapper",ref:W,class:U(l(K)),role:r.range?"group":void 0,"aria-label":r.range&&!l(j)?l(B):void 0,"aria-labelledby":r.range&&l(j)?(te=l(b))==null?void 0:te.labelId:void 0,onTouchstart:A[2]||(A[2]=(...C)=>l(x)&&l(x)(...C)),onTouchmove:A[3]||(A[3]=(...C)=>l(x)&&l(x)(...C))},[_("div",{ref_key:"slider",ref:m,class:U([l(n).e("runway"),{"show-input":r.showInput&&!r.range},l(n).is("disabled",l(o))]),style:ee(l(N)),onMousedown:A[0]||(A[0]=(...C)=>l(E)&&l(E)(...C)),onTouchstart:A[1]||(A[1]=(...C)=>l(E)&&l(E)(...C))},[_("div",{class:U(l(n).e("bar")),style:ee(l(V))},null,6),P(ke,{id:r.range?void 0:l(X),ref_key:"firstButton",ref:d,"model-value":l(s),vertical:r.vertical,"tooltip-class":r.tooltipClass,placement:r.placement,role:"slider","aria-label":r.range||!l(j)?l(Q):void 0,"aria-labelledby":!r.range&&l(j)?(Ve=l(b))==null?void 0:Ve.labelId:void 0,"aria-valuemin":r.min,"aria-valuemax":r.range?l(h):r.max,"aria-valuenow":l(s),"aria-valuetext":l(Z),"aria-orientation":r.vertical?"vertical":"horizontal","aria-disabled":l(o),"onUpdate:modelValue":l(y)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),r.range?(L(),ue(ke,{key:0,ref_key:"secondButton",ref:f,"model-value":l(h),vertical:r.vertical,"tooltip-class":r.tooltipClass,placement:r.placement,role:"slider","aria-label":l(D),"aria-valuemin":l(s),"aria-valuemax":r.max,"aria-valuenow":l(h),"aria-valuetext":l(G),"aria-orientation":r.vertical?"vertical":"horizontal","aria-disabled":l(o),"onUpdate:modelValue":l(w)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):oe("v-if",!0),r.showStops?(L(),Y("div",xl,[(L(!0),Y(re,null,me(l(J),(C,ae)=>(L(),Y("div",{key:ae,class:U(l(n).e("stop")),style:ee(l(q)(C))},null,6))),128))])):oe("v-if",!0),l(M).length>0?(L(),Y(re,{key:2},[_("div",null,[(L(!0),Y(re,null,me(l(M),(C,ae)=>(L(),Y("div",{key:ae,style:ee(l(q)(C.position)),class:U([l(n).e("stop"),l(n).e("marks-stop")])},null,6))),128))]),_("div",{class:U(l(n).e("marks"))},[(L(!0),Y(re,null,me(l(M),(C,ae)=>(L(),ue(l(_l),{key:ae,mark:C.mark,style:ee(l(q)(C.position))},null,8,["mark","style"]))),128))],2)],64)):oe("v-if",!0)],38),r.showInput&&!r.range?(L(),ue(l(Me),{key:0,ref:"input","model-value":l(s),class:U(l(n).e("input")),step:r.step,disabled:l(o),controls:r.showInputControls,min:r.min,max:r.max,debounce:r.debounce,size:l(S),"onUpdate:modelValue":l(y),onChange:l(I)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):oe("v-if",!0)],42,kl)}}});var Cl=Be(Bl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const Ll=Ke(Cl);const Nl={class:"pt-[10px]"},Pl={class:"w-80"},Ml={class:"flex-1 min-w-0"},Tl={class:"w-full flex"},zl={class:"flex-1 max-w-[320px]"},Il=_("div",{class:"form-tips"}," 输入0-1之间的数值，支持3位小数点；高相似度推荐设置0.8以上 ",-1),Rl={class:"flex-1 min-w-0"},$l={class:"w-full flex"},Al={class:"flex-1 max-w-[320px]"},Yl=_("div",{class:"form-tips"},"默认设置为5，请输入0-20之间的整数数值",-1),Fl={class:"w-80"},Ql=le({__name:"search-config",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=Ue(e,"modelValue",t),c=H([]);return(async()=>{const b=await Xe();c.value=b.chatList})(),(b,m)=>{const d=Ne,f=Pe,o=Ll,p=Ze,k=De,N=We;return L(),Y("div",Nl,[P(f,{label:"AI接口",prop:"model"},{default:F(()=>[_("div",Pl,[P(d,{class:"w-full",modelValue:l(n).model,"onUpdate:modelValue":m[0]||(m[0]=V=>l(n).model=V),"set-default":!1},null,8,["modelValue"])])]),_:1}),P(f,{label:"相似度",required:"",prop:"search_similarity"},{default:F(()=>[_("div",Ml,[_("div",Tl,[_("div",zl,[P(o,{min:0,max:1,step:.001,modelValue:l(n).search_similarity,"onUpdate:modelValue":m[1]||(m[1]=V=>l(n).search_similarity=V)},null,8,["modelValue"])])]),Il])]),_:1}),P(f,{label:"单次搜索数量",required:"",prop:"search_limits"},{default:F(()=>[_("div",Rl,[_("div",$l,[_("div",Al,[P(o,{min:0,max:20,modelValue:l(n).search_limits,"onUpdate:modelValue":m[2]||(m[2]=V=>l(n).search_limits=V)},null,8,["modelValue"])])]),Yl])]),_:1}),P(f,{label:"空搜索回复"},{default:F(()=>[P(k,{modelValue:l(n).search_empty_type,"onUpdate:modelValue":m[3]||(m[3]=V=>l(n).search_empty_type=V)},{default:F(()=>[P(p,{label:1},{default:F(()=>[pe(" AI回复 ")]),_:1}),P(p,{label:2},{default:F(()=>[pe(" 自定义回复 ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(n).search_empty_type===2?(L(),ue(f,{key:0},{default:F(()=>[_("div",Fl,[P(N,{modelValue:l(n).search_empty_text,"onUpdate:modelValue":m[4]||(m[4]=V=>l(n).search_empty_text=V),placeholder:"请输入回复内容，当搜索匹配不上内容时，直接回复填写的内容",type:"textarea",autosize:{minRows:6,maxRows:6},maxlength:1e3,"show-word-limit":"",clearable:""},null,8,["modelValue"])])]),_:1})):oe("",!0)])}}});export{Ql as _};
