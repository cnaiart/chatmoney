import{E as R,a as U}from"./el-tabs.bf76dc43.js";import{a as j,b as G}from"./el-radio-group.1cf97d3f.js";import{_ as J}from"./index.4a450666.js";import{E as K}from"./el-image-viewer.ad15677e.js";import{E as F}from"./el-empty.941f3aa6.js";import{E as M}from"./el-scrollbar.f4d658ff.js";import{cr as P,cs as Y,f as Z}from"./entry.df16adda.js";/* empty css                        */import{u as E}from"./asyncData.10050198.js";import{u as q,c as H,I as C}from"./canvas.17c19c8a.js";import{e as Q}from"./empty_con.c05b5110.js";import{k as W,r as X,ah as B,l as w,I as l,J as p,K as s,a2 as d,a0 as m,Z as g,ap as b,u as a,$ as V,Y as ee,ae as te,a4 as ae,_ as T}from"./swiper-vue.397ea2eb.js";import{_ as oe}from"./_plugin-vue_export-helper.c27b6911.js";import"./strings.294b5976.js";import"./index.vue.403e5f16.js";import"./throttle.92cc074e.js";import"./debounce.2369182b.js";import"./position.a44f3ead.js";import"./useAudioPlay.49014f22.js";import"./unique-id.302803f8.js";import"./file.a6a074d0.js";import"./___vite-browser-external.34bf2328.js";import"./fontfaceobserver.standalone.f1692209.js";const se={class:"avatar-select h-full flex flex-col"},ne={class:"px-main"},re={class:"pt-[5px]"},le={class:"flex-1 min-h-0"},ie={class:"p-main"},ce={key:0,class:"flex flex-wrap mx-[-7px]"},pe=["onClick"],de={class:"absolute inset-0"},me=W({__name:"background",async setup(_e){let n,_;const i=q(),v=[{type:1,label:"竖版背景"},{type:2,label:"横版背景"}],r=X({type:1,category_id:0}),{data:I}=([n,_]=B(()=>E(()=>P(),"$kOs1tBC3ke")),n=await n,_(),n),{data:f,refresh:x,pending:N}=([n,_]=B(()=>E(()=>Y(r),"$92jT89Nd84")),n=await n,_(),n),S=async o=>{var t,c,u;if(((t=h.value)==null?void 0:t.type)!==i.defaultSize.resolution){const y=H[(c=h.value)==null?void 0:c.type];(u=i.getCanvasJson())!=null&&u.objects.length&&await Z.confirm("是否确认更改画布尺寸？当前画面所有设置将被重置且无法恢复"),i.changeSize(y),i.initObject()}i.addImage(o.url,C.BACKGROUND,o)},h=w(()=>v.find(o=>o.type===r.type)),z=w(()=>{var t;const o=(t=i.canvasJson.objects)==null?void 0:t.find(c=>c.customType===C.BACKGROUND);return o!=null&&o.data?o.data:null});return(o,t)=>{const c=U,u=R,y=G,D=j,$=J,L=K,A=F,O=M;return l(),p("div",se,[s("div",ne,[s("div",re,[d(u,{modelValue:a(r).type,"onUpdate:modelValue":t[0]||(t[0]=e=>a(r).type=e),onTabChange:t[1]||(t[1]=e=>{f.value=[],a(x)()})},{default:m(()=>[(l(),p(g,null,b(v,e=>d(c,{key:e.type,label:e.label,name:e.type},null,8,["label","name"])),64))]),_:1},8,["modelValue"])]),d($,{"default-height":42,class:"my-[-5px]"},{default:m(()=>[d(D,{modelValue:a(r).category_id,"onUpdate:modelValue":t[2]||(t[2]=e=>a(r).category_id=e),class:"el-radio-group-margin",onChange:t[3]||(t[3]=e=>a(x)())},{default:m(()=>[(l(!0),p(g,null,b(a(I),e=>(l(),V(y,{key:e.id,label:e.id},{default:m(()=>[te(ae(e.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),s("div",le,[d(O,null,{default:m(()=>[s("div",ie,[a(f).length?(l(),p("div",ce,[(l(!0),p(g,null,b(a(f),e=>{var k;return l(),p("div",{key:e.id,class:"w-[50%]"},[s("div",{class:"px-[7px] mb-[14px]",onClick:ue=>S(e)},[s("div",{class:T(["border border-solid border-br-light rounded-md p-[10px] cursor-pointer",{"!border-primary":((k=a(z))==null?void 0:k.id)==e.id}])},[s("div",null,[s("div",{class:T(["pic-wrap h-0 relative",{"pt-[177%]":a(r).type==1,"pt-[56.3%]":a(r).type==2}])},[s("div",de,[d(L,{src:e.url,class:"w-full h-full",fit:"contain",lazy:""},null,8,["src"])])],2)])],2)],8,pe)])}),128))])):a(N)?ee("",!0):(l(),V(A,{key:1,image:a(Q),description:"暂无数据～"},null,8,["image"]))])]),_:1})])])}}});const Re=oe(me,[["__scopeId","data-v-2f480f57"]]);export{Re as default};
