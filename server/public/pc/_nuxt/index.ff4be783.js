import{_ as B}from"./index.vue.403e5f16.js";import{c as F,d as N,b as P,v as $,f as k,E as O}from"./entry.df16adda.js";import{E as U,a as M,b as T}from"./el-dropdown.becf1ea9.js";import{_ as J}from"./index.vue.b9ae65fe.js";import{_ as K}from"./nuxt-link.ee69c354.js";import{u as W,_ as Y}from"./index.vue.1307e7a7.js";import{E as Z}from"./el-scrollbar.f4d658ff.js";import"./el-popper.89e34564.js";import{u as G}from"./asyncData.10050198.js";import{u as H}from"./useLockFn.a803ddfa.js";import{_ as Q}from"./tologin.vue.ee5b8f69.js";import{u as X}from"./recharge.98a08a81.js";import{u as ee}from"./robot.1f59bc2e.js";import{k as te,ah as oe,I as l,J as c,a2 as t,a0 as s,K as e,u as n,W as se,Z as ne,ap as ie,e as ae,Y as h,a4 as re,an as le,ao as ce}from"./swiper-vue.397ea2eb.js";import{_ as de}from"./_plugin-vue_export-helper.c27b6911.js";import"./dropdown.16adff52.js";import"./refs.2a024717.js";import"./el-tooltip.4ed993c7.js";import"./el-select.b349f79d.js";import"./strings.294b5976.js";import"./isEqual.b93d80e7.js";import"./_getTag.af7a9d71.js";import"./debounce.2369182b.js";import"./el-tag.7a8069da.js";import"./el-image-viewer.ad15677e.js";import"./throttle.92cc074e.js";import"./position.a44f3ead.js";import"./robot.5da26683.js";const d=_=>(le("data-v-5b3d5cb5"),_=_(),ce(),_),pe={class:"h-full"},me={class:"p-[20px]"},_e={key:0},ue={class:"flex flex-wrap items-stretch mx-[-10px]"},xe={class:"md:w-1/3 lg:w-1/4 2xl:w-1/5 sm:mb-[20px] mb-[10px] w-full sm:w-1/2 app-item"},fe=d(()=>e("div",{class:"mt-[10px]"},"新增机器人",-1)),he={class:"flex px-[15px] py-[12px]"},ge=d(()=>e("div",{class:"flex-1 text-tx-secondary"},null,-1)),be={class:"flex items-center"},ve=d(()=>e("span",null,"发布机器人",-1)),we={class:"flex items-center"},ye=d(()=>e("span",null,"对话数据",-1)),ke={class:"flex items-center"},Se=d(()=>e("span",null,"删除",-1)),Le={class:"px-[15px] flex flex-col items-center text-center flex-1"},Ce=["src"],Ee={class:"text-2xl mt-[6px] mb-[12px]"},Ie={class:"text-tx-secondary leading-5 h-[60px] line-clamp-3"},Re={class:"flex mt-4 items-center border-t border-solid border-br-light"},De={class:"flex-1 text-tx-regular border-r border-solid border-br-light flex items-center justify-center h-[50px] cursor-pointer hover:text-primary"},je=d(()=>e("div",{class:"ml-[8px]"},"设置机器人",-1)),qe=d(()=>e("div",{class:"ml-[8px]"},"开始对话",-1)),Ve={key:0,class:"flex justify-center mt-4"},ze={key:1},Ae=te({__name:"index",async setup(_){let g,b;X();const p=F(),u=N(),S=P(),m=ee(),{isLock:L,lockFn:v}=H(async()=>{if(!p.isLogin)return p.toggleShowLogin();if(p.userInfo.robot_num<=0)return S.getIsShowRecharge?(await k.confirm("机器人数量已用完，请前往充值"),u.push({path:"/recharge"})):k.msgError("机器人数量已用完。请联系客服增加"),Promise.reject();const i=await m.addRobot();p.getUser(),u.push({path:"/application/robot/setting",query:{id:i}})}),{pager:x,getLists:w}=W({fetchFun:i=>m.getRobot(i)});[g,b]=oe(()=>G(()=>w(),{lazy:!1},"$zNpxe4OqOf")),await g,b();const C=async(i,a)=>{switch(i){case"delete":m.delRobot(a);break;case"release":case"dialogue":u.push({path:"/application/robot/setting",query:{id:a,currentTab:i}})}};return(i,a)=>{const r=B,E=O,f=U,I=M,R=T,D=J,y=K,j=Y,q=Z,V=$;return l(),c("div",pe,[t(q,null,{default:s(()=>[e("div",me,[n(p).isLogin?(l(),c("div",_e,[e("div",ue,[e("div",xe,[se((l(),c("div",{class:"mx-[10px] bg-white h-full rounded-[8px] p-[20px] overflow-hidden flex flex-col justify-center items-center cursor-pointer min-h-[200px]",onClick:a[0]||(a[0]=(...o)=>n(v)&&n(v)(...o))},[t(r,{name:"el-icon-Plus",size:24}),fe])),[[V,n(L)]])]),(l(!0),c(ne,null,ie(n(m).robotLists,(o,z)=>(l(),c("div",{key:z,class:"md:w-1/3 lg:w-1/4 2xl:w-1/5 sm:mb-[20px] mb-[10px] w-full sm:w-1/2 app-item"},[t(y,{to:{path:"/application/robot/setting",query:{id:o.id}},class:"mx-[10px] bg-white h-full rounded-[8px] overflow-hidden relative flex flex-col"},{default:s(()=>[e("div",he,[ge,t(R,{onCommand:A=>C(A,o.id)},{dropdown:s(()=>[t(I,null,{default:s(()=>[t(f,{command:"release"},{default:s(()=>[e("div",be,[t(r,{name:"el-icon-Position"}),ve])]),_:1}),t(f,{command:"dialogue"},{default:s(()=>[e("div",we,[t(r,{name:"el-icon-ChatDotRound"}),ye])]),_:1}),t(f,{command:"delete"},{default:s(()=>[e("div",ke,[t(r,{name:"el-icon-Delete"}),Se])]),_:1})]),_:1})]),default:s(()=>[t(E,{link:"",class:"el-dropdown-link"},{default:s(()=>[t(r,{name:"el-icon-MoreFilled"})]),_:1})]),_:2},1032,["onCommand"])]),e("div",Le,[e("img",{class:"flex-none w-[74px] h-[74px] rounded-full",src:o.image,alt:""},null,8,Ce),e("div",Ee,[t(D,{content:o.name},null,8,["content"])]),e("div",Ie,re(o.intro||"这个机器人还没介绍呢～"),1)]),e("div",Re,[e("div",De,[t(r,{name:"el-icon-Position",size:18}),je]),t(y,{to:{path:"/application/chat",query:{id:o.id}},class:"flex-1 text-tx-regular flex items-center justify-center h-[50px] cursor-pointer hover:text-primary"},{default:s(()=>[t(r,{name:"el-icon-ChatLineSquare",size:18}),qe]),_:2},1032,["to"])])]),_:2},1032,["to"])]))),128))]),n(m).robotLists.length?(l(),c("div",Ve,[t(j,{modelValue:n(x),"onUpdate:modelValue":a[1]||(a[1]=o=>ae(x)?x.value=o:null),"hide-on-single-page":"",layout:"total, prev, pager, next, jumper",onChange:n(w)},null,8,["modelValue","onChange"])])):h("",!0)])):h("",!0),n(p).isLogin?h("",!0):(l(),c("div",ze,[t(Q)]))])]),_:1})])}}});const dt=de(Ae,[["__scopeId","data-v-5b3d5cb5"]]);export{dt as default};
