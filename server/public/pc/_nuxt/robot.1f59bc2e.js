import{y as i,f as e}from"./entry.df16adda.js";import{b as a,d as n,p as r,e as d,f as b,h,i as S,j as c}from"./robot.5da26683.js";const I=i({id:"robot",state:()=>({robotId:"",robotLists:[],sessionId:"",sessionLists:[]}),getters:{getCurrentSession:s=>s.sessionLists.find(t=>String(t.id)===s.sessionId)||{},getCurrentApp:s=>s.robotLists.find(t=>String(t.id)===s.robotId)||{}},actions:{setRobotId(s=""){this.robotId=String(s)},async getRobot(s){s=s||{page_type:0};const t=await a(s);if(this.robotLists=t.lists,this.robotLists.length>0){const[o]=this.robotLists;this.setRobotId(o.id)}return t},async delRobot(s){await e.confirm("确定删除？"),await n({id:s}),await this.getRobot()},async addRobot(){const{id:s}=await r();return this.setRobotId(s),s},setSessionId(s=""){this.sessionId=String(s)},setSessionSelect(s){s||([s]=this.sessionLists),this.setSessionId((s==null?void 0:s.id)||"")},async getSessionLists(){const s=await d({robot_id:this.robotId});return this.sessionLists=s,this.sessionLists},async sessionAdd(){await b({robot_id:this.robotId}),await this.getSessionLists(),this.setSessionSelect()},async sessionEdit(s){await h({...s,robot_id:this.robotId}),await this.getSessionLists()},async sessionClear(){await S({robot_id:this.robotId}),await this.getSessionLists(),this.setSessionSelect()},async sessionDelete(s){await c({id:s,robot_id:this.robotId}),await this.getSessionLists(),this.setSessionSelect()}}});export{I as u};
