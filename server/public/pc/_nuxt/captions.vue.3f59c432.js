import{G as B,k as $,g as X,l as y,a as z,b as _,E as Z,I as c,J as S,K as T,u as t,_ as b,ad as ee,$ as k,a0 as g,a1 as F,Y as h,a4 as j,a2 as I,a5 as H,a3 as te,n as ae,aI as R,r as oe,w as ne,j as se}from"./swiper-vue.397ea2eb.js";import{I as ie,ac as L,P as le,bn as re,av as D,ae as P,Q as A,bm as U,cg as K,bj as ce,bc as ue,K as de,as as fe,bM as ve,aD as me,R as pe,aJ as be,F as E,bD as he,J as ye,M as Se,T as ke}from"./entry.df16adda.js";import{E as ge,a as Ce}from"./el-form-item.f85b8636.js";import{E as Ie}from"./el-scrollbar.f4d658ff.js";/* empty css                */import{l as Te}from"./lodash.9425e068.js";import{u as _e,T as N}from"./canvas.17c19c8a.js";import{_ as we}from"./text-setting.vue.171b8dec.js";const Ve=ie({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:L},inactiveIcon:{type:L},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:le(Function)},size:{type:String,validator:re},tabindex:{type:[String,Number]}}),Ee={[D]:u=>P(u)||B(u)||A(u),[U]:u=>P(u)||B(u)||A(u),[K]:u=>P(u)||B(u)||A(u)},Ne=["onClick"],Pe=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Oe=["aria-hidden"],Be=["aria-hidden"],ze=["aria-hidden"],M="ElSwitch",Fe=$({name:M}),je=$({...Fe,props:Ve,emits:Ee,setup(u,{expose:l,emit:n}){const o=u,O=X(),{formItem:C}=ce(),w=ue(),a=de("switch");fe({from:'"value"',replacement:'"model-value" or "v-model"',scope:M,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},y(()=>{var e;return!!((e=O.vnode.props)!=null&&e.value)}));const{inputId:s}=ve(o,{formItemContext:C}),i=me(y(()=>o.loading)),d=z(o.modelValue!==!1),v=z(),p=z(),r=y(()=>[a.b(),a.m(w.value),a.is("disabled",i.value),a.is("checked",f.value)]),Q=y(()=>({width:pe(o.width)}));_(()=>o.modelValue,()=>{d.value=!0}),_(()=>o.value,()=>{d.value=!1});const x=y(()=>d.value?o.modelValue:o.value),f=y(()=>x.value===o.activeValue);[o.activeValue,o.inactiveValue].includes(x.value)||(n(D,o.inactiveValue),n(U,o.inactiveValue),n(K,o.inactiveValue)),_(f,e=>{var m;v.value.checked=e,o.validateEvent&&((m=C==null?void 0:C.validate)==null||m.call(C,"change").catch(q=>be()))});const V=()=>{const e=f.value?o.inactiveValue:o.activeValue;n(D,e),n(U,e),n(K,e),ae(()=>{v.value.checked=f.value})},J=()=>{if(i.value)return;const{beforeChange:e}=o;if(!e){V();return}const m=e();[R(m),P(m)].includes(!0)||Se(M,"beforeChange must return type `Promise<boolean>` or `boolean`"),R(m)?m.then(G=>{G&&V()}).catch(G=>{}):m&&V()},W=y(()=>a.cssVarBlock({...o.activeColor?{"on-color":o.activeColor}:null,...o.inactiveColor?{"off-color":o.inactiveColor}:null,...o.borderColor?{"border-color":o.borderColor}:null})),Y=()=>{var e,m;(m=(e=v.value)==null?void 0:e.focus)==null||m.call(e)};return Z(()=>{v.value.checked=f.value}),l({focus:Y,checked:f}),(e,m)=>(c(),S("div",{class:b(t(r)),style:H(t(W)),onClick:te(J,["prevent"])},[T("input",{id:t(s),ref_key:"input",ref:v,class:b(t(a).e("input")),type:"checkbox",role:"switch","aria-checked":t(f),"aria-disabled":t(i),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:t(i),tabindex:e.tabindex,onChange:V,onKeydown:ee(J,["enter"])},null,42,Pe),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(c(),S("span",{key:0,class:b([t(a).e("label"),t(a).em("label","left"),t(a).is("active",!t(f))])},[e.inactiveIcon?(c(),k(t(E),{key:0},{default:g(()=>[(c(),k(F(e.inactiveIcon)))]),_:1})):h("v-if",!0),!e.inactiveIcon&&e.inactiveText?(c(),S("span",{key:1,"aria-hidden":t(f)},j(e.inactiveText),9,Oe)):h("v-if",!0)],2)):h("v-if",!0),T("span",{ref_key:"core",ref:p,class:b(t(a).e("core")),style:H(t(Q))},[e.inlinePrompt?(c(),S("div",{key:0,class:b(t(a).e("inner"))},[e.activeIcon||e.inactiveIcon?(c(),k(t(E),{key:0,class:b(t(a).is("icon"))},{default:g(()=>[(c(),k(F(t(f)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(c(),S("span",{key:1,class:b(t(a).is("text")),"aria-hidden":!t(f)},j(t(f)?e.activeText:e.inactiveText),11,Be)):h("v-if",!0)],2)):h("v-if",!0),T("div",{class:b(t(a).e("action"))},[e.loading?(c(),k(t(E),{key:0,class:b(t(a).is("loading"))},{default:g(()=>[I(t(he))]),_:1},8,["class"])):h("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(c(),S("span",{key:1,class:b([t(a).e("label"),t(a).em("label","right"),t(a).is("active",t(f))])},[e.activeIcon?(c(),k(t(E),{key:0},{default:g(()=>[(c(),k(F(e.activeIcon)))]),_:1})):h("v-if",!0),!e.activeIcon&&e.activeText?(c(),S("span",{key:1,"aria-hidden":!t(f)},j(e.activeText),9,ze)):h("v-if",!0)],2)):h("v-if",!0)],14,Ne))}});var Ae=ye(je,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const De=ke(Ae);const Ue={class:"avatar-select h-full flex flex-col"},Ke={class:"flex-1 min-h-0"},Me={class:"h-full"},$e={class:"p-main"},Ye=$({__name:"captions",setup(u){const l=_e(),n=oe({status:0,fontSize:64,fontFamily:"Alibaba PuHuiTi",fill:"#ffffff",stroke:""}),o=y(()=>{var a;return((a=l.activeObject)==null?void 0:a.customType)===N.CAPTIONS}),O=a=>{var s,i;if(a)l.addText("此处是字幕",N.CAPTIONS,n);else{const d=(s=l.canvas)==null?void 0:s.getObjects(),v=d==null?void 0:d.find(p=>p.customType===N.CAPTIONS);(i=l.canvas)==null||i.remove(v)}};_(()=>l.activeObject,a=>{var s;if(o.value)for(const i in n)n[i]=(s=a==null?void 0:a.data)==null?void 0:s[i]},{immediate:!0});const C=["fontSize","fontFamily","fill","stroke"];_(()=>n,a=>{var i,d,v;if(!o.value)return;for(const p in n)if(C.includes(p)){let r=a[p];p==="fontSize"&&(r=l.calcFontSize(r)),(i=l.activeObject)==null||i.set(p,r)}const s=Te.cloneDeep(n);(d=l.activeObject)==null||d.set("data",s),(v=l.canvas)==null||v.renderAll()},{deep:!0});const w=()=>{var i;const a=(i=l.canvas)==null?void 0:i.getObjects();(a==null?void 0:a.find(d=>d.customType===N.CAPTIONS))?n.status=1:n.status=0};return ne(()=>{var a;l.canvas&&((a=l.canvas)==null||a.on("object:removed",w))}),se(()=>{var a;(a=l.canvas)==null||a.off("object:removed",w)}),(a,s)=>{const i=De,d=ge,v=Ce,p=Ie;return c(),S("div",Ue,[T("div",Ke,[T("div",Me,[I(p,null,{default:g(()=>[T("div",$e,[I(v,null,{default:g(()=>[I(d,{label:"字幕显示"},{default:g(()=>[I(i,{modelValue:t(n).status,"onUpdate:modelValue":s[0]||(s[0]=r=>t(n).status=r),"inline-prompt":"","active-value":1,"inactive-value":0,"active-text":"开启","inactive-text":"关闭",onChange:O},null,8,["modelValue"])]),_:1}),I(we,{font:t(n).fontFamily,"onUpdate:font":s[1]||(s[1]=r=>t(n).fontFamily=r),"font-size":t(n).fontSize,"onUpdate:fontSize":s[2]||(s[2]=r=>t(n).fontSize=r),"font-color":t(n).fill,"onUpdate:fontColor":s[3]||(s[3]=r=>t(n).fill=r),"stroke-color":t(n).stroke,"onUpdate:strokeColor":s[4]||(s[4]=r=>t(n).stroke=r)},null,8,["font","font-size","font-color","stroke-color"])]),_:1})])]),_:1})])])])}}});export{Ye as _};
