import{_ as z}from"./index.vue.403e5f16.js";import{b as F,E as T}from"./entry.df16adda.js";import{k as I,I as a,J as c,K as o,S as L,a5 as M,a as i,l as U,E as J,a2 as f,Z as C,ap as D,u as n,a0 as w,ae as K,Y as O,_ as W,a4 as B,W as X,X as Y,$ as Z,a1 as j,an as q,ao as G,r as H}from"./swiper-vue.397ea2eb.js";import{_ as V}from"./_plugin-vue_export-helper.c27b6911.js";import{ImportTypeEnum as y}from"./hook.d7b4f5cd.js";import P from"./cvs.481bc13e.js";import R from"./doc.02c44e21.js";import tt from"./QASplit.faa1e9d5.js";import{g as et}from"./my_database.5da0ead6.js";import"./el-upload.397b9616.js";import"./el-progress.598034ee.js";import"./cloneDeep.8862a013.js";import"./_baseClone.000a3762.js";import"./_getTag.af7a9d71.js";import"./isEqual.b93d80e7.js";import"./el-scrollbar.f4d658ff.js";import"./fileReader.15642605.js";import"./___vite-browser-external.34bf2328.js";import"./el-popper.89e34564.js";import"./el-tooltip.4ed993c7.js";const ot={class:"footer-btns"},st=I({__name:"index",props:{fixed:{type:Boolean,default:!0}},setup(s){return(d,v)=>(a(),c("div",ot,[o("div",{class:"footer-btns__content",style:M(s.fixed?"position: fixed":"")},[L(d.$slots,"default",{},void 0,!0)],4)]))}});const at=V(st,[["__scopeId","data-v-4b8d4336"]]),nt=s=>(q("data-v-8918cac2"),s=s(),G(),s),ct={class:"h-full flex flex-col relative"},rt={class:"pb-[20px] flex items-center font-bold cursor-pointer"},it=nt(()=>o("span",{class:"ml-2"},"文件导入",-1)),pt={class:"flex"},lt=["onClick"],dt={class:"text-info text-[14px]"},mt={class:"flex-1"},_t={key:0},ut=I({__name:"importData",props:{id:{type:Number,default:0},type:{type:String,default:""}},emits:["success","back"],setup(s,{emit:d}){const v=F(),g=d,x=s,p=i(0),$=i([]),A=i([]),E=i([]);i([]);const r=U(()=>H([{name:"文档导入",type:y.DOC,describe:"选择文本文件，直接将其按分段进行处理",component:R,show:!0,data:$},{name:"QA问答拆分",type:y.QASplit,describe:"选择文本文件，让大模型自动生成问答对",component:tt,show:!0,data:E},{name:"问答对导入",type:y.CVS,describe:"批量导入问答对，是最精准的数据",component:P,show:!0,data:A}]).filter(({show:l})=>l)),h=e=>{p.value=e},N=()=>{h(r.value[0].type)},Q=async()=>{const e=r.value.find(({type:u})=>u===p.value);console.log(e==null?void 0:e.data);const{data:l,type:m}=e,_={kb_id:x.id,method:m,documents:l};await et({..._}),b()},b=()=>{g("back")};return J(()=>{N()}),(e,l)=>{const m=z,_=T,u=at;return a(),c("div",ct,[o("div",rt,[o("div",{onClick:b,class:"flex items-center"},[f(m,{name:"el-icon-Back",size:"16"}),it])]),o("div",pt,[(a(!0),c(C,null,D(n(r),(t,S)=>(a(),c("div",{key:S,class:W(["unselect w-[290px] py-[16px] text-center rounded-md cursor-pointer mr-4",{isselect:t.type==n(p)}]),onClick:k=>h(t.type)},[o("div",null,B(t.name),1),o("div",dt,B(t.describe),1)],10,lt))),128))]),o("div",mt,[(a(!0),c(C,null,D(n(r),(t,S)=>X((a(),Z(j(t.component),{key:t.type,modelValue:t.data,"onUpdate:modelValue":k=>t.data=k,type:x.type},null,8,["modelValue","onUpdate:modelValue","type"])),[[Y,t.type==n(p)]])),128))]),n(r).length>0?(a(),c("div",_t,[f(u,{fixed:!n(v).isMobile},{default:w(()=>[f(_,{type:"primary",onClick:Q},{default:w(()=>[K(" 保存 ")]),_:1})]),_:1},8,["fixed"])])):O("",!0)])}}});const zt=V(ut,[["__scopeId","data-v-8918cac2"]]);export{zt as default};
