import{E as I,a as R}from"./el-radio-group.1cf97d3f.js";import{E as N,a as U}from"./el-form-item.f85b8636.js";import{cb as D,f as S,g as j,E as A,v as $}from"./entry.df16adda.js";import{_ as z}from"./index.vue.403e5f16.js";import{E as G}from"./el-upload.397b9616.js";/* empty css                 */import"./el-progress.598034ee.js";/* empty css                */import{u as J}from"./canvas.17c19c8a.js";import{k as K,s as L,a as M,I as c,J as C,a2 as t,a0 as a,u as o,ae as u,$ as m,Y as p,K as n,W as T,a4 as x}from"./swiper-vue.397ea2eb.js";const W={class:"bg-white rounded-[10px] p-main h-[420px]"},Y={class:"flex-1"},q={class:"el-upload__text flex items-center justify-center"},H=n("em",null," 选择文件 ",-1),O={key:0,class:"mt-[10px]"},P={class:"flex flex-col items-center justify-center"},Q={class:"flex mt-[10px] items-center"},X={class:"scale-90"},Z=["src"],h=".wav,.mp3",de=K({__name:"center-setting",setup(ee){const e=J(),f=L(),r=M(!1),y=i=>{},E=async({raw:i})=>{var l;try{if(i){r.value=!0;const s=await D("audio",{file:i,data:{use_type:2}});e.voiceContent.voice_url=s.uri,e.voiceContent.voice_name=s.name}}catch(s){S.msgError(s)}finally{r.value=!1,(l=f.value)==null||l.clearFiles()}},g=()=>{e.voiceContent.voice_url="",e.voiceContent.voice_name=""};return(i,l)=>{const s=I,k=R,_=N,V=j,v=z,w=G,B=A,b=U,F=$;return c(),C("div",W,[t(b,null,{default:a(()=>[t(_,{label:"播报内容"},{default:a(()=>[t(k,{modelValue:o(e).voiceContent.type,"onUpdate:modelValue":l[0]||(l[0]=d=>o(e).voiceContent.type=d),onChange:y},{default:a(()=>[t(s,{label:1},{default:a(()=>[u("文本输入")]),_:1}),t(s,{label:2},{default:a(()=>[u("音频输入")]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(e).voiceContent.type==1?(c(),m(_,{key:0},{default:a(()=>[t(V,{modelValue:o(e).voiceContent.text,"onUpdate:modelValue":l[1]||(l[1]=d=>o(e).voiceContent.text=d),type:"textarea",rows:15,resize:"none",placeholder:"请输入播报内容..."},null,8,["modelValue"])]),_:1})):p("",!0),o(e).voiceContent.type==2?(c(),m(_,{key:1},{default:a(()=>[n("div",Y,[T((c(),m(w,{ref_key:"uploadRef",ref:f,drag:"","on-change":E,"auto-upload":!1,"show-file-list":!1,accept:h},{default:a(()=>[n("div",q,[t(v,{name:"el-icon-Upload"}),u(" 拖拽文件至此，或点击"),H]),n("div",{class:"el-upload__text"}," 音频支持："+x(h)+"格式，时长不超过30分钟， 大小不超过50MB ")]),_:1})),[[F,o(r)]]),o(e).voiceContent.voice_url?(c(),C("div",O,[n("div",P,[n("div",null,x(o(e).voiceContent.voice_name),1),n("div",Q,[n("div",X,[n("audio",{src:o(e).voiceContent.voice_url,controls:""},null,8,Z)]),t(B,{link:"",onClick:g},{default:a(()=>[t(v,{name:"el-icon-Delete"})]),_:1})])])])):p("",!0)])]),_:1})):p("",!0)]),_:1})])}}});export{de as _};
