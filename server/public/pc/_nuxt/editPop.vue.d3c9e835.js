import{g as V,E as k}from"./entry.df16adda.js";import{_ as b}from"./index.vue.403e5f16.js";import{_ as D}from"./index.7225eed5.js";import{_ as P}from"./index.34adc8c7.js";import{m as U,n as B,o as C}from"./my_database.5da0ead6.js";import{k as E,s as I,a as d,b as $,I as h,$ as q,a0 as i,K as u,a2 as l,u as a,ae as N}from"./swiper-vue.397ea2eb.js";const R={class:"mt-4"},O={class:"mt-4"},j=u("div",{class:"el-upload__tip"}," 支持上传PDF、docx、excel、等文件格式 ",-1),L=E({__name:"editPop",emits:["success","close"],setup(z,{expose:r,emit:_}){const c=_,m=I(),f=d(),e=d({kb_id:"",fd_id:"",question:"",answer:"",files:[],images:[],uuid:""});$(()=>f.value,o=>{e.value.images=o.map(({url:t,name:n})=>({url:t,name:n}))});const v=async()=>{console.log(e.value),e.value.uuid?await U({...e.value}):await B({...e.value}),c("success")},w=async()=>{const o=await C({uuid:e.value.uuid});Object.keys(e.value).map(t=>{e.value[t]=o[t]}),console.log(e.value)};return r({open:o=>{m.value.open(),[e.value.kb_id,e.value.fd_id,e.value.uuid]=[o.kb_id,o.fd_id,o.uuid||""],o.hasOwnProperty("uuid")&&w()}}),(o,t)=>{const n=V,x=b,p=D,y=k,g=P;return h(),q(g,{ref_key:"popRef",ref:m,title:"录入数据",width:"800px",async:"",onConfirm:v,onClose:t[4]||(t[4]=s=>o.$emit("close"))},{default:i(()=>[u("div",null,[l(n,{modelValue:a(e).question,"onUpdate:modelValue":t[0]||(t[0]=s=>a(e).question=s),type:"textarea",placeholder:"请输入文档内容，你可以理解为提问的问题（必填）",rows:"5"},null,8,["modelValue"]),l(n,{modelValue:a(e).answer,"onUpdate:modelValue":t[1]||(t[1]=s=>a(e).answer=s),class:"mt-4",type:"textarea",placeholder:"请填入补充内容，你可以理解为问题的答案",rows:"5"},null,8,["modelValue"]),u("div",R,[l(p,{files:a(e).images,"onUpdate:files":t[2]||(t[2]=s=>a(e).images=s),type:"image","list-type":"picture-card",limit:9,multiple:"","show-file-list":""},{default:i(()=>[l(x,{name:"el-icon-Plus",size:20})]),_:1},8,["files"])]),u("div",O,[l(p,{files:a(e).files,"onUpdate:files":t[3]||(t[3]=s=>a(e).files=s),type:"file","show-file-list":""},{tip:i(()=>[j]),default:i(()=>[l(y,null,{default:i(()=>[N("上传附件")]),_:1})]),_:1},8,["files"])])])]),_:1},512)}}});export{L as _};
