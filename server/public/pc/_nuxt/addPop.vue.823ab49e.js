import{g as E}from"./entry.df16adda.js";import{E as R,a as h}from"./el-form-item.f85b8636.js";import{_ as D}from"./index.vue.a507811b.js";import{_ as I}from"./index.a1e489de.js";import{_ as K}from"./index.34adc8c7.js";/* empty css                */import{b as P,s as B,a as C}from"./my_database.5da0ead6.js";import{k as F,s as _,a as c,r as f,I as $,$ as A,a0 as d,a2 as o,u as l,K as g}from"./swiper-vue.397ea2eb.js";const L=g("div",{class:"form-tips"},"建议尺寸：200*160px",-1),T=F({__name:"addPop",emits:["close","success"],setup(N,{expose:b,emit:w}){const V=w,u=_(),i=_(),m=c(-1),a=f({name:"",image:"",intro:"",documents_model:"",embedding_model:""});c([]);const v=f({name:[{required:!0,message:"请输入库的名称",trigger:"change"}],image:[{required:!0,message:"请选择封面图标",trigger:"change"}],type:[{required:!0,message:"Please select Activity zone",trigger:"change"}],documents_model:[{required:!0,message:"请选择文件处理模型"}],embedding_model:[{required:!0,message:"请选择向量模型"}],sort:[{required:!0,message:"请输入排序",trigger:"change"}],is_enable:[{required:!0,message:"请选择库的状态",trigger:"change"}]}),x=async()=>{var t;await((t=i.value)==null?void 0:t.validate()),m.value!=-1?await P({id:m.value,...a}):await B({...a}),V("success"),u.value.close()},y=async t=>{const e=await C({id:t});Object.keys(e).map(n=>{a[n]=e[n]})};return b({open:async t=>{var e;(e=i.value)==null||e.resetFields(),m.value=-1,u.value.open(),t!=null&&t.id&&(m.value=t.id,await y(m.value))}}),(t,e)=>{const n=E,r=R,p=D,k=I,q=h,U=K;return $(),A(U,{ref_key:"popRef",ref:u,title:`${l(m)!=-1?"编辑":"新增"}知识库`,width:"500px",async:"",onConfirm:x},{default:d(()=>[o(q,{ref_key:"formRef",ref:i,"label-width":"110px",model:l(a),rules:l(v)},{default:d(()=>[o(r,{label:"知识库名称",prop:"name"},{default:d(()=>[o(n,{modelValue:l(a).name,"onUpdate:modelValue":e[0]||(e[0]=s=>l(a).name=s),placeholder:"请输入知识库名称",class:"w-[240px]"},null,8,["modelValue"])]),_:1}),o(r,{label:"知识库简介"},{default:d(()=>[o(n,{type:"textarea",modelValue:l(a).intro,"onUpdate:modelValue":e[1]||(e[1]=s=>l(a).intro=s),placeholder:"请用一句话描述知识库",class:"w-[240px]",rows:3},null,8,["modelValue"])]),_:1}),o(r,{label:"向量模型",prop:"embedding_model"},{default:d(()=>[o(p,{class:"flex-1",type:"embList",modelValue:l(a).embedding_model,"onUpdate:modelValue":e[2]||(e[2]=s=>l(a).embedding_model=s),"set-default":!1,disabled:l(m)!=-1},null,8,["modelValue","disabled"])]),_:1}),o(r,{label:"文件处理模型",prop:"documents_model"},{default:d(()=>[o(p,{class:"flex-1",type:"chatList",modelValue:l(a).documents_model,"onUpdate:modelValue":e[3]||(e[3]=s=>l(a).documents_model=s),"set-default":!1},null,8,["modelValue"])]),_:1}),o(r,{label:"封面",prop:"image"},{default:d(()=>[g("div",null,[o(k,{modelValue:l(a).image,"onUpdate:modelValue":e[4]||(e[4]=s=>l(a).image=s)},null,8,["modelValue"]),L])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])}}});export{T as _};
